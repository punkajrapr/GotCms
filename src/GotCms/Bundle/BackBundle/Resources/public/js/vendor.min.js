(function(ft,fo,eZ){function fx(n){return function(){var q=arguments[0],x;x="["+(n?n+":":"")+q+"] http://errors.angularjs.org/1.5.0/"+(n?n+"/":"")+q;for(q=1;q<arguments.length;q++){x=x+(1==q?"?":"&")+"p"+(q-1)+"=";var y=encodeURIComponent,v;v=arguments[q];v="function"==typeof v?v.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof v?"undefined":"string"!=typeof v?JSON.stringify(v):v;x+=y(v)}return Error(x)}}function aH(q){if(null==q||a8(q)){return !1}if(fv(q)||fB(q)||fH&&q instanceof fH){return !0}var n="length" in Object(q)&&q.length;return fu(n)&&(0<=n&&(n-1 in q||q instanceof Array)||"function"==typeof q.item)}function e1(q,n,y){var B,x;if(q){if(fF(q)){for(B in q){"prototype"==B||"length"==B||"name"==B||q.hasOwnProperty&&!q.hasOwnProperty(B)||n.call(y,q[B],B,q)}}else{if(fv(q)||aH(q)){var v="object"!==typeof q;B=0;for(x=q.length;B<x;B++){(v||B in q)&&n.call(y,q[B],B,q)}}else{if(q.forEach&&q.forEach!==e1){q.forEach(n,y,q)}else{if(bD(q)){for(B in q){n.call(y,q[B],B,q)}}else{if("function"===typeof q.hasOwnProperty){for(B in q){q.hasOwnProperty(B)&&n.call(y,q[B],B,q)}}else{for(B in q){a2.call(q,B)&&n.call(y,q[B],B,q)}}}}}}}return q}function br(q,n,x){for(var y=Object.keys(q).sort(),v=0;v<y.length;v++){n.call(x,q[y[v]],y[v])}return y}function a0(n){return function(q,v){n(v,q)}}function bw(){return ++bR}function dw(H,G,E){for(var F=H.$$hashKey,D=0,C=G.length;D<C;++D){var B=G[D];if(fD(B)||fF(B)){for(var y=Object.keys(B),x=0,v=y.length;x<v;x++){var q=y[x],n=B[q];E&&fD(n)?fp(n)?H[q]=new Date(n.valueOf()):ck(n)?H[q]=new RegExp(n):n.nodeName?H[q]=n.cloneNode(!0):dh(n)?H[q]=n.clone():(fD(H[q])||(H[q]=fv(n)?[]:{}),dw(H[q],[n],!0)):H[q]=n}}}F?H.$$hashKey=F:delete H.$$hashKey;return H}function fr(n){return dw(n,I.call(arguments,1),!1)}function a5(n){return dw(n,I.call(arguments,1),!0)}function e8(n){return parseInt(n,10)}function cW(q,n){return fr(Object.create(q),n)}function fJ(){}function f1(n){return n}function fI(n){return function(){return n}}function aM(n){return fF(n.toString)&&n.toString!==d5}function eY(n){return"undefined"===typeof n}function eW(n){return"undefined"!==typeof n}function fD(n){return null!==n&&"object"===typeof n}function bD(n){return null!==n&&"object"===typeof n&&!ay(n)}function fB(n){return"string"===typeof n}function fu(n){return"number"===typeof n}function fp(n){return"[object Date]"===d5.call(n)}function fF(n){return"function"===typeof n}function ck(n){return"[object RegExp]"===d5.call(n)}function a8(n){return n&&n.window===n}function fG(n){return n&&n.$evalAsync&&n.$watch}function ei(n){return"boolean"===typeof n}function ci(n){return n&&fu(n.length)&&f0.test(d5.call(n))}function dh(n){return !(!n||!(n.nodeName||n.prop&&n.attr&&n.find))}function fA(q){var n={};q=q.split(",");var v;for(v=0;v<q.length;v++){n[q[v]]=!0}return n}function bt(n){return fz(n.nodeName||n[0]&&n[0].nodeName)}function e7(q,n){var v=q.indexOf(n);0<=v&&q.splice(v,1);return v}function dY(q,n){function B(E,D){var H=D.$$hashKey,G;if(fv(E)){G=0;for(var F=E.length;G<F;G++){D.push(C(E[G]))}}else{if(bD(E)){for(G in E){D[G]=C(E[G])}}else{if(E&&"function"===typeof E.hasOwnProperty){for(G in E){E.hasOwnProperty(G)&&(D[G]=C(E[G]))}}else{for(G in E){a2.call(E,G)&&(D[G]=C(E[G]))}}}}H?D.$$hashKey=H:delete D.$$hashKey;return D}function C(E){if(!fD(E)){return E}var D=x.indexOf(E);if(-1!==D){return v[D]}if(a8(E)||fG(E)){throw at("cpws")}var D=!1,F=y(E);F===eZ&&(F=fv(E)?[]:Object.create(ay(E)),D=!0);x.push(E);v.push(F);return D?B(E,F):F}function y(E){switch(d5.call(E)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new E.constructor(C(E.buffer));case"[object ArrayBuffer]":if(!E.slice){var D=new ArrayBuffer(E.byteLength);(new Uint8Array(D)).set(new Uint8Array(E));return D}return E.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new E.constructor(E.valueOf());case"[object RegExp]":return D=new RegExp(E.source,E.toString().match(/[^\/]*$/)[0]),D.lastIndex=E.lastIndex,D}if(fF(E.cloneNode)){return E.cloneNode(!0)}}var x=[],v=[];if(n){if(ci(n)||"[object ArrayBuffer]"===d5.call(n)){throw at("cpta")}if(q===n){throw at("cpi")}fv(n)?n.length=0:e1(n,function(D,E){"$$hashKey"!==E&&delete n[E]});x.push(q);v.push(n);return B(q,n)}return C(q)}function cr(q,n){if(fv(q)){n=n||[];for(var v=0,x=q.length;v<x;v++){n[v]=q[v]}}else{if(fD(q)){for(v in n=n||{},q){if("$"!==v.charAt(0)||"$"!==v.charAt(1)){n[v]=q[v]}}}}return n||q}function b4(q,n){if(q===n){return !0}if(null===q||null===n){return !1}if(q!==q&&n!==n){return !0}var v=typeof q,x;if(v==typeof n&&"object"==v){if(fv(q)){if(!fv(n)){return !1}if((v=q.length)==n.length){for(x=0;x<v;x++){if(!b4(q[x],n[x])){return !1}}return !0}}else{if(fp(q)){return fp(n)?b4(q.getTime(),n.getTime()):!1}if(ck(q)){return ck(n)?q.toString()==n.toString():!1}if(fG(q)||fG(n)||a8(q)||a8(n)||fv(n)||fp(n)||ck(n)){return !1}v=fl();for(x in q){if("$"!==x.charAt(0)&&!fF(q[x])){if(!b4(q[x],n[x])){return !1}v[x]=!0}}for(x in n){if(!(x in v)&&"$"!==x.charAt(0)&&eW(n[x])&&!fF(n[x])){return !1}}return !0}}return !1}function eO(q,n,v){return q.concat(I.call(n,v))}function aj(q,n){var v=2<arguments.length?I.call(arguments,2):[];return !fF(n)||n instanceof RegExp?n:v.length?function(){return arguments.length?n.apply(q,eO(v,arguments,0)):n.apply(q,v)}:function(){return arguments.length?n.apply(q,arguments):n.call(q)}}function e4(q,n){var v=n;"string"===typeof q&&"$"===q.charAt(0)&&"$"===q.charAt(1)?v=eZ:a8(n)?v="$WINDOW":n&&fo===n?v="$DOCUMENT":fG(n)&&(v="$SCOPE");return v}function eB(q,n){if(eY(q)){return eZ}fu(n)||(n=n?2:null);return JSON.stringify(q,e4,n)}function z(n){return fB(n)?JSON.parse(n):n}function h(q,n){q=q.replace(eL,"");var v=Date.parse("Jan 01, 1970 00:00:00 "+q)/60000;return isNaN(v)?n:v}function cJ(q,n,v){v=v?-1:1;var x=q.getTimezoneOffset();n=h(n,x);v*=n-x;q=new Date(q.getTime());q.setMinutes(q.getMinutes()+v);return q}function aO(q){q=fH(q).clone();try{q.empty()}catch(n){}var v=fH("<div>").append(q).html();try{return q[0].nodeType===dK?fz(v):v.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(B,y){return"<"+fz(y)})}catch(x){return fz(v)}}function gl(q){try{return decodeURIComponent(q)}catch(n){}}function fV(q){var n={};e1((q||"").split("&"),function(v){var B,y,x;v&&(y=v=v.replace(/\+/g,"%20"),B=v.indexOf("="),-1!==B&&(y=v.substring(0,B),x=v.substring(B+1)),y=gl(y),eW(y)&&(x=eW(x)?gl(x):!0,a2.call(n,y)?fv(n[y])?n[y].push(x):n[y]=[n[y],x]:n[y]=x))});return n}function cw(q){var n=[];e1(q,function(v,x){fv(v)?e1(v,function(y){n.push(dR(x,!0)+(!0===y?"":"="+dR(y,!0)))}):n.push(dR(x,!0)+(!0===v?"":"="+dR(v,!0)))});return n.length?n.join("&"):""}function bE(n){return dR(n,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function dR(q,n){return encodeURIComponent(q).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,n?"%20":"+")}function ey(q,n){var x,y,v=dx.length;for(y=0;y<v;++y){if(x=dx[y]+n,fB(x=q.getAttribute(x))){return x}}return null}function el(q,n){var x,y,v={};e1(dx,function(B){B+="app";!x&&q.hasAttribute&&q.hasAttribute(B)&&(x=q,y=q.getAttribute(B))});e1(dx,function(B){B+="app";var C;!x&&(C=q.querySelector("["+B.replace(":","\\:")+"]"))&&(x=C,y=C.getAttribute(B))});x&&(v.strictDi=null!==ey(x,"strict-di"),n(x,y?[y]:[],v))}function bk(q,n,y){fD(y)||(y={});y=fr({strictDi:!1},y);var B=function(){q=fH(q);if(q.injector()){var C=q[0]===fo?"document":aO(q);throw at("btstrpd",C.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[];n.unshift(["$provide",function(D){D.value("$rootElement",q)}]);y.debugInfoEnabled&&n.push(["$compileProvider",function(D){D.debugInfoEnabled(!0)}]);n.unshift("ng");C=eo(n,y.strictDi);C.invoke(["$rootScope","$rootElement","$compile","$injector",function(E,D,G,F){E.$apply(function(){D.data("$injector",F);G(D)(E)})}]);return C},x=/^NG_ENABLE_DEBUG_INFO!/,v=/^NG_DEFER_BOOTSTRAP!/;ft&&x.test(ft.name)&&(y.debugInfoEnabled=!0,ft.name=ft.name.replace(x,""));if(ft&&!v.test(ft.name)){return B()}ft.name=ft.name.replace(v,"");dD.resumeBootstrap=function(C){e1(C,function(D){n.push(D)});return B()};fF(dD.resumeDeferredBootstrap)&&dD.resumeDeferredBootstrap()}function d1(){ft.name="NG_ENABLE_DEBUG_INFO!"+ft.name;ft.location.reload()}function dN(n){n=dD.element(n).injector();if(!n){throw at("test")}return n.get("$$testability")}function aT(q,n){n=n||"_";return q.replace(dz,function(v,x){return(x?n:"")+v.toLowerCase()})}function dl(){var q;if(!aF){var n=bs();(aA=eY(n)?ft.jQuery:n?ft[n]:eZ)&&aA.fn.on?(fH=aA,fr(aA.fn,{scope:di.scope,isolateScope:di.isolateScope,controller:di.controller,injector:di.injector,inheritedData:di.inheritedData}),q=aA.cleanData,aA.cleanData=function(v){for(var B,y=0,x;null!=(x=v[y]);y++){(B=aA._data(x,"events"))&&B.$destroy&&aA(x).triggerHandler("$destroy")}q(v)}):fH=fq;dD.element=fH;aF=!0}}function a1(q,n,v){if(!q){throw at("areq",n||"?",v||"required")}return q}function cX(q,n,v){v&&fv(q)&&(q=q[q.length-1]);a1(fF(q),n,"not a function, got "+(q&&"object"===typeof q?q.constructor.name||"Object":typeof q));return q}function cK(q,n){if("hasOwnProperty"===q){throw at("badname",n)}}function aq(q,n,B){if(!n){return q}n=n.split(".");for(var C,y=q,x=n.length,v=0;v<x;v++){C=n[v],q&&(q=(y=q)[C])}return !B&&fF(q)?aj(y,q):q}function aN(q){for(var n=q[0],x=q[q.length-1],y,v=1;n!==x&&(n=n.nextSibling);v++){if(y||q[v]!==n){y||(y=fH(I.call(q,0,v))),y.push(n)}}return y||q}function fl(){return Object.create(null)}function c0(q){function n(B,y,C){return B[y]||(B[y]=C())}var v=fx("$injector"),x=fx("ng");q=n(q,"angular",Object);q.$$minErr=q.$$minErr||fx;return n(q,"module",function(){var y={};return function(D,C,B){if("hasOwnProperty"===D){throw x("badname","module")}C&&y.hasOwnProperty(D)&&(y[D]=null);return n(y,D,function(){function G(R,V,U,T){T||(T=O);return function(){T[U||"push"]([R,V,arguments]);return F}}function E(R,T){return function(U,V){V&&fF(V)&&(V.$$moduleName=D);O.push([R,T,arguments]);return F}}if(!C){throw v("nomod",D)}var O=[],N=[],L=[],H=G("$injector","invoke","push",N),F={_invokeQueue:O,_configBlocks:N,_runBlocks:L,requires:C,name:D,provider:E("$provide","provider"),factory:E("$provide","factory"),service:E("$provide","service"),value:G("$provide","value"),constant:G("$provide","constant","unshift"),decorator:E("$provide","decorator"),animation:E("$animateProvider","register"),filter:E("$filterProvider","register"),controller:E("$controllerProvider","register"),directive:E("$compileProvider","directive"),component:E("$compileProvider","component"),config:H,run:function(R){L.push(R);return this}};B&&H(B);return F})}})}function cN(n){fr(n,{bootstrap:bk,copy:dY,extend:fr,merge:a5,equals:b4,element:fH,forEach:e1,injector:eo,noop:fJ,bind:aj,toJson:eB,fromJson:z,identity:f1,isUndefined:eY,isDefined:eW,isString:fB,isFunction:fF,isObject:fD,isNumber:fu,isElement:dh,isArray:fv,version:cA,isDate:fp,lowercase:fz,uppercase:az,callbacks:{counter:0},getTestability:dN,$$minErr:fx,$$csp:S,reloadWithDebugInfo:d1});b9=c0(ft);b9("ng",["ngLocale"],["$provide",function(q){q.provider({$$sanitizeUri:cn});q.provider("$compile",Q).directive({a:b0,input:p,textarea:p,form:bO,script:bB,select:bp,style:aY,option:aK,ngBind:aw,ngBindHtml:ah,ngBindTemplate:u,ngClass:f,ngClassEven:gj,ngClassOdd:fT,ngCloak:bi,ngController:aR,ngForm:aD,ngHide:ao,ngIf:M,ngInclude:m,ngInit:gp,ngNonBindable:f5,ngPluralize:fM,ngRepeat:fh,ngShow:eS,ngStyle:eE,ngSwitch:er,ngSwitchWhen:d8,ngSwitchDefault:dU,ngOptions:dG,ngTransclude:dt,ngModel:c7,ngList:cT,ngChange:cG,pattern:a,ngPattern:a,required:f7,ngRequired:f7,minlength:fO,ngMinlength:fO,maxlength:fj,ngMaxlength:fj,ngValue:ct,ngModelOptions:b6}).directive({ngInclude:bU}).directive(ak).directive(eU);q.provider({$anchorScroll:bH,$animate:bv,$animateCss:a4,$$animateJs:ch,$$animateQueue:fZ,$$AnimateRunner:fy,$$animateAsyncRun:e3,$browser:eK,$cacheFactory:ex,$controller:ek,$document:d0,$exceptionHandler:dM,$filter:eG,$$forceReflow:dk,$interpolate:cZ,$interval:cM,$http:cz,$httpParamSerializer:cm,$httpParamSerializerJQLike:bZ,$httpBackend:bN,$xhrFactory:bA,$location:bo,$log:aX,$parse:aJ,$rootScope:av,$q:ad,$$q:t,$sce:e,$sceDelegate:gi,$sniffer:fS,$templateCache:bh,$templateRequest:aQ,$$testability:aC,$timeout:an,$window:K,$$rAF:l,$$jqLite:go,$$HashMap:f4,$$cookieReader:fL})}])}function d4(n){return n.replace(fa,function(q,x,y,v){return v?y.toUpperCase():y}).replace(eR,"Moz$1")}function et(n){n=n.nodeType;return 1===n||!n||9===n}function ea(q,n){var y,B,x=n.createDocumentFragment(),v=[];if(bX.test(q)){y=y||x.appendChild(n.createElement("div"));B=(eD.exec(q)||["",""])[1].toLowerCase();B=eP[B]||eP._default;y.innerHTML=B[1]+q.replace(eq,"<$1></$2>")+B[2];for(B=B[0];B--;){y=y.lastChild}v=eO(v,y.childNodes);y=x.firstChild;y.textContent=""}else{v.push(n.createTextNode(q))}x.textContent="";x.innerHTML="";e1(v,function(C){x.appendChild(C)});return x}function dW(q,n){var v=q.parentNode;v&&v.replaceChild(n,q);n.appendChild(q)}function fq(q){if(q instanceof fq){return q}var n;fB(q)&&(q=fn(q),n=!0);if(!(this instanceof fq)){if(n&&"<"!=q.charAt(0)){throw bK("nosel")}return new fq(q)}if(n){n=fo;var v;q=(v=d7.exec(q))?[n.createElement(v[1])]:(v=ea(q,n))?v.childNodes:[]}dI(this,q)}function bx(n){return n.cloneNode(!0)}function A(q,n){n||dQ(q);if(q.querySelectorAll){for(var x=q.querySelectorAll("*"),y=0,v=x.length;y<v;y++){dQ(x[y])}}}function dv(q,n,B,C){if(eW(C)){throw bK("offargs")}var y=(C=i(q))&&C.events,x=C&&C.handle;if(x){if(n){var v=function(D){var E=y[D];eW(B)&&e7(E||[],B);eW(B)&&E&&0<E.length||(q.removeEventListener(D,x,!1),delete y[D])};e1(n.split(" "),function(D){v(D);gm[D]&&v(gm[D])})}else{for(n in y){"$destroy"!==n&&q.removeEventListener(n,x,!1),delete y[n]}}}}function dQ(q,n){var v=q.ng339,x=v&&dC[v];x&&(n?delete x.data[n]:(x.handle&&(x.events.$destroy&&x.handle({},"$destroy"),dv(q)),delete dC[v],q.ng339=eZ))}function i(q,n){var v=q.ng339,v=v&&dC[v];n&&!v&&(q.ng339=v=++dT,v=dC[v]={events:{},data:{},handle:eZ});return v}function a7(q,n,y){if(et(q)){var B=eW(y),x=!B&&n&&!fD(n),v=!n;q=(q=i(q,!x))&&q.data;if(B){q[n]=y}else{if(v){return q}if(x){return q&&q[n]}fr(q,n)}}}function fW(q,n){return q.getAttribute?-1<(" "+(q.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+n+" "):!1}function bl(q,n){n&&q.setAttribute&&e1(n.split(" "),function(v){q.setAttribute("class",fn((" "+(q.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+fn(v)+" "," ")))})}function aU(q,n){if(n&&q.setAttribute){var v=(" "+(q.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");e1(n.split(" "),function(x){x=fn(x);-1===v.indexOf(" "+x+" ")&&(v+=x+" ")});q.setAttribute("class",fn(v))}}function dI(q,n){if(n){if(n.nodeType){q[q.length++]=n}else{var v=n.length;if("number"===typeof v&&n.window!==n){if(v){for(var x=0;x<v;x++){q[q.length++]=n[x]}}}else{q[q.length++]=n}}}}function c9(q,n){return aG(q,"$"+(n||"ngController")+"Controller")}function aG(q,n,x){9==q.nodeType&&(q=q.documentElement);for(n=fv(n)?n:[n];q;){for(var y=0,v=n.length;y<v;y++){if(eW(x=fH.data(q,n[y]))){return x}}q=q.parentNode||11===q.nodeType&&q.host}}function cV(n){for(A(n,!0);n.firstChild;){n.removeChild(n.firstChild)}}function cj(q,n){n||A(q);var v=q.parentNode;v&&v.removeChild(q)}function dF(q,n){n=n||ft;if("complete"===n.document.readyState){n.setTimeout(q)}else{fH(n).on("load",q)}}function cI(q,n){var v=ar[n.toLowerCase()];return v&&cv[bt(q)]&&v}function ds(q,n){var v=function(F,E){F.isDefaultPrevented=function(){return F.defaultPrevented};var D=n[E||F.type],C=D?D.length:0;if(C){if(eY(F.immediatePropagationStopped)){var B=F.stopImmediatePropagation;F.stopImmediatePropagation=function(){F.immediatePropagationStopped=!0;F.stopPropagation&&F.stopPropagation();B&&B.call(F)}}F.isImmediatePropagationStopped=function(){return !0===F.immediatePropagationStopped};var y=D.specialHandlerWrapper||c6;1<C&&(D=cr(D));for(var x=0;x<C;x++){F.isImmediatePropagationStopped()||y(q,F,D[x])}}};v.elem=q;return v}function c6(q,n,v){v.call(q,n)}function cS(q,n,v){var x=n.relatedTarget;x&&(x===q||cF.call(q,x))||v.call(q,n)}function go(){this.$get=function(){return fr(fq,{hasClass:function(q,n){q.attr&&(q=q[0]);return fW(q,n)},addClass:function(q,n){q.attr&&(q=q[0]);return aU(q,n)},removeClass:function(q,n){q.attr&&(q=q[0]);return bl(q,n)}})}}function r(q,n){var v=q&&q.$$hashKey;if(v){return"function"===typeof v&&(v=q.$$hashKey()),v}v=typeof q;return v="function"==v||"object"==v&&null!==q?q.$$hashKey=v+":"+(n||bw)():v+":"+q}function cx(q,n){if(n){var v=0;this.nextUid=function(){return ++v}}e1(q,this.put,this)}function b8(n){n=n.toString().replace(cs,"");return n.match(b5)||n.match(bT)}function bG(n){return(n=b8(n))?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function eo(N,L){function F(U){return function(V,W){if(fD(V)){e1(V,a0(U))}else{return U(V,W)}}}function G(V,U){cK(V,"service");if(fF(U)||fv(U)){U=T.instantiate(U)}if(!U.$get){throw c("pget",V)}return n[V+"Provider"]=U}function E(V,U){return function(){var W=R.invoke(U,this);if(eY(W)){throw c("undef",V)}return W}}function D(V,U,W){return G(V,{$get:!1!==W?E(V,U):U})}function C(V){a1(eY(V)||fv(V),"modulesToLoad","not an array");var U=[],W;e1(V,function(X){function Z(ab){var aa,ag;aa=0;for(ag=ab.length;aa<ag;aa++){var af=ab[aa],ae=T.get(af[0]);ae[af[1]].apply(ae,af[2])}}if(!v.get(X)){v.put(X,!0);try{fB(X)?(W=b9(X),U=U.concat(C(W.requires)).concat(W._runBlocks),Z(W._invokeQueue),Z(W._configBlocks)):fF(X)?U.push(T.invoke(X)):fv(X)?U.push(T.invoke(X)):cX(X,"module")}catch(Y){throw fv(X)&&(X=X[X.length-1]),Y.message&&Y.stack&&-1==Y.stack.indexOf(Y.message)&&(Y=Y.message+"\n"+Y.stack),c("modulerr",X,Y.stack||Y.message||Y)}}});return U}function B(U,X){function W(Y,aa){if(U.hasOwnProperty(Y)){if(U[Y]===y){throw c("cdep",Y+" <- "+x.join(" <- "))}return U[Y]}try{return x.unshift(Y),U[Y]=y,U[Y]=X(Y,aa)}catch(Z){throw U[Y]===y&&delete U[Y],Z}finally{x.shift()}}function V(Z,ag,af){var ae=[];Z=eo.$$annotate(Z,L,af);for(var ab=0,aa=Z.length;ab<aa;ab++){var Y=Z[ab];if("string"!==typeof Y){throw c("itkn",Y)}ae.push(ag&&ag.hasOwnProperty(Y)?ag[Y]:W(Y,af))}return ae}return{invoke:function(Z,Y,ab,aa){"string"===typeof ab&&(aa=ab,ab=null);ab=V(Z,ab,aa);fv(Z)&&(Z=Z[Z.length-1]);aa=11>=j?!1:"function"===typeof Z&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(Z));return aa?(ab.unshift(null),new (Function.prototype.bind.apply(Z,ab))):Z.apply(Y,ab)},instantiate:function(Z,Y,ab){var aa=fv(Z)?Z[Z.length-1]:Z;Z=V(Z,Y,ab);Z.unshift(null);return new (Function.prototype.bind.apply(aa,Z))},get:W,annotate:eo.$$annotate,has:function(Y){return n.hasOwnProperty(Y+"Provider")||U.hasOwnProperty(Y)}}}L=!0===L;var y={},x=[],v=new cx([],!0),n={$provide:{provider:F(G),factory:F(D),service:F(function(V,U){return D(V,["$injector",function(W){return W.instantiate(U)}])}),value:F(function(V,U){return D(V,fI(U),!1)}),constant:F(function(V,U){cK(V,"constant");n[V]=U;O[V]=U}),decorator:function(V,U){var X=T.get(V+"Provider"),W=X.$get;X.$get=function(){var Y=R.invoke(W,X);return R.invoke(U,null,{$delegate:Y})}}}},T=n.$injector=B(n,function(V,U){dD.isString(U)&&x.push(U);throw c("unpr",x.join(" <- "))}),O={},H=B(O,function(V,U){var W=T.get(V+"Provider",U);return R.invoke(W.$get,W,eZ,V)}),R=H;n.$injectorProvider={$get:fI(H)};var q=C(N),R=H.get("$injector");R.strictDi=L;e1(q,function(U){U&&R.invoke(U)});return R}function bH(){var n=!0;this.disableAutoScrolling=function(){n=!1};this.$get=["$window","$location","$rootScope",function(q,C,D){function B(F){var E=null;Array.prototype.some.call(F,function(G){if("a"===bt(G)){return E=G,!0}});return E}function y(E){if(E){E.scrollIntoView();var F;F=x.yOffset;fF(F)?F=F():dh(F)?(F=F[0],F="fixed"!==q.getComputedStyle(F).position?0:F.getBoundingClientRect().bottom):fu(F)||(F=0);F&&(E=E.getBoundingClientRect().top,q.scrollBy(0,E-F))}else{q.scrollTo(0,0)}}function x(F){F=fB(F)?F:C.hash();var E;F?(E=v.getElementById(F))?y(E):(E=B(v.getElementsByName(F)))?y(E):"top"===F&&y(null):y(null)}var v=q.document;n&&D.$watch(function(){return C.hash()},function(F,E){F===E&&""===F||dF(function(){D.$evalAsync(x)})});return x}]}function dp(q,n){if(!q&&!n){return""}if(!q){return n}if(!n){return q}fv(q)&&(q=q.join(" "));fv(n)&&(n=n.join(" "));return q+" "+n}function bu(q){fB(q)&&(q=q.split(" "));var n=fl();e1(q,function(v){v.length&&(n[v]=!0)});return n}function f9(n){return fD(n)?n:{}}function a3(aa,Z,X,Y){function W(ae){try{ae.apply(null,I.call(arguments,1))}finally{if(x--,0===x){for(;D.length;){try{D.pop()()}catch(ab){X.error(ab)}}}}}function V(){v=null;U();T()}function U(){ab:{try{H=L.state;break ab}catch(ab){}H=void 0}H=eY(H)?null:H;b4(H,n)&&(H=n);n=H}function T(){if(C!==R.url()||B!==H){C=R.url(),B=H,e1(G,function(ab){ab(R.url(),H)})}}var R=this,O=aa.location,L=aa.history,F=aa.setTimeout,E=aa.clearTimeout,y={};R.isMock=!1;var x=0,D=[];R.$$completeOutstandingRequest=W;R.$$incOutstandingRequestCount=function(){x++};R.notifyWhenNoOutstandingRequests=function(ab){0===x?ab():D.push(ab)};var H,B,C=O.href,N=Z.find("base"),v=null;U();B=H;R.url=function(ab,ba,ag){eY(ag)&&(ag=null);O!==aa.location&&(O=aa.location);L!==aa.history&&(L=aa.history);if(ab){var af=B===ag;if(C===ab&&(!Y.history||af)){return R}var ae=C&&fQ(C)===fQ(ab);C=ab;B=ag;if(!Y.history||ae&&af){if(!ae||v){v=ab}ba?O.replace(ab):ae?(ba=O,ag=ab.indexOf("#"),ag=-1===ag?"":ab.substr(ag),ba.hash=ag):O.href=ab;O.href!==ab&&(v=ab)}else{L[ba?"replaceState":"pushState"](ag,"",ab),U(),B=H}return R}return v||O.href.replace(/%27/g,"'")};R.state=function(){return H};var G=[],q=!1,n=null;R.onUrlChange=function(ab){if(!q){if(Y.history){fH(aa).on("popstate",V)}fH(aa).on("hashchange",V);q=!0}G.push(ab);return ab};R.$$applicationDestroyed=function(){fH(aa).off("hashchange popstate",V)};R.$$checkUrlChange=T;R.baseHref=function(){var ab=N.attr("href");return ab?ab.replace(/^(https?\:)?\/\/[^\/]*/,""):""};R.defer=function(ae,ab){var af;x++;af=F(function(){delete y[af];W(ae)},ab||0);y[af]=!0;return af};R.defer.cancel=function(ab){return y[ab]?(delete y[ab],E(ab),W(fJ),!0):!1}}function eK(){this.$get=["$window","$log","$sniffer","$document",function(q,n,v,x){return new a3(q,x,n,v)}]}function ex(){this.$get=function(){function q(H,G){function F(N){N!=v&&(L?L==N&&(L=N.n):L=N,E(N.n,N.p),E(N,v),v=N,v.n=null)}function E(O,N){O!=N&&(O&&(O.p=N),N&&(N.n=O))}if(H in n){throw fx("$cacheFactory")("iid",H)}var D=0,C=fr({},G,{id:H}),B=fl(),y=G&&G.capacity||Number.MAX_VALUE,x=fl(),v=null,L=null;return n[H]={put:function(O,N){if(!eY(N)){if(y<Number.MAX_VALUE){var R=x[O]||(x[O]={key:O});F(R)}O in B||D++;B[O]=N;D>y&&this.remove(L.key);return N}},get:function(O){if(y<Number.MAX_VALUE){var N=x[O];if(!N){return}F(N)}return B[O]},remove:function(O){if(y<Number.MAX_VALUE){var N=x[O];if(!N){return}N==v&&(v=N.p);N==L&&(L=N.n);E(N.n,N.p);delete x[O]}O in B&&(delete B[O],D--)},removeAll:function(){B=fl();D=0;x=fl();v=L=null},destroy:function(){x=C=B=null;delete n[H]},info:function(){return fr({},C,{size:D})}}}var n={};q.info=function(){var v={};e1(n,function(x,y){v[y]=x.info()});return v};q.get=function(v){return n[v]};return q}}function bh(){this.$get=["$cacheFactory",function(n){return n("templates")}]}function Q(G,F){function D(N,L,T){var R=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,O={};e1(N,function(U,W){var V=U.match(R);if(!V){throw dq("iscp",L,W,U,T?"controller bindings definition":"isolate scope definition")}O[W]={mode:V[1][0],collection:"*"===V[2],optional:"?"===V[3],attrName:V[4]||W}});return O}function E(N){var L=N.charAt(0);if(!L||L!==fz(L)){throw dq("baddir",N)}if(N!==N.trim()){throw dq("baddir",N)}}var C={},B=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,y=/(([\w\-]+)(?:\:([^;]+))?;?)/,x=fA("ngSrc,ngSrcset,src,srcset"),v=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,q=/^(on[a-z]+|formaction)$/;this.directive=function H(L,N){cK(L,"directive");fB(L)?(E(L),a1(N,"directiveFactory"),C.hasOwnProperty(L)||(C[L]=[],G.factory(L+"Directive",["$injector","$exceptionHandler",function(O,T){var R=[];e1(C[L],function(ab,aa){try{var Y=O.invoke(ab);fF(Y)?Y={compile:fI(Y)}:!Y.compile&&Y.link&&(Y.compile=fI(Y.link));Y.priority=Y.priority||0;Y.index=aa;Y.name=Y.name||L;Y.require=Y.require||Y.controller&&Y.name;Y.restrict=Y.restrict||"EA";var W=Y,V=Y,U=Y.name,ag={isolateScope:null,bindToController:null};fD(V.scope)&&(!0===V.bindToController?(ag.bindToController=D(V.scope,U,!0),ag.isolateScope={}):ag.isolateScope=D(V.scope,U,!1));fD(V.bindToController)&&(ag.bindToController=D(V.bindToController,U,!0));if(fD(ag.bindToController)){var Z=V.controller,X=V.controllerAs;if(!Z){throw dq("noctrl",U)}if(!bW(Z,X)){throw dq("noident",U)}}var af=W.$$bindings=ag;fD(af.isolateScope)&&(Y.$$isolateBindings=af.isolateScope);Y.$$moduleName=ab.$$moduleName;R.push(Y)}catch(ae){T(ae)}});return R}])),C[L].push(N)):e1(L,a0(H));return this};this.component=function(N,L){function R(T){function V(W){return fF(W)||fv(W)?function(Y,X){return T.invoke(W,this,{$element:Y,$attrs:X})}:W}var U=L.template||L.templateUrl?L.template:"";return{controller:O,controllerAs:bW(L.controller)||L.controllerAs||"$ctrl",template:V(U),templateUrl:V(L.templateUrl),transclude:L.transclude,scope:{},bindToController:L.bindings||{},restrict:"E",require:L.require}}var O=L.controller||function(){};e1(L,function(U,T){"$"===T.charAt(0)&&(R[T]=U)});R.$inject=["$injector"];return this.directive(N,R)};this.aHrefSanitizationWhitelist=function(L){return eW(L)?(F.aHrefSanitizationWhitelist(L),this):F.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(L){return eW(L)?(F.imgSrcSanitizationWhitelist(L),this):F.imgSrcSanitizationWhitelist()};var n=!0;this.debugInfoEnabled=function(L){return eW(L)?(n=L,this):n};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(gc,gb,ga,fg,fe,eg,fb,ef,ed,cf){function bb(O,N,U){gd.innerHTML="<span "+N+">";N=gd.firstChild.attributes;var R=N[0];N.removeNamedItem(R.name);R.value=U;O.attributes.setNamedItem(R)}function dg(O,N){try{O.addClass(N)}catch(R){}}function bg(ge,da,ca,ba,aa){ge instanceof fH||(ge=fH(ge));for(var Y=/\S+/,V=0,U=ge.length;V<U;V++){var R=ge[V];R.nodeType===dK&&R.nodeValue.match(Y)&&dW(R,ge[V]=fo.createElement("span"))}var O=bc(ge,da,ge,ca,ba,aa);bg.$$addScopeClass(ge);var N=null;return function(gf,gu,gt){a1(gf,"scope");aa&&aa.needsNewScope&&(gf=gf.$parent.$new());gt=gt||{};var gs=gt.parentBoundTranscludeFn,gr=gt.transcludeControllers;gt=gt.futureParentElement;gs&&gs.$$boundTransclude&&(gs=gs.$$boundTransclude);N||(N=(gt=gt&&gt[0])?"foreignobject"!==bt(gt)&&d5.call(gt).match(/SVG/)?"svg":"html":"html");gt="html"!==N?fH(ae(N,fH("<div>").append(ge).html())):gu?di.clone.call(ge):ge;if(gr){for(var gg in gr){gt.data("$"+gg+"Controller",gr[gg].instance)}}bg.$$addScopeInfo(gt,gf);gu&&gu(gt,gf);O&&O(gf,gt,gt,gs);return gt}}function bc(gg,gf,ge,da,ca,ba){function aa(gA,gz,gy,gx){var gw,gv,gu,gt,gs,gC,gB;if(O){for(gB=Array(gz.length),gt=0;gt<Y.length;gt+=3){gw=Y[gt],gB[gw]=gz[gw]}}else{gB=gz}gt=0;for(gs=Y.length;gt<gs;){gv=gB[Y[gt++]],gz=Y[gt++],gw=Y[gt++],gz?(gz.scope?(gu=gA.$new(),bg.$$addScopeInfo(fH(gv),gu)):gu=gA,gC=gz.transcludeOnThisElement?af(gA,gz.transclude,gx):!gz.templateOnThisElement&&gx?gx:!gx&&gf?af(gA,gf):null,gz(gw,gu,gv,gy,gC)):gw&&gw(gA,gv.childNodes,eZ,gx)}}for(var Y=[],V,U,R,N,O,gr=0;gr<gg.length;gr++){V=new X;U=dc(gg[gr],[],V,0===gr?da:eZ,ca);(ba=U.length?ee(U,gg[gr],V,gf,ge,null,[],[],ba):null)&&ba.scope&&bg.$$addScopeClass(V.$$element);V=ba&&ba.terminal||!(R=gg[gr].childNodes)||!R.length?null:bc(R,ba?(ba.transcludeOnThisElement||!ba.templateOnThisElement)&&ba.transclude:gf);if(ba||V){Y.push(gr,ba,V),N=!0,O=O||ba}ba=null}return N?aa:null}function af(O,N,Y){var V=function(ge,da,ca,ba,aa){ge||(ge=O.$new(!1,aa),ge.$$transcluded=!0);return N(ge,da,{parentBoundTranscludeFn:Y,transcludeControllers:ca,futureParentElement:ba})},U=V.$$slots=fl(),R;for(R in N.$$slots){U[R]=N.$$slots[R]?af(O,N.$$slots[R],Y):null}return V}function dc(gf,ge,da,ca,aa){var Y=da.$attr,V;switch(gf.nodeType){case 1:cc(ge,al(bt(gf)),"E",ca,aa);for(var U,R,N,gt=gf.attributes,O=0,gr=gt&&gt.length;O<gr;O++){var gs=!1,gg=!1;U=gt[O];V=U.name;R=fn(U.value);U=al(V);if(N=dd.test(U)){V=V.replace(bJ,"").substr(8).replace(/_(.)/g,function(gv,gu){return gu.toUpperCase()})}(U=U.match(fc))&&bd(U[1])&&(gs=V,gg=V.substr(0,V.length-5)+"end",V=V.substr(0,V.length-6));U=al(V.toLowerCase());Y[U]=V;if(N||!da.hasOwnProperty(U)){da[U]=R,cI(gf,U)&&(da[U]=!0)}W(gf,ge,R,U,N);cc(ge,U,"A",ca,aa,gs,gg)}gf=gf.className;fD(gf)&&(gf=gf.animVal);if(fB(gf)&&""!==gf){for(;V=y.exec(gf);){U=al(V[2]),cc(ge,U,"C",ca,aa)&&(da[U]=fn(V[3])),gf=gf.substr(V.index+V[0].length)}}break;case dK:if(11===j){for(;gf.parentNode&&gf.nextSibling&&gf.nextSibling.nodeType===dK;){gf.nodeValue+=gf.nextSibling.nodeValue,gf.parentNode.removeChild(gf.nextSibling)}}be(ge,gf.nodeValue);break;case 8:try{if(V=B.exec(gf.nodeValue)){U=al(V[1]),cc(ge,U,"M",ca,aa)&&(da[U]=fn(V[2]))}}catch(ba){}}ge.sort(de);return ge}function fd(O,N,V){var U=[],R=0;if(N&&O.hasAttribute&&O.hasAttribute(N)){do{if(!O){throw dq("uterdir",N,V)}1==O.nodeType&&(O.hasAttribute(N)&&R++,O.hasAttribute(V)&&R--);U.push(O);O=O.nextSibling}while(0<R)}else{U.push(O)}return fH(U)}function ff(O,N,R){return function(ba,aa,Y,V,U){aa=fd(aa[0],N,R);return O(ba,aa,Y,V,U)}}function ce(O,N,aa,Y,V,U){if(O){return bg(N,aa,Y,V,U)}var R;return function(){R||(R=bg(N,aa,Y,V,U),N=aa=U=null);return R.apply(this,arguments)}}function ee(gY,gX,gW,gV,gU,gS,gR,gQ,gP){function gO(O,N,V,R){if(O){V&&(O=ff(O,V,R));O.require=gw.require;O.directiveName=gy;if(gt===gw||gw.$$isolateScope){O=eb(O,{isolateScope:!0})}gR.push(O)}if(N){V&&(N=ff(N,V,R));N.require=gw.require;N.directiveName=gy;if(gt===gw||gw.$$isolateScope){N=eb(N,{isolateScope:!0})}gQ.push(N)}}function gN(O,N,g0,da){var ba;if(fB(N)){var Y=N.match(v);N=N.substring(Y[0].length);var V=Y[1]||Y[3],Y="?"===Y[2];"^^"===V?g0=g0.parent():ba=(ba=da&&da[N])&&ba.instance;if(!ba){var R="$"+N+"Controller";ba=V?g0.inheritedData(R):g0.data(R)}if(!ba&&!Y){throw dq("ctreq",N,O)}}else{if(fv(N)){for(ba=[],V=0,Y=N.length;V<Y;V++){ba[V]=gN(O,N[V],g0,da)}}else{fD(N)&&(ba={},e1(N,function(g1,g2){ba[g2]=gN(O,g1,g0,da)}))}}return ba||null}function gB(g3,g2,g1,g0,da,ba){var Y=fl(),V;for(V in g0){var R=g0[V],O={$scope:R===gt||R.$$isolateScope?da:ba,$element:g3,$attrs:g2,$transclude:g1},N=R.controller;"@"==N&&(N=g2[R.name]);O=eg(N,O,!0,R.controllerAs);Y[R.name]=O;gA||g3.data("$"+R.name+"Controller",O.instance)}return Y}function gL(ha,g9,g8,g7,g6){function g5(hc,hb,hg,hf){var he;fG(hc)||(hf=hg,hg=hb,hb=hc,hc=eZ);gA&&(he=N);hg||(hg=gA?ba.parent():ba);if(hf){var hd=g6.$$slots[hf];if(hd){return hd(hc,hb,he,hg,V)}if(eY(hd)){throw dq("noslot",hf,aO(ba))}}else{return g6(hc,hb,he,hg,V)}}var g3,g2,g0,da,N,R,ba,O;gX===g8?(g7=gW,ba=gW.$$element):(ba=fH(g8),g7=new X(ba,gW));g0=g9;gt?da=g9.$new(!0):gs&&(g0=g9.$parent);g6&&(R=g5,R.$$boundTransclude=g6,R.isSlotFilled=function(hb){return !!g6.$$slots[hb]});gx&&(N=gB(ba,g7,R,gx,da,g9));gt&&(bg.$$addScopeInfo(ba,da,!0,!(gG&&(gG===gt||gG===gt.$$originalDirective))),bg.$$addScopeClass(ba,!0),da.$$isolateBindings=gt.$$isolateBindings,(O=ec(g9,g7,da,da.$$isolateBindings,gt))&&da.$on("$destroy",O));for(g2 in N){O=gx[g2];var Y=N[g2],g4=O.$$bindings.bindToController;Y.identifier&&g4&&(g3=ec(g0,g7,Y.instance,g4,O));var g1=Y();g1!==Y.instance&&(Y.instance=g1,ba.data("$"+O.name+"Controller",g1),g3&&g3(),g3=ec(g0,g7,Y.instance,g4,O))}e1(gx,function(hc,hb){var hd=hc.require;hc.bindToController&&!fv(hd)&&fD(hd)&&fr(N[hb].instance,gN(hb,hd,ba,N))});e1(N,function(hb){fF(hb.instance.$onInit)&&hb.instance.$onInit()});g3=0;for(g2=gR.length;g3<g2;g3++){g0=gR[g3],T(g0,g0.isolateScope?da:g9,ba,g7,g0.require&&gN(g0.directiveName,g0.require,ba,N),R)}var V=g9;gt&&(gt.template||null===gt.templateUrl)&&(V=da);ha&&ha(V,g8.childNodes,eZ,g6);for(g3=gQ.length-1;0<=g3;g3--){g0=gQ[g3],T(g0,g0.isolateScope?da:g9,ba,g7,g0.require&&gN(g0.directiveName,g0.require,ba,N),R)}}gP=gP||{};for(var gM=-Number.MAX_VALUE,gs=gP.newScopeDirective,gx=gP.controllerDirectives,gt=gP.newIsolateScopeDirective,gG=gP.templateDirective,gg=gP.nonTlbTranscludeDirective,gI=!1,gJ=!1,gA=gP.hasElementTranscludeDirective,U=gW.$$element=fH(gX),gw,gy,gz,gF=gV,gu,gv=!1,gf=!1,gH,gr=0,gT=gY.length;gr<gT;gr++){gw=gY[gr];var ca=gw.$$start,gZ=gw.$$end;ca&&(U=fd(gX,ca,gZ));gz=eZ;if(gM>gw.priority){break}if(gH=gw.scope){gw.templateUrl||(fD(gH)?(df("new/isolated scope",gt||gs,gw,U),gt=gw):df("new/isolated scope",gt,gw,U)),gs=gs||gw}gy=gw.name;if(!gv&&(gw.replace&&(gw.templateUrl||gw.template)||gw.transclude&&!gw.$$tlb)){for(gH=gr+1;gv=gY[gH++];){if(gv.transclude&&!gv.$$tlb||gv.replace&&(gv.templateUrl||gv.template)){gf=!0;break}}gv=!0}!gw.templateUrl&&gw.controller&&(gH=gw.controller,gx=gx||fl(),df("'"+gy+"' controller",gx[gy],gw,U),gx[gy]=gw);if(gH=gw.transclude){if(gI=!0,gw.$$tlb||(df("transclusion",gg,gw,U),gg=gw),"element"==gH){gA=!0,gM=gw.priority,gz=U,U=gW.$$element=fH(fo.createComment(" "+gy+": "+gW[gy]+" ")),gX=U[0],cg(gU,I.call(gz,0),gX),gF=ce(gf,gz,gV,gM,gS&&gS.name,{nonTlbTranscludeDirective:gg})}else{var ge=fl();gz=fH(bx(gX)).contents();if(fD(gH)){gz=[];var aa=fl(),gC=fl();e1(gH,function(O,N){var R="?"===O.charAt(0);O=R?O.substring(1):O;aa[O]=N;ge[N]=null;gC[N]=R});e1(U.contents(),function(O){var N=aa[al(bt(O))];N?(gC[N]=!0,ge[N]=ge[N]||[],ge[N].push(O)):gz.push(O)});e1(gC,function(O,N){if(!O){throw dq("reqslot",N)}});for(var gD in ge){ge[gD]&&(ge[gD]=ce(gf,ge[gD],gV))}}U.empty();gF=ce(gf,gz,gV,eZ,eZ,{needsNewScope:gw.$$isolateScope||gw.$$newScope});gF.$$slots=ge}}if(gw.template){if(gJ=!0,df("template",gG,gw,U),gG=gw,gH=fF(gw.template)?gw.template(U,gW):gw.template,gH=ab(gH),gw.replace){gS=gw;gz=bX.test(gH)?a6(ae(gw.templateNamespace,fn(gH))):[];gX=gz[0];if(1!=gz.length||1!==gX.nodeType){throw dq("tplrt",gy,"")}cg(gU,U,gX);gT={$attr:{}};gH=dc(gX,[],gT);var gK=gY.splice(gr+1,gY.length-(gr+1));(gt||gs)&&cb(gH,gt,gs);gY=gY.concat(gH).concat(gK);cd(gW,gT);gT=gY.length}else{U.html(gH)}}if(gw.templateUrl){gJ=!0,df("template",gG,gw,U),gG=gw,gw.replace&&(gS=gw),gL=bf(gY.splice(gr,gY.length-gr),U,gW,gU,gI&&gF,gR,gQ,{controllerDirectives:gx,newScopeDirective:gs!==gw&&gs,newIsolateScopeDirective:gt,templateDirective:gG,nonTlbTranscludeDirective:gg}),gT=gY.length}else{if(gw.compile){try{gu=gw.compile(U,gW,gF),fF(gu)?gO(null,gu,ca,gZ):gu&&gO(gu.pre,gu.post,ca,gZ)}catch(gE){ga(gE,aO(U))}}}gw.terminal&&(gL.terminal=!0,gM=Math.max(gM,gw.priority))}gL.scope=gs&&!0===gs.scope;gL.transcludeOnThisElement=gI;gL.templateOnThisElement=gJ;gL.transclude=gF;gP.hasElementTranscludeDirective=gA;return gL}function cb(O,N,V){for(var U=0,R=O.length;U<R;U++){O[U]=cW(O[U],{$$isolateScope:N,$$newScope:V})}}function cc(da,ca,ba,aa,Y,V,U){if(ca===Y){return null}Y=null;if(C.hasOwnProperty(ca)){var R;ca=gc.get(ca+"Directive");for(var N=0,O=ca.length;N<O;N++){try{R=ca[N],(eY(aa)||aa>R.priority)&&-1!=R.restrict.indexOf(ba)&&(V&&(R=cW(R,{$$start:V,$$end:U})),da.push(R),Y=R)}catch(ge){ga(ge)}}}return Y}function bd(N){if(C.hasOwnProperty(N)){for(var U=gc.get(N+"Directive"),R=0,O=U.length;R<O;R++){if(N=U[R],N.multiElement){return !0}}}return !1}function cd(O,N){var V=N.$attr,U=O.$attr,R=O.$$element;e1(O,function(aa,Y){"$"!=Y.charAt(0)&&(N[Y]&&N[Y]!==aa&&(aa+=("style"===Y?";":" ")+N[Y]),O.$set(Y,aa,!0,V[Y]))});e1(N,function(Y,aa){"class"==aa?(dg(R,Y),O["class"]=(O["class"]?O["class"]+" ":"")+Y):"style"==aa?(R.attr("style",R.attr("style")+";"+Y),O.style=(O.style?O.style+";":"")+Y):"$"==aa.charAt(0)||O.hasOwnProperty(aa)||(O[aa]=Y,U[aa]=V[aa])})}function bf(gg,gf,ge,da,ca,ba,aa,V){var U=[],R,N,gt=gf[0],O=gg.shift(),gs=cW(O,{templateUrl:null,transclude:null,replace:null,$$originalDirective:O}),gr=fF(O.templateUrl)?O.templateUrl(gf,ge):O.templateUrl,Y=O.templateNamespace;gf.empty();fg(gr).then(function(gz){var gw,gv;gz=ab(gz);if(O.replace){gz=bX.test(gz)?a6(ae(Y,fn(gz))):[];gw=gz[0];if(1!=gz.length||1!==gw.nodeType){throw dq("tplrt",O.name,gr)}gz={$attr:{}};cg(da,gf,gw);var gA=dc(gw,[],gz);fD(O.scope)&&cb(gA,!0);gg=gA.concat(gg);cd(ge,gz)}else{gw=gt,gf.html(gz)}gg.unshift(gs);R=ee(gg,gw,ge,ca,gf,O,ba,aa,V);e1(da,function(gB,gC){gB==gw&&(da[gC]=gf[0])});for(N=bc(gf[0].childNodes,ca);U.length;){gz=U.shift();gv=U.shift();var gy=U.shift(),gu=U.shift(),gA=gf[0];if(!gz.$$destroyed){if(gv!==gt){var gx=gv.className;V.hasElementTranscludeDirective&&O.replace||(gA=bx(gw));cg(gy,fH(gv),gA);dg(fH(gA),gx)}gv=R.transcludeOnThisElement?af(gz,R.transclude,gu):gu;R(N,gz,gA,da,gv)}}U=null});return function(gv,gu,gy,gx,gw){gv=gw;gu.$$destroyed||(U?U.push(gu,gy,gx,gv):(R.transcludeOnThisElement&&(gv=af(gu,R.transclude,gw)),R(N,gu,gy,gx,gv)))}}function de(O,N){var R=N.priority-O.priority;return 0!==R?R:O.name!==N.name?O.name<N.name?-1:1:O.index-N.index}function df(O,N,V,U){function R(Y){return Y?" (module: "+Y+")":""}if(N){throw dq("multidir",N.name,R(N.$$moduleName),V.name,R(V.$$moduleName),O,aO(U))}}function be(N,R){var O=gb(R,!0);O&&N.push({priority:0,compile:function(V){V=V.parent();var U=!!V.length;U&&bg.$$addBindingClass(V);return function(Y,ba){var aa=ba.parent();U||bg.$$addBindingClass(aa);bg.$$addBindingInfo(aa,O.expressions);Y.$watch(O,function(ca){ba[0].nodeValue=ca})}}})}function ae(O,N){O=fz(O||"html");switch(O){case"svg":case"math":var R=fo.createElement("div");R.innerHTML="<"+O+">"+N+"</"+O+">";return R.childNodes[0].childNodes;default:return N}}function ag(O,N){if("srcdoc"==N){return ef.HTML}var R=bt(O);if("xlinkHref"==N||"form"==R&&"action"==N||"img"!=R&&("src"==N||"ngSrc"==N)){return ef.RESOURCE_URL}}function W(N,aa,Y,V,U){var R=ag(N,V);U=x[V]||U;var O=gb(Y,!0,R,U);if(O){if("multiple"===V&&"select"===bt(N)){throw dq("selmulti",aO(N))}aa.push({priority:100,compile:function(){return{pre:function(ca,ge,da){ge=da.$$observers||(da.$$observers=fl());if(q.test(V)){throw dq("nodomevents")}var ba=da[V];ba!==Y&&(O=ba&&gb(ba,!0,R,U),Y=ba);O&&(da[V]=O(ca),(ge[V]||(ge[V]=[])).$$inter=!0,(da.$$observers&&da.$$observers[V].$$scope||ca).$watch(O,function(gg,gf){"class"===V&&gg!=gf?da.$updateClass(gg,gf):da.$set(V,gg)}))}}}})}}function cg(ca,ba,aa){var Y=ba[0],V=ba.length,U=Y.parentNode,R,O;if(ca){for(R=0,O=ca.length;R<O;R++){if(ca[R]==Y){ca[R++]=aa;O=R+V-1;for(var N=ca.length;R<N;R++,O++){O<N?ca[R]=ca[O]:delete ca[R]}ca.length-=V-1;ca.context===Y&&(ca.context=aa);break}}}U&&U.replaceChild(aa,Y);ca=fo.createDocumentFragment();for(R=0;R<V;R++){ca.appendChild(ba[R])}fH.hasData(Y)&&(fH.data(aa,fH.data(Y)),fH(Y).off("$destroy"));fH.cleanData(ca.querySelectorAll("*"));for(R=1;R<V;R++){delete ba[R]}ba[0]=aa;ba.length=1}function eb(O,N){return fr(function(){return O.apply(null,arguments)},O,N)}function T(O,N,aa,Y,V,U){try{O(N,aa,Y,V,U)}catch(R){ga(R,aO(aa))}}function ec(N,Y,V,U,R){var O=[];e1(U,function(gr,gg){var da=gr.attrName,ca=gr.optional,ba,aa,gf,ge;switch(gr.mode){case"@":ca||a2.call(Y,da)||(V[gg]=Y[da]=void 0);Y.$observe(da,function(gs){fB(gs)&&(V[gg]=gs)});Y.$$observers[da].$$scope=N;ba=Y[da];fB(ba)?V[gg]=gb(ba)(N):ei(ba)&&(V[gg]=ba);break;case"=":if(!a2.call(Y,da)){if(ca){break}Y[da]=void 0}if(ca&&!Y[da]){break}aa=fe(Y[da]);ge=aa.literal?b4:function(gt,gs){return gt===gs||gt!==gt&&gs!==gs};gf=aa.assign||function(){ba=V[gg]=aa(N);throw dq("nonassign",Y[da],da,R.name)};ba=V[gg]=aa(N);ca=function(gs){ge(gs,V[gg])||(ge(gs,ba)?gf(N,gs=V[gg]):V[gg]=gs);return ba=gs};ca.$stateful=!0;ca=gr.collection?N.$watchCollection(Y[da],ca):N.$watch(fe(Y[da],ca),null,aa.literal);O.push(ca);break;case"<":if(!a2.call(Y,da)){if(ca){break}Y[da]=void 0}if(ca&&!Y[da]){break}aa=fe(Y[da]);V[gg]=aa(N);ca=N.$watch(aa,function(gs){V[gg]=gs},aa.literal);O.push(ca);break;case"&":aa=Y.hasOwnProperty(da)?fe(Y[da]):fJ;if(aa===fJ&&ca){break}V[gg]=function(gs){return aa(N,gs)}}});return O.length&&function(){for(var ba=0,aa=O.length;ba<aa;++ba){O[ba]()}}}var Z=/^\w/,gd=fo.createElement("div"),X=function(O,N){if(N){var Y=Object.keys(N),V,U,R;V=0;for(U=Y.length;V<U;V++){R=Y[V],this[R]=N[R]}}else{this.$attr={}}this.$$element=O};X.prototype={$normalize:al,$addClass:function(N){N&&0<N.length&&ed.addClass(this.$$element,N)},$removeClass:function(N){N&&0<N.length&&ed.removeClass(this.$$element,N)},$updateClass:function(O,N){var R=fC(O,N);R&&R.length&&ed.addClass(this.$$element,R);(R=fC(N,O))&&R.length&&ed.removeClass(this.$$element,R)},$set:function(da,ca,ba,aa){var Y=cI(this.$$element[0],da),V=e5[da],U=da;Y?(this.$$element.prop(da,ca),aa=Y):V&&(this[V]=ca,U=V);this[da]=ca;aa?this.$attr[da]=aa:(aa=this.$attr[da])||(this.$attr[da]=aa=aT(da,"-"));Y=bt(this.$$element);if("a"===Y&&("href"===da||"xlinkHref"===da)||"img"===Y&&"src"===da){this[da]=ca=cf(ca,"src"===da)}else{if("img"===Y&&"srcset"===da){for(var Y="",V=fn(ca),R=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,R=/\s/.test(V)?R:/(,)/,V=V.split(R),R=Math.floor(V.length/2),O=0;O<R;O++){var N=2*O,Y=Y+cf(fn(V[N]),!0),Y=Y+(" "+fn(V[N+1]))}V=fn(V[2*O]).split(/\s/);Y+=cf(fn(V[0]),!0);2===V.length&&(Y+=" "+fn(V[1]));this[da]=ca=Y}}!1!==ba&&(null===ca||eY(ca)?this.$$element.removeAttr(aa):Z.test(aa)?this.$$element.attr(aa,ca):bb(this.$$element[0],aa,ca));(da=this.$$observers)&&e1(da[U],function(ge){try{ge(ca)}catch(gf){ga(gf)}})},$observe:function(O,N){var V=this,U=V.$$observers||(V.$$observers=fl()),R=U[O]||(U[O]=[]);R.push(N);fb.$evalAsync(function(){R.$$inter||!V.hasOwnProperty(O)||eY(V[O])||N(V[O])});return function(){e7(R,N)}}};var L=gb.startSymbol(),db=gb.endSymbol(),ab="{{"==L&&"}}"==db?f1:function(N){return N.replace(/\{\{/g,L).replace(/}}/g,db)},dd=/^ngAttr[A-Z]/,fc=/^(.+)Start$/;bg.$$addBindingInfo=n?function(O,N){var R=O.data("$binding")||[];fv(N)?R=R.concat(N):R.push(N);O.data("$binding",R)}:fJ;bg.$$addBindingClass=n?function(N){dg(N,"ng-binding")}:fJ;bg.$$addScopeInfo=n?function(O,N,U,R){O.data(U?R?"$isolateScopeNoTemplate":"$isolateScope":"$scope",N)}:fJ;bg.$$addScopeClass=n?function(O,N){dg(O,N?"ng-isolate-scope":"ng-scope")}:fJ;return bg}]}function al(n){return d4(n.replace(bJ,""))}function fC(q,n){var C="",D=q.split(/\s+/),B=n.split(/\s+/),y=0;q:for(;y<D.length;y++){for(var x=D[y],v=0;v<B.length;v++){if(x==B[v]){continue q}}C+=(0<C.length?" ":"")+x}return C}function a6(q){q=fH(q);var n=q.length;if(1>=n){return q}for(;n--;){8===q[n].nodeType&&fY.call(q,n,1)}return q}function bW(q,n){if(n&&fB(n)){return n}if(fB(q)){var v=eM.exec(q);if(v){return v[3]}}}function ek(){var q={},n=!1;this.register=function(v,x){cK(v,"controller");fD(v)?fr(q,v):q[v]=x};this.allowGlobals=function(){n=!0};this.$get=["$injector","$window",function(x,y){function v(C,B,E,D){if(!C||!fD(C.$scope)){throw fx("$controller")("noscp",D,B)}C.$scope[B]=E}return function(H,G,E,D){var C,B,F;E=!0===E;D&&fB(D)&&(F=D);if(fB(H)){D=H.match(eM);if(!D){throw fw("ctrlfmt",H)}B=D[1];F=F||D[3];H=q.hasOwnProperty(B)?q[B]:aq(G.$scope,B,!0)||(n?aq(y,B,!0):eZ);cX(H,B,!0)}if(E){return E=(fv(H)?H[H.length-1]:H).prototype,C=Object.create(E||null),F&&v(G,F,C,B||H.name),fr(function(){var L=x.invoke(H,C,G,B);L!==C&&(fD(L)||fF(L))&&(C=L,F&&v(G,F,C,B||H.name));return C},{instance:C,identifier:F})}C=x.instantiate(H,G,B);F&&v(G,F,C,B||H.name);return C}}]}function d0(){this.$get=["$window",function(n){return fH(n.document)}]}function dM(){this.$get=["$log",function(n){return function(q,v){n.error.apply(n,arguments)}}]}function fE(n){return fD(n)?fp(n)?n.toISOString():eB(n):n}function cm(){this.$get=function(){return function(q){if(!q){return""}var n=[];br(q,function(v,x){null===v||eY(v)||(fv(v)?e1(v,function(y,B){n.push(dR(x)+"="+dR(fE(y)))}):n.push(dR(x)+"="+dR(fE(v))))});return n.join("&")}}}function bZ(){this.$get=function(){return function(q){function n(x,B,y){null===x||eY(x)||(fv(x)?e1(x,function(C,D){n(C,B+"["+(fD(C)?D:"")+"]")}):fD(x)&&!fp(x)?br(x,function(C,D){n(C,B+(y?"":"[")+D+(y?"":"]"))}):v.push(dR(B)+"="+dR(fE(x))))}if(!q){return""}var v=[];n(q,"",!0);return v.join("&")}}}function e6(q,n){if(fB(q)){var v=q.replace(e2,"").trim();if(v){var x=n("Content-Type");(x=x&&0===x.indexOf(ez))||(x=(x=v.match(eJ))&&ew[x[0]].test(v));x&&(q=z(v))}}return q}function em(q){var n=fl(),v;fB(q)?e1(q.split("\n"),function(x){v=x.indexOf(":");var y=fz(fn(x.substr(0,v)));x=fn(x.substr(v+1));y&&(n[y]=n[y]?n[y]+", "+x:x)}):fD(q)&&e1(q,function(x,C){var B=fz(C),y=fn(x);B&&(n[B]=n[B]?n[B]+", "+y:y)});return n}function d2(q){var n;return function(v){n||(n=em(q));return v?(v=n[fz(v)],void 0===v&&(v=null),v):n}}function dO(q,n,v,x){if(fF(x)){return x(q,n,v)}e1(x,function(y){q=y(q,n,v)});return q}function cz(){var q=this.defaults={transformResponse:[e6],transformRequest:[function(y){return fD(y)&&"[object File]"!==d5.call(y)&&"[object Blob]"!==d5.call(y)&&"[object FormData]"!==d5.call(y)?eB(y):y}],headers:{common:{Accept:"application/json, text/plain, */*"},post:cr(eN),put:cr(eN),patch:cr(eN)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(y){return eW(y)?(n=!!y,this):n};var v=!0;this.useLegacyPromiseExtensions=function(y){return eW(y)?(v=!!y,this):v};var x=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(H,G,F,E,D,C){function B(T){function Y(aa){var Z=fr({},aa);Z.data=dO(aa.data,aa.headers,aa.status,W.transformResponse);aa=aa.status;return 200<=aa&&300>aa?Z:D.reject(Z)}function X(aa,Z){var ae,ab={};e1(aa,function(af,ag){fF(af)?(ae=af(Z),null!=ae&&(ab[ag]=ae)):ab[ag]=af});return ab}if(!fD(T)){throw fx("$http")("badreq",T)}if(!fB(T.url)){throw fx("$http")("badreq",T.url)}var W=fr({method:"get",transformRequest:q.transformRequest,transformResponse:q.transformResponse,paramSerializer:q.paramSerializer},T);W.headers=function(Z){var ag=q.headers,af=fr({},Z.headers),ae,ab,aa,ag=fr({},ag.common,ag[fz(Z.method)]);q:for(ae in ag){ab=fz(ae);for(aa in af){if(fz(aa)===ab){continue q}}af[ae]=ag[ae]}return X(af,cr(Z))}(T);W.method=az(W.method);W.paramSerializer=fB(W.paramSerializer)?C.get(W.paramSerializer):W.paramSerializer;var V=[function(Z){var ab=Z.headers,aa=dO(Z.data,d2(ab),eZ,Z.transformRequest);eY(aa)&&e1(ab,function(af,ae){"content-type"===fz(ae)&&delete ab[ae]});eY(Z.withCredentials)&&!eY(q.withCredentials)&&(Z.withCredentials=q.withCredentials);return y(Z,aa).then(Y,Y)},eZ],U=D.when(W);for(e1(L,function(Z){(Z.request||Z.requestError)&&V.unshift(Z.request,Z.requestError);(Z.response||Z.responseError)&&V.push(Z.response,Z.responseError)});V.length;){T=V.shift();var R=V.shift(),U=U.then(T,R)}v?(U.success=function(Z){cX(Z,"fn");U.then(function(aa){Z(aa.data,aa.status,aa.headers,W)});return U},U.error=function(Z){cX(Z,"fn");U.then(null,function(aa){Z(aa.data,aa.status,aa.headers,W)});return U}):(U.success=dA("success"),U.error=dA("error"));return U}function y(ab,aa){function Y(ag,bd,bc,bb){function ba(){U(bd,ag,bc,bb)}af&&(200<=ag&&300>ag?af.put(V,[ag,bd,em(bc),bb]):af.remove(V));n?E.$applyAsync(ba):(ba(),E.$$phase||E.$apply())}function U(ba,ag,bc,bb){ag=-1<=ag?ag:0;(200<=ag&&300>ag?T.resolve:T.reject)({data:ba,status:ag,headers:d2(bc),config:ab,statusText:bb})}function R(ag){U(ag.data,ag.status,cr(ag.headers()),ag.statusText)}function ae(){var ag=B.pendingRequests.indexOf(ab);-1!==ag&&B.pendingRequests.splice(ag,1)}var T=D.defer(),W=T.promise,af,Z,X=ab.headers,V=O(ab.url,ab.paramSerializer(ab.params));B.pendingRequests.push(ab);W.then(ae,ae);!ab.cache&&!q.cache||!1===ab.cache||"GET"!==ab.method&&"JSONP"!==ab.method||(af=fD(ab.cache)?ab.cache:fD(q.cache)?q.cache:N);af&&(Z=af.get(V),eW(Z)?Z&&fF(Z.then)?Z.then(R,R):fv(Z)?U(Z[1],Z[0],cr(Z[2]),Z[3]):U(Z,200,{},"OK"):af.put(V,W));eY(Z)&&((Z=dm(ab.url)?G()[ab.xsrfCookieName||q.xsrfCookieName]:eZ)&&(X[ab.xsrfHeaderName||q.xsrfHeaderName]=Z),H(ab.method,V,aa,Y,X,ab.timeout,ab.withCredentials,ab.responseType));return W}function O(T,R){0<R.length&&(T+=(-1==T.indexOf("?")?"?":"&")+R);return T}var N=F("$http");q.paramSerializer=fB(q.paramSerializer)?C.get(q.paramSerializer):q.paramSerializer;var L=[];e1(x,function(R){L.unshift(fB(R)?C.get(R):C.invoke(R))});B.pendingRequests=[];(function(R){e1(arguments,function(T){B[T]=function(U,V){return B(fr({},V||{},{method:T,url:U}))}})})("get","delete","head","jsonp");(function(R){e1(arguments,function(T){B[T]=function(U,W,V){return B(fr({},V||{},{method:T,url:U,data:W}))}})})("post","put","patch");B.defaults=q;return B}]}function bA(){this.$get=function(){return function(){return new ft.XMLHttpRequest}}}function bN(){this.$get=["$browser","$window","$document","$xhrFactory",function(q,n,v,x){return ej(q,x,q.defer,n.angular.callbacks,v[0])}]}function ej(q,n,y,B,x){function v(E,D,G){var F=x.createElement("script"),C=null;F.type="text/javascript";F.src=E;F.async=!0;C=function(H){F.removeEventListener("load",C,!1);F.removeEventListener("error",C,!1);x.body.removeChild(F);F=null;var N=-1,L="unknown";H&&("load"!==H.type||B[D].called||(H={type:"error"}),L=H.type,N="error"===H.type?404:200);G&&G(N,L)};F.addEventListener("load",C,!1);F.addEventListener("error",C,!1);x.body.appendChild(F);return C}return function(N,L,H,G,F,C,X,U){function R(){T&&T();V&&V.abort()}function W(Y,ae,ab,aa,Z){eW(O)&&y.cancel(O);T=V=null;Y(ae,ab,aa,Z);q.$$completeOutstandingRequest(fJ)}q.$$incOutstandingRequestCount();L=L||q.url();if("jsonp"==fz(N)){var D="_"+(B.counter++).toString(36);B[D]=function(Y){B[D].data=Y;B[D].called=!0};var T=v(L.replace("JSON_CALLBACK","angular.callbacks."+D),D,function(Z,Y){W(G,Z,B[D].data,"",Y);B[D]=fJ})}else{var V=n(N,L);V.open(N,L,!0);e1(F,function(Z,Y){eW(Z)&&V.setRequestHeader(Y,Z)});V.onload=function(){var Z=V.statusText||"",Y="response" in V?V.response:V.responseText,aa=1223===V.status?204:V.status;0===aa&&(aa=Y?200:"file"==fX(L).protocol?404:0);W(G,aa,Y,V.getAllResponseHeaders(),Z)};N=function(){W(G,-1,null,null,"")};V.onerror=N;V.onabort=N;X&&(V.withCredentials=!0);if(U){try{V.responseType=U}catch(E){if("json"!==U){throw E}}}V.send(eY(H)?null:H)}if(0<C){var O=y(R,C)}else{C&&fF(C.then)&&C.then(R)}}}function cZ(){var q="{{",n="}}";this.startSymbol=function(v){return v?(q=v,this):q};this.endSymbol=function(v){return v?(n=v,this):n};this.$get=["$parse","$exceptionHandler","$sce",function(G,H,F){function E(N){return"\\\\\\"+N}function D(N){return N.replace(v,q).replace(L,n)}function C(O,N,U,T){var R;return R=O.$watch(function(V){R();return T(V)},N,U)}function B(Z,U,N,O){function af(ba){try{var ag=ba;ba=N?F.getTrusted(N,ag):F.valueOf(ag);var bc;if(O&&!eW(ba)){bc=ba}else{if(null==ba){bc=""}else{switch(typeof ba){case"string":break;case"number":ba=""+ba;break;default:ba=eB(ba)}bc=ba}}return bc}catch(bb){H(eX.interr(Z,bb))}}if(!Z.length||-1===Z.indexOf(q)){var ae;U||(U=D(Z),ae=fI(U),ae.exp=Z,ae.expressions=[],ae.$$watchDelegate=C);return ae}O=!!O;var T,ab,R=0,X=[],W=[];ae=Z.length;for(var aa=[],Y=[];R<ae;){if(-1!=(T=Z.indexOf(q,R))&&-1!=(ab=Z.indexOf(n,T+y))){R!==T&&aa.push(D(Z.substring(R,T))),R=Z.substring(T+y,ab),X.push(R),W.push(G(R,af)),R=ab+x,Y.push(aa.length),aa.push("")}else{R!==ae&&aa.push(D(Z.substring(R)));break}}N&&1<aa.length&&eX.throwNoconcat(Z);if(!U||X.length){var V=function(ba){for(var ag=0,bb=X.length;ag<bb;ag++){if(O&&eY(ba[ag])){return}aa[Y[ag]]=ba[ag]}return aa.join("")};return fr(function(ba){var ag=0,bd=X.length,bc=Array(bd);try{for(;ag<bd;ag++){bc[ag]=W[ag](ba)}return V(bc)}catch(bb){H(eX.interr(Z,bb))}},{exp:Z,expressions:X,$$watchDelegate:function(ba,ag){var bb;return ba.$watchGroup(W,function(be,bd){var bc=V(be);fF(ag)&&ag.call(this,bc,be!==bd?bb:bc,ba);bb=bc})}})}}var y=q.length,x=n.length,v=new RegExp(q.replace(/./g,E),"g"),L=new RegExp(n.replace(/./g,E),"g");B.startSymbol=function(){return q};B.endSymbol=function(){return n};return B}]}function cM(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(q,n,B,C,y){function x(N,L,H,G){function D(){W?N.apply(null,T):N(E)}var W=4<arguments.length,T=W?I.call(arguments,4):[],O=n.setInterval,V=n.clearInterval,E=0,R=eW(G)&&!G,U=(R?C:B).defer(),F=U.promise;H=eW(H)?H:0;F.$$intervalId=O(function(){R?y.defer(D):q.$evalAsync(D);U.notify(E++);0<H&&E>=H&&(U.resolve(E),V(F.$$intervalId),delete v[F.$$intervalId]);R||q.$apply()},L);v[F.$$intervalId]=U;return F}var v={};x.cancel=function(D){return D&&D.$$intervalId in v?(v[D.$$intervalId].reject("canceled"),n.clearInterval(D.$$intervalId),delete v[D.$$intervalId],!0):!1};return x}]}function eA(q){q=q.split("/");for(var n=q.length;n--;){q[n]=bE(q[n])}return q.join("/")}function c1(q,n){var v=fX(q);n.$$protocol=v.protocol;n.$$host=v.hostname;n.$$port=e8(v.port)||dZ[v.protocol]||null}function cO(q,n){var v="/"!==q.charAt(0);v&&(q="/"+q);var x=fX(q);n.$$path=decodeURIComponent(v&&"/"===x.pathname.charAt(0)?x.pathname.substring(1):x.pathname);n.$$search=fV(x.search);n.$$hash=decodeURIComponent(x.hash);n.$$path&&"/"!=n.$$path.charAt(0)&&(n.$$path="/"+n.$$path)}function bS(q,n){if(0===n.indexOf(q)){return n.substr(q.length)}}function fQ(q){var n=q.indexOf("#");return -1==n?q:q.substr(0,n)}function c3(n){return n.replace(/(#.+)|#$/,"$1")}function en(q,n,v){this.$$html5=!0;v=v||"";c1(q,this);this.$$parse=function(x){var y=bS(n,x);if(!fB(y)){throw b("ipthprfx",x,n)}cO(y,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var x=cw(this.$$search),y=this.$$hash?"#"+bE(this.$$hash):"";this.$$url=eA(this.$$path)+(x?"?"+x:"")+y;this.$$absUrl=n+this.$$url.substr(1)};this.$$parseLinkUrl=function(C,B){if(B&&"#"===B[0]){return this.hash(B.slice(1)),!0}var y,x;eW(y=bS(q,C))?(x=y,x=eW(y=bS(v,y))?n+(bS("/",y)||y):q+x):eW(y=bS(n,C))?x=n+y:n==C+"/"&&(x=n);x&&this.$$parse(x);return !!x}}function d3(q,n,v){c1(q,this);this.$$parse=function(C){var B=bS(q,C)||bS(n,C),y;eY(B)||"#"!==B.charAt(0)?this.$$html5?y=B:(y="",eY(B)&&(q=C,this.replace())):(y=bS(v,B),eY(y)&&(y=B));cO(y,this);C=this.$$path;var B=q,x=/^\/[A-Z]:(\/.*)/;0===y.indexOf(B)&&(y=y.replace(B,""));x.exec(y)||(C=(y=x.exec(C))?y[1]:C);this.$$path=C;this.$$compose()};this.$$compose=function(){var x=cw(this.$$search),y=this.$$hash?"#"+bE(this.$$hash):"";this.$$url=eA(this.$$path)+(x?"?"+x:"")+y;this.$$absUrl=q+(this.$$url?v+this.$$url:"")};this.$$parseLinkUrl=function(x,y){return fQ(q)==fQ(x)?(this.$$parse(x),!0):!1}}function cB(q,n,v){this.$$html5=!0;d3.apply(this,arguments);this.$$parseLinkUrl=function(C,B){if(B&&"#"===B[0]){return this.hash(B.slice(1)),!0}var y,x;q==fQ(C)?y=C:(x=bS(n,C))?y=q+v+x:n===C+"/"&&(y=n);y&&this.$$parse(y);return !!y};this.$$compose=function(){var x=cw(this.$$search),y=this.$$hash?"#"+bE(this.$$hash):"";this.$$url=eA(this.$$path)+(x?"?"+x:"")+y;this.$$absUrl=q+v+this.$$url}}function f8(n){return function(){return this[n]}}function co(q,n){return function(v){if(eY(v)){return this[q]}this[q]=n(v);this.$$compose();return this}}function bo(){var q="",n={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(v){return eW(v)?(q=v,this):q};this.html5Mode=function(v){return ei(v)?(n.enabled=v,this):fD(v)?(ei(v.enabled)&&(n.enabled=v.enabled),ei(v.requireBase)&&(n.requireBase=v.requireBase),ei(v.rewriteLinks)&&(n.rewriteLinks=v.rewriteLinks),this):n};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(H,L,G,F,E){function D(U,T,Y){var X=B.url(),W=B.$$state;try{L.url(U,T,Y),B.$$state=L.state()}catch(V){throw B.url(X),B.$$state=W,V}}function C(U,T){H.$broadcast("$locationChangeSuccess",B.absUrl(),U,B.$$state,T)}var B,y;y=L.baseHref();var v=L.url(),R;if(n.enabled){if(!y&&n.requireBase){throw b("nobase")}R=v.substring(0,v.indexOf("/",v.indexOf("//")+2))+(y||"/");y=G.history?en:cB}else{R=fQ(v),y=d3}var N=R.substr(0,fQ(R).lastIndexOf("/")+1);B=new y(R,N,"#"+q);B.$$parseLinkUrl(v,v);B.$$state=L.state();var x=/^\s*(javascript|mailto):/i;F.on("click",function(T){if(n.rewriteLinks&&!T.ctrlKey&&!T.metaKey&&!T.shiftKey&&2!=T.which&&2!=T.button){for(var W=fH(T.target);"a"!==bt(W[0]);){if(W[0]===F[0]||!(W=W.parent())[0]){return}}var V=W.prop("href"),U=W.attr("href")||W.attr("xlink:href");fD(V)&&"[object SVGAnimatedString]"===V.toString()&&(V=fX(V.animVal).href);x.test(V)||!V||W.attr("target")||T.isDefaultPrevented()||!B.$$parseLinkUrl(V,U)||(T.preventDefault(),B.absUrl()!=L.url()&&(H.$apply(),E.angular["ff-684208-preventDefault"]=!0))}});c3(B.absUrl())!=c3(v)&&L.url(B.absUrl(),!0);var O=!0;L.onUrlChange(function(U,T){eY(bS(N,U))?E.location.href=U:(H.$evalAsync(function(){var X=B.absUrl(),W=B.$$state,V;U=c3(U);B.$$parse(U);B.$$state=T;V=H.$broadcast("$locationChangeStart",U,X,T,W).defaultPrevented;B.absUrl()===U&&(V?(B.$$parse(X),B.$$state=W,D(X,!1,W)):(O=!1,C(X,W)))}),H.$$phase||H.$digest())});H.$watch(function(){var V=c3(L.url()),U=c3(B.absUrl()),X=L.state(),W=B.$$replace,T=V!==U||B.$$html5&&G.history&&X!==B.$$state;if(O||T){O=!1,H.$evalAsync(function(){var Y=B.absUrl(),Z=H.$broadcast("$locationChangeStart",Y,V,B.$$state,X).defaultPrevented;B.absUrl()===Y&&(Z?(B.$$parse(V),B.$$state=X):(T&&D(Y,W,X===B.$$state?null:B.$$state),C(V,X)))})}B.$$replace=!1});return B}]}function aX(){var q=!0,n=this;this.debugEnabled=function(v){return eW(v)?(q=v,this):q};this.$get=["$window",function(x){function y(B){B instanceof Error&&(B.stack?B=B.message&&-1===B.stack.indexOf(B.message)?"Error: "+B.message+"\n"+B.stack:B.stack:B.sourceURL&&(B=B.message+"\n"+B.sourceURL+":"+B.line));return B}function v(C){var B=x.console||{},E=B[C]||B.log||fJ;C=!1;try{C=!!E.apply}catch(D){}return C?function(){var F=[];e1(arguments,function(G){F.push(y(G))});return E.apply(B,F)}:function(G,F){E(G,null==F?"":F)}}return{log:v("log"),info:v("info"),warn:v("warn"),error:v("error"),debug:function(){var B=v("debug");return function(){q&&B.apply(n,arguments)}}()}}]}function bL(q,n){if("__defineGetter__"===q||"__defineSetter__"===q||"__lookupGetter__"===q||"__lookupSetter__"===q||"__proto__"===q){throw c4("isecfld",n)}return q}function dL(n){return n+""}function bm(q,n){if(q){if(q.constructor===q){throw c4("isecfn",n)}if(q.window===q){throw c4("isecwindow",n)}if(q.children&&(q.nodeName||q.prop&&q.attr&&q.find)){throw c4("isecdom",n)}if(q===Object){throw c4("isecobj",n)}}return q}function b1(q,n){if(q){if(q.constructor===q){throw c4("isecfn",n)}if(q===dy||q===dj||q===cY){throw c4("isecff",n)}}}function fP(q,n){if(q&&(q===(0).constructor||q===(!1).constructor||q==="".constructor||q==={}.constructor||q===[].constructor||q===Function.constructor)){throw c4("isecaf",n)}}function cL(q,n){return"undefined"!==typeof q?q:n}function bP(q,n){return"undefined"===typeof q?n:"undefined"===typeof n?q:q+n}function fs(q,n){var v,x;switch(q.type){case e0.Program:v=!0;e1(q.body,function(y){fs(y.expression,n);v=v&&y.expression.constant});q.constant=v;break;case e0.Literal:q.constant=!0;q.toWatch=[];break;case e0.UnaryExpression:fs(q.argument,n);q.constant=q.argument.constant;q.toWatch=q.argument.toWatch;break;case e0.BinaryExpression:fs(q.left,n);fs(q.right,n);q.constant=q.left.constant&&q.right.constant;q.toWatch=q.left.toWatch.concat(q.right.toWatch);break;case e0.LogicalExpression:fs(q.left,n);fs(q.right,n);q.constant=q.left.constant&&q.right.constant;q.toWatch=q.constant?[]:[q];break;case e0.ConditionalExpression:fs(q.test,n);fs(q.alternate,n);fs(q.consequent,n);q.constant=q.test.constant&&q.alternate.constant&&q.consequent.constant;q.toWatch=q.constant?[]:[q];break;case e0.Identifier:q.constant=!1;q.toWatch=[q];break;case e0.MemberExpression:fs(q.object,n);q.computed&&fs(q.property,n);q.constant=q.object.constant&&(!q.computed||q.property.constant);q.toWatch=[q];break;case e0.CallExpression:v=q.filter?!n(q.callee.name).$stateful:!1;x=[];e1(q.arguments,function(y){fs(y,n);v=v&&y.constant;y.constant||x.push.apply(x,y.toWatch)});q.constant=v;q.toWatch=q.filter&&!n(q.callee.name).$stateful?x:[q];break;case e0.AssignmentExpression:fs(q.left,n);fs(q.right,n);q.constant=q.left.constant&&q.right.constant;q.toWatch=[q];break;case e0.ArrayExpression:v=!0;x=[];e1(q.elements,function(y){fs(y,n);v=v&&y.constant;y.constant||x.push.apply(x,y.toWatch)});q.constant=v;q.toWatch=x;break;case e0.ObjectExpression:v=!0;x=[];e1(q.properties,function(y){fs(y.value,n);v=v&&y.value.constant;y.value.constant||x.push.apply(x,y.value.toWatch)});q.constant=v;q.toWatch=x;break;case e0.ThisExpression:q.constant=!1;q.toWatch=[];break;case e0.LocalsExpression:q.constant=!1,q.toWatch=[]}}function bC(q){if(1==q.length){q=q[0].expression;var n=q.toWatch;return 1!==n.length?n:n[0]!==q?n:eZ}}function bq(n){return n.type===e0.Identifier||n.type===e0.MemberExpression}function aZ(n){if(1===n.body.length&&bq(n.body[0].expression)){return{type:e0.AssignmentExpression,left:n.body[0].expression,right:{type:e0.NGValueParameter},operator:"="}}}function aL(n){return 0===n.body.length||1===n.body.length&&(n.body[0].expression.type===e0.Literal||n.body[0].expression.type===e0.ArrayExpression||n.body[0].expression.type===e0.ObjectExpression)}function ax(q,n){this.astBuilder=q;this.$filter=n}function ai(q,n){this.astBuilder=q;this.$filter=n}function fk(n){return"constructor"==n}function dP(n){return fF(n.valueOf)?n.valueOf():cy.call(n)}function aJ(){var q=fl(),n=fl();this.$get=["$filter",function(G){function H(Z,W,V){var T,Y,X;V=V||L;switch(typeof Z){case"string":X=Z=Z.trim();var R=V?n:q;T=R[X];if(!T){":"===Z.charAt(0)&&":"===Z.charAt(1)&&(Y=!0,Z=Z.substring(2));T=V?N:O;var U=new dB(T);T=(new dn(U,G,T)).parse(Z);T.constant?T.$$watchDelegate=y:Y?T.$$watchDelegate=T.literal?B:C:T.inputs&&(T.$$watchDelegate=D);V&&(T=F(T));R[X]=T}return x(T,W);case"function":return x(Z,W);default:return x(fJ,W)}}function F(T){function R(Z,Y,X,W){var V=L;L=!0;try{return T(Z,Y,X,W)}finally{L=V}}if(!T){return T}R.$$watchDelegate=T.$$watchDelegate;R.assign=F(T.assign);R.constant=T.constant;R.literal=T.literal;for(var U=0;T.inputs&&U<T.inputs.length;++U){T.inputs[U]=F(T.inputs[U])}R.inputs=T.inputs;return R}function E(T,R){return null==T||null==R?T===R:"object"===typeof T&&(T=dP(T),"object"===typeof T)?!1:T===R||T!==T&&R!==R}function D(ae,ab,aa,Z,Y){var X=Z.inputs,W;if(1===X.length){var V=E,X=X[0];return ae.$watch(function(ba){var ag=X(ba);E(ag,V)||(W=Z(ba,eZ,eZ,[ag]),V=ag&&dP(ag));return W},ab,aa,Y)}for(var U=[],T=[],R=0,af=X.length;R<af;R++){U[R]=E,T[R]=null}return ae.$watch(function(ba){for(var ag=!1,bd=0,bc=X.length;bd<bc;bd++){var bb=X[bd](ba);if(ag||(ag=!E(bb,U[bd]))){T[bd]=bb,U[bd]=bb&&dP(bb)}}ag&&(W=Z(ba,eZ,eZ,T));return W},ab,aa,Y)}function C(T,R,X,W){var V,U;return V=T.$watch(function(Y){return W(Y)},function(Y,aa,Z){U=Y;fF(R)&&R.apply(this,arguments);eW(Y)&&Z.$$postDigest(function(){eW(U)&&V()})},X)}function B(T,R,Y,X){function W(aa){var Z=!0;e1(aa,function(ab){eW(ab)||(Z=!1)});return Z}var V,U;return V=T.$watch(function(Z){return X(Z)},function(Z,ab,aa){U=Z;fF(R)&&R.call(this,Z,ab,aa);W(Z)&&aa.$$postDigest(function(){W(U)&&V()})},Y)}function y(T,R,W,V){var U;return U=T.$watch(function(X){U();return V(X)},R,W)}function x(T,R){if(!R){return T}var V=T.$$watchDelegate,U=!1,V=V!==B&&V!==C?function(Z,Y,X,W){X=U&&W?W[0]:T(Z,Y,X,W);return R(X,Z,Y)}:function(Z,Y,X,W){X=T(Z,Y,X,W);Z=R(X,Z,Y);return eW(X)?Z:X};T.$$watchDelegate&&T.$$watchDelegate!==D?V.$$watchDelegate=T.$$watchDelegate:R.$stateful||(V.$$watchDelegate=D,U=!T.inputs,V.inputs=T.inputs?T.inputs:[T]);return V}var v=S().noUnsafeEval,O={csp:v,expensiveChecks:!1},N={csp:v,expensiveChecks:!0},L=!1;H.$$runningExpensiveChecks=function(){return L};return H}]}function ad(){this.$get=["$rootScope","$exceptionHandler",function(q,n){return w(function(v){q.$evalAsync(v)},n)}]}function t(){this.$get=["$browser","$exceptionHandler",function(q,n){return w(function(v){q.defer(v)},n)}]}function w(G,F){function D(){this.$$state={status:0}}function E(L,H){return function(N){H.call(L,N)}}function C(H){!H.processScheduled&&H.pending&&(H.processScheduled=!0,G(function(){var L,U,T;T=H.pending;H.processScheduled=!1;H.pending=eZ;for(var R=0,O=T.length;R<O;++R){U=T[R][0];L=T[R][H.status];try{fF(L)?U.resolve(L(H.value)):1===H.status?U.resolve(H.value):U.reject(H.value)}catch(N){U.reject(N),F(N)}}}))}function B(){this.promise=new D}var y=fx("$q",TypeError);fr(D.prototype,{then:function(L,H,O){if(eY(L)&&eY(H)&&eY(O)){return this}var N=new B;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([N,L,H,O]);0<this.$$state.status&&C(this.$$state);return N.promise},"catch":function(H){return this.then(null,H)},"finally":function(L,H){return this.then(function(N){return v(N,!0,L)},function(N){return v(N,!1,L)},H)}});fr(B.prototype,{resolve:function(H){this.promise.$$state.status||(H===this.promise?this.$$reject(y("qcycle",H)):this.$$resolve(H))},$$resolve:function(L){function U(V){N||(N=!0,O.$$resolve(V))}function T(V){N||(N=!0,O.$$reject(V))}var R,O=this,N=!1;try{if(fD(L)||fF(L)){R=L&&L.then}fF(R)?(this.promise.$$state.status=-1,R.call(L,U,T,E(this,this.notify))):(this.promise.$$state.value=L,this.promise.$$state.status=1,C(this.promise.$$state))}catch(H){T(H),F(H)}},reject:function(H){this.promise.$$state.status||this.$$reject(H)},$$reject:function(H){this.promise.$$state.value=H;this.promise.$$state.status=2;C(this.promise.$$state)},notify:function(L){var H=this.promise.$$state.pending;0>=this.promise.$$state.status&&H&&H.length&&G(function(){for(var N,U,T=0,R=H.length;T<R;T++){U=H[T][0];N=H[T][3];try{U.notify(fF(N)?N(L):L)}catch(O){F(O)}}})}});var x=function(L,H){var N=new B;H?N.resolve(L):N.reject(L);return N.promise},v=function(L,H,R){var O=null;try{fF(R)&&(O=R())}catch(N){return x(N,!1)}return O&&fF(O.then)?O.then(function(){return x(L,H)},function(T){return x(T,!1)}):x(L,H)},q=function(L,H,R,O){var N=new B;N.resolve(L);return N.promise.then(H,R,O)},n=function(L){if(!fF(L)){throw y("norslvr",L)}var H=new B;L(function(N){H.resolve(N)},function(N){H.reject(N)});return H.promise};n.prototype=D.prototype;n.defer=function(){var H=new B;H.resolve=E(H,H.resolve);H.reject=E(H,H.reject);H.notify=E(H,H.notify);return H};n.reject=function(L){var H=new B;H.reject(L);return H.promise};n.when=q;n.resolve=q;n.all=function(L){var H=new B,O=0,N=fv(L)?[]:{};e1(L,function(R,T){O++;q(R).then(function(U){N.hasOwnProperty(T)||(N[T]=U,--O||H.resolve(N))},function(U){N.hasOwnProperty(T)||H.reject(U)})});0===O&&H.resolve(N);return H.promise};return n}function l(){this.$get=["$window","$timeout",function(q,n){var y=q.requestAnimationFrame||q.webkitRequestAnimationFrame,B=q.cancelAnimationFrame||q.webkitCancelAnimationFrame||q.webkitCancelRequestAnimationFrame,x=!!y,v=x?function(D){var C=y(D);return function(){B(C)}}:function(C){var D=n(C,16.66,!1);return function(){n.cancel(D)}};v.supported=x;return v}]}function av(){function q(C){function B(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++bR;this.$$ChildScope=null}B.prototype=C;return B}var n=10,x=fx("$rootScope"),y=null,v=null;this.digestTtl=function(B){arguments.length&&(n=B);return n};this.$get=["$exceptionHandler","$parse","$browser",function(N,L,H){function G(Y){Y.currentScope.$$destroyed=!0}function F(Y){9===j&&(Y.$$childHead&&F(Y.$$childHead),Y.$$nextSibling&&F(Y.$$nextSibling));Y.$parent=Y.$$nextSibling=Y.$$prevSibling=Y.$$childHead=Y.$$childTail=Y.$root=Y.$$watchers=null}function E(){this.$id=++bR;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}function B(Y){if(R.$$phase){throw x("inprog",R.$$phase)}R.$$phase=Y}function X(Z,Y){do{Z.$$watchersCount+=Y}while(Z=Z.$parent)}function T(Z,Y,aa){do{Z.$$listenerCount[aa]-=Y,0===Z.$$listenerCount[aa]&&delete Z.$$listenerCount[aa]}while(Z=Z.$parent)}function C(){}function W(){for(;O.length;){try{O.shift()()}catch(Y){N(Y)}}v=null}function D(){null===v&&(v=H.defer(function(){R.$apply(W)}))}E.prototype={constructor:E,$new:function(Y,aa){var Z;aa=aa||this;Y?(Z=new E,Z.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=q(this)),Z=new this.$$ChildScope);Z.$parent=aa;Z.$$prevSibling=aa.$$childTail;aa.$$childHead?(aa.$$childTail.$$nextSibling=Z,aa.$$childTail=Z):aa.$$childHead=aa.$$childTail=Z;(Y||aa!=this)&&Z.$on("$destroy",G);return Z},$watch:function(aa,Y,ba,ag){var af=L(aa);if(af.$$watchDelegate){return af.$$watchDelegate(this,Y,ba,af,aa)}var ae=this,ab=ae.$$watchers,Z={fn:Y,last:C,get:af,exp:ag||aa,eq:!!ba};y=null;fF(Y)||(Z.fn=fJ);ab||(ab=ae.$$watchers=[]);ab.unshift(Z);X(this,1);return function(){0<=e7(ab,Z)&&X(ae,-1);y=null}},$watchGroup:function(bc,bb){function ba(){aa=!1;Z?(Z=!1,bb(af,af,ab)):bb(af,ag,ab)}var ag=Array(bc.length),af=Array(bc.length),ae=[],ab=this,aa=!1,Z=!0;if(!bc.length){var Y=!0;ab.$evalAsync(function(){Y&&bb(af,af,ab)});return function(){Y=!1}}if(1===bc.length){return this.$watch(bc[0],function(bd,bf,be){af[0]=bd;ag[0]=bf;bb(af,bd===bf?af:ag,be)})}e1(bc,function(be,bd){var bf=ab.$watch(be,function(bg,ca){af[bd]=bg;ag[bd]=ca;aa||(aa=!0,ab.$evalAsync(ba))});ae.push(bf)});return function(){for(;ae.length;){ae.shift()()}}},$watchCollection:function(be,bd){function bc(cb){ba=cb;var ca,ce,cd,cc;if(!eY(ba)){if(fD(ba)){if(aH(ba)){for(ag!==Y&&(ag=Y,bf=ag.length=0,ab++),cb=ba.length,bf!==cb&&(ab++,ag.length=bf=cb),ca=0;ca<cb;ca++){cc=ag[ca],cd=ba[ca],ce=cc!==cc&&cd!==cd,ce||cc===cd||(ab++,ag[ca]=cd)}}else{ag!==bg&&(ag=bg={},bf=0,ab++);cb=0;for(ca in ba){a2.call(ba,ca)&&(cb++,cd=ba[ca],cc=ag[ca],ca in ag?(ce=cc!==cc&&cd!==cd,ce||cc===cd||(ab++,ag[ca]=cd)):(bf++,ag[ca]=cd,ab++))}if(bf>cb){for(ca in ab++,ag){a2.call(ba,ca)||(bf--,delete ag[ca])}}}}else{ag!==ba&&(ag=ba,ab++)}return ab}}bc.$stateful=!0;var bb=this,ba,ag,af,ae=1<bd.length,ab=0,aa=L(be,bc),Y=[],bg={},Z=!0,bf=0;return this.$watch(aa,function(){Z?(Z=!1,bd(ba,ba,bb)):bd(ba,af,bb);if(ae){if(fD(ba)){if(aH(ba)){af=Array(ba.length);for(var ca=0;ca<ba.length;ca++){af[ca]=ba[ca]}}else{for(ca in af={},ba){a2.call(ba,ca)&&(af[ca]=ba[ca])}}}else{af=ba}}})},$digest:function(){var be,ba,ag,af,ae,cb,aa,ab,bf=n,bb,bc=[],bd,Y;B("$digest");H.$$checkUrlChange();this===R&&null!==v&&(H.defer.cancel(v),W());y=null;do{ab=!1;for(bb=this;V.length;){try{Y=V.shift(),Y.scope.$eval(Y.expression,Y.locals)}catch(Z){N(Z)}y=null}be:do{if(cb=bb.$$watchers){for(aa=cb.length;aa--;){try{if(be=cb[aa]){if(ae=be.get,(ba=ae(bb))!==(ag=be.last)&&!(be.eq?b4(ba,ag):"number"===typeof ba&&"number"===typeof ag&&isNaN(ba)&&isNaN(ag))){ab=!0,y=be,be.last=be.eq?dY(ba,null):ba,af=be.fn,af(ba,ag===C?ba:ag,bb),5>bf&&(bd=4-bf,bc[bd]||(bc[bd]=[]),bc[bd].push({msg:fF(be.exp)?"fn: "+(be.exp.name||be.exp.toString()):be.exp,newVal:ba,oldVal:ag}))}else{if(be===y){ab=!1;break be}}}}catch(ca){N(ca)}}}if(!(cb=bb.$$watchersCount&&bb.$$childHead||bb!==this&&bb.$$nextSibling)){for(;bb!==this&&!(cb=bb.$$nextSibling);){bb=bb.$parent}}}while(bb=cb);if((ab||V.length)&&!bf--){throw R.$$phase=null,x("infdig",n,bc)}}while(ab||V.length);for(R.$$phase=null;U.length;){try{U.shift()()}catch(bg){N(bg)}}},$destroy:function(){if(!this.$$destroyed){var Z=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;this===R&&H.$$applicationDestroyed();X(this,-this.$$watchersCount);for(var Y in this.$$listenerCount){T(this,this.$$listenerCount[Y],Y)}Z&&Z.$$childHead==this&&(Z.$$childHead=this.$$nextSibling);Z&&Z.$$childTail==this&&(Z.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=fJ;this.$on=this.$watch=this.$watchGroup=function(){return fJ};this.$$listeners={};this.$$nextSibling=null;F(this)}},$eval:function(Z,Y){return L(Z)(this,Y)},$evalAsync:function(Z,Y){R.$$phase||V.length||H.defer(function(){V.length&&R.$digest()});V.push({scope:this,expression:L(Z),locals:Y})},$$postDigest:function(Y){U.push(Y)},$apply:function(Z){try{B("$apply");try{return this.$eval(Z)}finally{R.$$phase=null}}catch(Y){N(Y)}finally{try{R.$digest()}catch(aa){throw N(aa),aa}}},$applyAsync:function(Z){function Y(){aa.$eval(Z)}var aa=this;Z&&O.push(Y);Z=L(Z);D()},$on:function(Z,Y){var ae=this.$$listeners[Z];ae||(this.$$listeners[Z]=ae=[]);ae.push(Y);var ab=this;do{ab.$$listenerCount[Z]||(ab.$$listenerCount[Z]=0),ab.$$listenerCount[Z]++}while(ab=ab.$parent);var aa=this;return function(){var af=ae.indexOf(Y);-1!==af&&(ae[af]=null,T(aa,1,Z))}},$emit:function(bd,bc){var bb=[],ba,ag=this,af=!1,ae={name:bd,targetScope:ag,stopPropagation:function(){af=!0},preventDefault:function(){ae.defaultPrevented=!0},defaultPrevented:!1},ab=eO([ae],arguments,1),aa,Z;do{ba=ag.$$listeners[bd]||bb;ae.currentScope=ag;aa=0;for(Z=ba.length;aa<Z;aa++){if(ba[aa]){try{ba[aa].apply(null,ab)}catch(Y){N(Y)}}else{ba.splice(aa,1),aa--,Z--}}if(af){return ae.currentScope=null,ae}ag=ag.$parent}while(ag);ae.currentScope=null;return ae},$broadcast:function(bb,ba){var ag=this,af=this,ae={name:bb,targetScope:this,preventDefault:function(){ae.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[bb]){return ae}for(var ab=eO([ae],arguments,1),aa,Z;ag=af;){ae.currentScope=ag;af=ag.$$listeners[bb]||[];aa=0;for(Z=af.length;aa<Z;aa++){if(af[aa]){try{af[aa].apply(null,ab)}catch(Y){N(Y)}}else{af.splice(aa,1),aa--,Z--}}if(!(af=ag.$$listenerCount[bb]&&ag.$$childHead||ag!==this&&ag.$$nextSibling)){for(;ag!==this&&!(af=ag.$$nextSibling);){ag=ag.$parent}}}ae.currentScope=null;return ae}};var R=new E,V=R.$$asyncQueue=[],U=R.$$postDigestQueue=[],O=R.$$applyAsyncQueue=[];return R}]}function cn(){var q=/^\s*(https?|ftp|mailto|tel|file):/,n=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(v){return eW(v)?(q=v,this):q};this.imgSrcSanitizationWhitelist=function(v){return eW(v)?(n=v,this):n};this.$get=function(){return function(y,B){var x=B?n:q,v;v=fX(y).href;return""===v||v.match(x)?y:"unsafe:"+v}}}function cl(n){if("self"===n){return n}if(fB(n)){if(-1<n.indexOf("***")){throw aV("iwcard",n)}n=g(n).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+n+"$")}if(ck(n)){return new RegExp("^"+n.source+"$")}throw aV("imatcher")}function gk(q){var n=[];eW(q)&&e1(q,function(v){n.push(cl(v))});return n}function gi(){this.SCE_CONTEXTS=bF;var q=["self"],n=[];this.resourceUrlWhitelist=function(v){arguments.length&&(q=gk(v));return q};this.resourceUrlBlacklist=function(v){arguments.length&&(n=gk(v));return n};this.$get=["$injector",function(C){function D(F,E){return"self"===F?dm(E):!!F.exec(E.href)}function B(F){var E=function(G){this.$$unwrapTrustedValue=function(){return G}};F&&(E.prototype=new F);E.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};E.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return E}var y=function(E){throw aV("unsafe")};C.has("$sanitize")&&(y=C.get("$sanitize"));var x=B(),v={};v[bF.HTML]=B(x);v[bF.CSS]=B(x);v[bF.URL]=B(x);v[bF.JS]=B(x);v[bF.RESOURCE_URL]=B(v[bF.URL]);return{trustAs:function(F,E){var G=v.hasOwnProperty(F)?v[F]:null;if(!G){throw aV("icontext",F,E)}if(null===E||eY(E)||""===E){return E}if("string"!==typeof E){throw aV("itype",F)}return new G(E)},getTrusted:function(L,H){if(null===H||eY(H)||""===H){return H}var G=v.hasOwnProperty(L)?v[L]:null;if(G&&H instanceof G){return H.$$unwrapTrustedValue()}if(L===bF.RESOURCE_URL){var G=fX(H.toString()),F,E,N=!1;F=0;for(E=q.length;F<E;F++){if(D(q[F],G)){N=!0;break}}if(N){for(F=0,E=n.length;F<E;F++){if(D(n[F],G)){N=!1;break}}}if(N){return H}throw aV("insecurl",H.toString())}if(L===bF.HTML){return y(H)}throw aV("unsafe")},valueOf:function(E){return E instanceof x?E.$$unwrapTrustedValue():E}}}]}function e(){var n=!0;this.enabled=function(q){arguments.length&&(n=!!q);return n};this.$get=["$parse","$sceDelegate",function(q,B){if(n&&8>j){throw aV("iequirks")}var C=cr(bF);C.isEnabled=function(){return n};C.trustAs=B.trustAs;C.getTrusted=B.getTrusted;C.valueOf=B.valueOf;n||(C.trustAs=C.getTrusted=function(E,D){return D},C.valueOf=f1);C.parseAs=function(D,F){var E=q(F);return E.literal&&E.constant?E:q(F,function(G){return C.getTrusted(D,G)})};var y=C.parseAs,x=C.getTrusted,v=C.trustAs;e1(bF,function(E,D){var F=fz(D);C[d4("parse_as_"+F)]=function(G){return y(E,G)};C[d4("get_trusted_"+F)]=function(G){return x(E,G)};C[d4("trust_as_"+F)]=function(G){return v(E,G)}});return C}]}function fS(){this.$get=["$window","$document",function(H,G){var E={},F=e8((/android (\d+)/.exec(fz((H.navigator||{}).userAgent))||[])[1]),D=/Boxee/i.test((H.navigator||{}).userAgent),C=G[0]||{},B,y=/^(Moz|webkit|ms)(?=[A-Z])/,x=C.body&&C.body.style,v=!1,q=!1;if(x){for(var n in x){if(v=y.exec(n)){B=v[0];B=B.substr(0,1).toUpperCase()+B.substr(1);break}}B||(B="WebkitOpacity" in x&&"webkit");v=!!("transition" in x||B+"Transition" in x);q=!!("animation" in x||B+"Animation" in x);!F||v&&q||(v=fB(x.webkitTransition),q=fB(x.webkitAnimation))}return{history:!(!H.history||!H.history.pushState||4>F||D),hasEvent:function(N){if("input"===N&&11>=j){return !1}if(eY(E[N])){var L=C.createElement("div");E[N]="on"+N in L}return E[N]},csp:S(),vendorPrefix:B,transitions:v,animations:q,android:F}}]}function aQ(){var n;this.httpOptions=function(q){return q?(n=q,this):n};this.$get=["$templateCache","$http","$q","$sce",function(q,y,B,x){function v(E,D){v.totalPendingRequests++;fB(E)&&q.get(E)||(E=x.getTrustedResourceUrl(E));var C=y.defaults&&y.defaults.transformResponse;fv(C)?C=C.filter(function(F){return F!==e6}):C===e6&&(C=null);return y.get(E,fr({cache:q,transformResponse:C},n))["finally"](function(){v.totalPendingRequests--}).then(function(F){q.put(E,F.data);return F.data},function(F){if(!D){throw dq("tpload",E,F.status,F.statusText)}return B.reject(F)})}v.totalPendingRequests=0;return v}]}function aC(){this.$get=["$rootScope","$browser","$location",function(q,n,v){return{findBindings:function(y,x,C){y=y.getElementsByClassName("ng-binding");var B=[];e1(y,function(D){var E=dD.element(D).data("$binding");E&&e1(E,function(F){C?(new RegExp("(^|\\s)"+g(x)+"(\\s|\\||$)")).test(F)&&B.push(D):-1!=F.indexOf(x)&&B.push(D)})});return B},findModels:function(y,x,E){for(var D=["ng-","data-ng-","ng\\:"],C=0;C<D.length;++C){var B=y.querySelectorAll("["+D[C]+"model"+(E?"=":"*=")+'"'+x+'"]');if(B.length){return B}}},getLocation:function(){return v.url()},setLocation:function(x){x!==v.url()&&(v.url(x),q.$digest())},whenStable:function(x){n.notifyWhenNoOutstandingRequests(x)}}}]}function an(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(q,n,B,C,y){function x(N,F,E){fF(N)||(E=F,F=N,N=fJ);var D=I.call(arguments,3),H=eW(E)&&!E,G=(H?C:B).defer(),O=G.promise,L;L=n.defer(function(){try{G.resolve(N.apply(null,D))}catch(R){G.reject(R),y(R)}finally{delete v[O.$$timeoutId]}H||q.$apply()},F);O.$$timeoutId=L;v[L]=G;return O}var v={};x.cancel=function(D){return D&&D.$$timeoutId in v?(v[D.$$timeoutId].reject("canceled"),delete v[D.$$timeoutId],n.defer.cancel(D.$$timeoutId)):!1};return x}]}function fX(n){j&&(fm.setAttribute("href",n),n=fm.href);fm.setAttribute("href",n);return{href:fm.href,protocol:fm.protocol?fm.protocol.replace(/:$/,""):"",host:fm.host,search:fm.search?fm.search.replace(/^\?/,""):"",hash:fm.hash?fm.hash.replace(/^#/,""):"",hostname:fm.hostname,port:fm.port,pathname:"/"===fm.pathname.charAt(0)?fm.pathname:"/"+fm.pathname}}function dm(n){n=fB(n)?fX(n):n;return n.protocol===fU.protocol&&n.host===fU.host}function K(){this.$get=fI(ft)}function bj(q){function n(C){try{return decodeURIComponent(C)}catch(B){return C}}var x=q[0]||{},y={},v="";return function(){var C,F,E,D,B;C=x.cookie||"";if(C!==v){for(v=C,C=v.split("; "),y={},E=0;E<C.length;E++){F=C[E],D=F.indexOf("="),0<D&&(B=n(F.substring(0,D)),eY(y[B])&&(y[B]=n(F.substring(D+1))))}}return y}}function fL(){this.$get=bj}function eG(q){function n(x,y){if(fD(x)){var v={};e1(x,function(B,C){v[C]=n(C,B)});return v}return q.factory(x+"Filter",y)}this.register=n;this.$get=["$injector",function(v){return function(x){return v.get(x+"Filter")}}];n("currency",aS);n("date",aE);n("filter",bY);n("json",bM);n("limitTo",bz);n("lowercase",bn);n("number",ap);n("orderBy",P);n("uppercase",aW)}function bY(){return function(q,n,v){if(!aH(q)){if(null==q){return q}throw fx("filter")("notarray",q)}var x;switch(c2(n)){case"function":break;case"boolean":case"null":case"number":case"string":x=!0;case"object":n=aI(n,v,x);break;default:return q}return Array.prototype.filter.call(q,n)}}function aI(q,n,v){var x=fD(q)&&"$" in q;!0===n?n=b4:fF(n)||(n=function(B,y){if(eY(B)){return !1}if(null===B||null===y){return B===y}if(fD(y)||fD(B)&&!aM(B)){return !1}B=fz(""+B);y=fz(""+y);return -1!==B.indexOf(y)});return function(y){return x&&!fD(y)?eI(y,q.$,n,!1):eI(y,q,n,v)}}function eI(q,n,C,D,B){var y=c2(q),x=c2(n);if("string"===x&&"!"===n.charAt(0)){return !eI(q,n.substring(1),C,D)}if(fv(q)){return q.some(function(E){return eI(E,n,C,D)})}switch(y){case"object":var v;if(D){for(v in q){if("$"!==v.charAt(0)&&eI(q[v],n,C,!0)){return !0}}return B?!1:eI(q,n,C,!1)}if("object"===x){for(v in n){if(B=n[v],!fF(B)&&!eY(B)&&(y="$"===v,!eI(y?q:q[v],B,C,y,y))){return !1}}return !0}return C(q,n);case"function":return !1;default:return C(q,n)}}function c2(n){return null===n?"null":typeof n}function aS(q){var n=q.NUMBER_FORMATS;return function(v,y,x){eY(y)&&(y=n.CURRENCY_SYM);eY(x)&&(x=n.PATTERNS[1].maxFrac);return null==v?v:o(v,n.PATTERNS[1],n.GROUP_SEP,n.DECIMAL_SEP,x).replace(/\u00A4/g,y)}}function ap(q){var n=q.NUMBER_FORMATS;return function(v,x){return null==v?v:o(v,n.PATTERNS[0],n.GROUP_SEP,n.DECIMAL_SEP,x)}}function au(q){var n=0,B,C,y,x,v;-1<(C=q.indexOf(gq))&&(q=q.replace(gq,""));0<(y=q.search(/e/i))?(0>C&&(C=y),C+=+q.slice(y+1),q=q.substring(0,y)):0>C&&(C=q.length);for(y=0;q.charAt(y)==cP;y++){}if(y==(v=q.length)){B=[0],C=1}else{for(v--;q.charAt(v)==cP;){v--}C-=y;B=[];for(x=0;y<=v;y++,x++){B[x]=+q.charAt(y)}}C>f6&&(B=B.splice(0,f6-1),n=C-1,C=1);return{d:B,e:n,i:C}}function ac(q,n,B,C){var y=q.d,x=y.length-q.i;n=eY(n)?Math.min(Math.max(B,x),C):+n;B=n+q.i;C=y[B];if(0<B){y.splice(B)}else{q.i=1;y.length=B=n+1;for(var v=0;v<B;v++){y[v]=0}}for(5<=C&&y[B-1]++;x<n;x++){y.push(0)}if(n=y.reduceRight(function(E,D,G,F){D+=E;F[G]=D%10;return Math.floor(D/10)},0)){y.unshift(n),q.i++}}function o(E,D,B,C,y){if(!fB(E)&&!fu(E)||isNaN(E)){return""}var x=!isFinite(E),v=!1,q=Math.abs(E)+"",n="";if(x){n="\u221e"}else{v=au(q);ac(v,y,D.minFrac,D.maxFrac);n=v.d;q=v.i;y=v.e;x=[];for(v=n.reduce(function(G,F){return G&&!F},!0);0>q;){n.unshift(0),q++}0<q?x=n.splice(q):(x=n,n=[0]);q=[];for(n.length>D.lgSize&&q.unshift(n.splice(-D.lgSize).join(""));n.length>D.gSize;){q.unshift(n.splice(-D.gSize).join(""))}n.length&&q.unshift(n.join(""));n=q.join(B);x.length&&(n+=C+x.join(""));y&&(n+="e+"+y)}return 0>E&&!v?D.negPre+n+D.negSuf:D.posPre+n+D.posSuf}function eV(q,n,v){var x="";0>q&&(x="-",q=-q);for(q=""+q;q.length<n;){q=cP+q}v&&(q=q.substr(q.length-n));return x+q}function f2(q,n,v,x){v=v||0;return function(y){y=y["get"+q]();if(0<v||y>-v){y+=v}0===y&&-12==v&&(y=12);return eV(y,n,x)}}function eH(q,n){return function(y,B){var x=y["get"+q](),v=az(n?"SHORT"+q:q);return B[v][x]}}function fN(q){var n=(new Date(q,0,1)).getDay();return new Date(q,0,(4>=n?5:12)-n)}function fi(n){return function(q){var v=fN(q.getFullYear());q=+new Date(q.getFullYear(),q.getMonth(),q.getDate()+(4-q.getDay()))-+v;q=1+Math.round(q/604800000);return eV(q,n)}}function cC(q,n){return 0>=q.getFullYear()?n.ERAS[0]:n.ERAS[1]}function aE(q){function n(y){var x;if(x=y.match(v)){y=new Date(0);var E=0,D=0,C=x[8]?y.setUTCFullYear:y.setFullYear,B=x[8]?y.setUTCHours:y.setHours;x[9]&&(E=e8(x[9]+x[10]),D=e8(x[9]+x[11]));C.call(y,e8(x[1]),e8(x[2])-1,e8(x[3]));E=e8(x[4]||0)-E;D=e8(x[5]||0)-D;C=e8(x[6]||0);x=Math.round(1000*parseFloat("0."+(x[7]||0)));B.call(y,E,D,C,x)}return y}var v=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(G,F,E){var D="",C=[],B,y;F=F||"mediumDate";F=q.DATETIME_FORMATS[F]||F;fB(G)&&(G=s.test(G)?e8(G):n(G));fu(G)&&(G=new Date(G));if(!fp(G)||!isFinite(G.getTime())){return G}for(;F;){(y=d.exec(F))?(C=eO(C,y,1),F=C.pop()):(C.push(F),F=null)}var x=G.getTimezoneOffset();E&&(x=h(E,x),G=cJ(G,E,!0));e1(C,function(H){B=gh[H];D+=B?B(G,q.DATETIME_FORMATS,x):"''"===H?"'":H.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return D}}function bM(){return function(q,n){eY(n)&&(n=2);return eB(q,n)}}function bz(){return function(q,n,v){n=Infinity===Math.abs(Number(n))?Number(n):e8(n);if(isNaN(n)){return q}fu(q)&&(q=q.toString());if(!fv(q)&&!fB(q)){return q}v=!v||isNaN(v)?0:e8(v);v=0>v?Math.max(0,q.length+v):v;return 0<=n?q.slice(v,v+n):0===v?q.slice(n,q.length):q.slice(Math.max(0,v+n),v)}}function P(q){function n(x,y){y=y?-1:1;return x.map(function(B){var E=1,D=f1;if(fF(B)){D=B}else{if(fB(B)){if("+"==B.charAt(0)||"-"==B.charAt(0)){E="-"==B.charAt(0)?-1:1,B=B.substring(1)}if(""!==B&&(D=q(B),D.constant)){var C=D(),D=function(F){return F[C]}}}}return{get:D,descending:E*y}})}function v(x){switch(typeof x){case"number":case"boolean":case"string":return !0;default:return !1}}return function(x,C,B){if(null==x){return x}if(!aH(x)){throw fx("orderBy")("notarray",x)}fv(C)||(C=[C]);0===C.length&&(C=["+"]);var y=n(C,B);y.push({get:function(){return{}},descending:B?-1:1});x=Array.prototype.map.call(x,function(E,D){return{value:E,predicateValues:y.map(function(G){var F=G.get(E);G=typeof F;if(null===F){G="string",F="null"}else{if("string"===G){F=F.toLowerCase()}else{if("object"===G){E:{if("function"===typeof F.valueOf&&(F=F.valueOf(),v(F))){break E}if(aM(F)&&(F=F.toString(),v(F))){break E}F=D}}}}return{value:F,type:G}})}});x.sort(function(E,D){for(var N=0,H=0,G=y.length;H<G;++H){var N=E.predicateValues[H],F=D.predicateValues[H],L=0;N.type===F.type?N.value!==F.value&&(L=N.value<F.value?-1:1):L=N.type<F.type?-1:1;if(N=L*y[H].descending){break}}return N});return x=x.map(function(D){return D.value})}}function ev(n){fF(n)&&(n={link:n});n.restrict=n.restrict||"AC";return fI(n)}function eT(q,n,B,C,y){var x=this,v=[];x.$error={};x.$$success={};x.$pending=eZ;x.$name=y(n.name||n.ngForm||"")(B);x.$dirty=!1;x.$pristine=!0;x.$valid=!0;x.$invalid=!1;x.$submitted=!1;x.$$parentForm=eu;x.$rollbackViewValue=function(){e1(v,function(D){D.$rollbackViewValue()})};x.$commitViewValue=function(){e1(v,function(D){D.$commitViewValue()})};x.$addControl=function(D){cK(D.$name,"input");v.push(D);D.$name&&(x[D.$name]=D);D.$$parentForm=x};x.$$renameControl=function(E,D){var F=E.$name;x[F]===E&&delete x[F];x[D]=E;E.$name=D};x.$removeControl=function(D){D.$name&&x[D.$name]===D&&delete x[D.$name];e1(x.$pending,function(E,F){x.$setValidity(F,null,D)});e1(x.$error,function(E,F){x.$setValidity(F,null,D)});e1(x.$$success,function(E,F){x.$setValidity(F,null,D)});e7(v,D);D.$$parentForm=eu};eF({ctrl:this,$element:q,set:function(E,D,G){var F=E[D];F?-1===F.indexOf(G)&&F.push(G):E[D]=[G]},unset:function(E,D,G){var F=E[D];F&&(e7(F,G),0===F.length&&delete E[D])},$animate:C});x.$setDirty=function(){C.removeClass(q,by);C.addClass(q,eh);x.$dirty=!0;x.$pristine=!1;x.$$parentForm.$setDirty()};x.$setPristine=function(){C.setClass(q,by,eh+" ng-submitted");x.$dirty=!1;x.$pristine=!0;x.$submitted=!1;e1(v,function(D){D.$setPristine()})};x.$setUntouched=function(){e1(v,function(D){D.$setUntouched()})};x.$setSubmitted=function(){C.addClass(q,"ng-submitted");x.$submitted=!0;x.$$parentForm.$setSubmitted()}}function cp(n){n.$formatters.push(function(q){return n.$isEmpty(q)?q:q.toString()})}function cQ(G,F,D,E,C,B){var y=fz(F[0].type);if(!C.android){var x=!1;F.on("compositionstart",function(H){x=!0});F.on("compositionend",function(){x=!1;v()})}var v=function(H){q&&(B.defer.cancel(q),q=null);if(!x){var L=F.val();H=H&&H.type;"password"===y||D.ngTrim&&"false"===D.ngTrim||(L=fn(L));(E.$viewValue!==L||""===L&&E.$$hasNativeValidators)&&E.$setViewValue(L,H)}};if(C.hasEvent("input")){F.on("input",v)}else{var q,n=function(L,H,N){q||(q=B.defer(function(){q=null;H&&H.value===N||v(L)}))};F.on("keydown",function(L){var H=L.keyCode;91===H||15<H&&19>H||37<=H&&40>=H||n(L,this,this.value)});if(C.hasEvent("paste")){F.on("paste cut",n)}}F.on("change",v);E.$render=function(){var H=E.$isEmpty(E.$viewValue)?"":E.$viewValue;F.val()!==H&&F.val(H)}}function dX(q,n){return function(y,B){var x,v;if(fp(y)){return y}if(fB(y)){'"'==y.charAt(0)&&'"'==y.charAt(y.length-1)&&(y=y.substring(1,y.length-1));if(fR.test(y)){return new Date(y)}q.lastIndex=0;if(x=q.exec(y)){return x.shift(),v=B?{yyyy:B.getFullYear(),MM:B.getMonth()+1,dd:B.getDate(),HH:B.getHours(),mm:B.getMinutes(),ss:B.getSeconds(),sss:B.getMilliseconds()/1000}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},e1(x,function(C,D){D<n.length&&(v[n[D]]=+C)}),new Date(v.yyyy,v.MM-1,v.dd,v.HH,v.mm,v.ss||0,1000*v.sss||0)}}return NaN}}function cD(q,n,v,x){return function(O,N,L,H,G,F,E){function y(U){return U&&!(U.getTime&&U.getTime()!==U.getTime())}function T(U){return eW(U)&&!fp(U)?v(U)||eZ:U}es(O,N,L,H);cQ(O,N,L,H,G,F);var D=H&&H.$options&&H.$options.timezone,B;H.$$parserName=q;H.$parsers.push(function(U){return H.$isEmpty(U)?null:n.test(U)?(U=v(U,B),D&&(U=cJ(U,D)),U):eZ});H.$formatters.push(function(U){if(U&&!fp(U)){throw cq("datefmt",U)}if(y(U)){return(B=U)&&D&&(B=cJ(B,D,!0)),E("date")(U,x,D)}B=null;return""});if(eW(L.min)||L.ngMin){var R;H.$validators.min=function(U){return !y(U)||eY(R)||v(U)>=R};L.$observe("min",function(U){R=T(U);H.$validate()})}if(eW(L.max)||L.ngMax){var C;H.$validators.max=function(U){return !y(U)||eY(C)||v(U)<=C};L.$observe("max",function(U){C=T(U);H.$validate()})}}}function es(q,n,v,x){(x.$$hasNativeValidators=fD(n[0].validity))&&x.$parsers.push(function(y){var B=n.prop("validity")||{};return B.badInput||B.typeMismatch?eZ:y})}function d9(q,n,x,y,v){if(eW(y)){q=q(y);if(!q.constant){throw cq("constexpr",x,y)}return q(n)}return v}function b2(q,n){q="ngClass"+q;return["$animate",function(x){function y(D,C){var G=[],F=0;D:for(;F<D.length;F++){for(var E=D[F],B=0;B<C.length;B++){if(E==C[B]){continue D}}G.push(E)}return G}function v(C){var B=[];return fv(C)?(e1(C,function(D){B=B.concat(v(D))}),B):fB(C)?C.split(" "):fD(C)?(e1(C,function(D,E){D&&(B=B.concat(E.split(" ")))}),B):C}return{restrict:"AC",link:function(G,F,E){function D(L,H){var O=F.data("$classCounts")||fl(),N=[];e1(L,function(R){if(0<H||O[R]){O[R]=(O[R]||0)+H,O[R]===+(0<H)&&N.push(R)}});F.data("$classCounts",O);return N.join(" ")}function C(L){if(!0===n||G.$index%2===n){var H=v(L||[]);if(!B){var O=D(H,1);E.$addClass(O)}else{if(!b4(L,B)){var N=v(B),O=y(H,N),H=y(N,H),O=D(O,1),H=D(H,-1);O&&O.length&&x.addClass(F,O);H&&H.length&&x.removeClass(F,H)}}}B=cr(L)}var B;G.$watch(E[q],C,!0);E.$observe("class",function(H){C(G.$eval(E[q]))});"ngClass"!==q&&G.$watch("$index",function(O,N){var L=O&1;if(L!==(N&1)){var H=v(G.$eval(E[q]));L===n?(L=D(H,1),E.$addClass(L)):(L=D(H,-1),E.$removeClass(L))}})}}}]}function eF(E){function D(G,F){F&&!x[G]?(n.addClass(y,G),x[G]=!0):!F&&x[G]&&(n.removeClass(y,G),x[G]=!1)}function B(F,G){F=F?"-"+aT(F,"-"):"";D(b3+F,!0===G);D(dV+F,!1===G)}var C=E.ctrl,y=E.$element,x={},v=E.set,q=E.unset,n=E.$animate;x[dV]=!(x[b3]=y.hasClass(b3));C.$setValidity=function(F,H,G){eY(H)?(C.$pending||(C.$pending={}),v(C.$pending,F,G)):(C.$pending&&q(C.$pending,F,G),dH(C.$pending)&&(C.$pending=eZ));ei(H)?H?(q(C.$error,F,G),v(C.$$success,F,G)):(v(C.$error,F,G),q(C.$$success,F,G)):(q(C.$error,F,G),q(C.$$success,F,G));C.$pending?(D(du,!0),C.$valid=C.$invalid=eZ,B("",null)):(D(du,!1),C.$valid=dH(C.$error),C.$invalid=!C.$valid,B("",C.$valid));H=C.$pending&&C.$pending[F]?eZ:C.$error[F]?!1:C.$$success[F]?!0:null;B(F,H);C.$$parentForm.$setValidity(F,H,C)}}function dH(q){if(q){for(var n in q){if(q.hasOwnProperty(n)){return !1}}}return !0}var a9=/^\/(.+)\/([a-z]*)$/,a2=Object.prototype.hasOwnProperty,fz=function(n){return fB(n)?n.toLowerCase():n},az=function(n){return fB(n)?n.toUpperCase():n},j,fH,aA,I=[].slice,fY=[].splice,aP=[].push,d5=Object.prototype.toString,ay=Object.getPrototypeOf,at=fx("ng"),dD=ft.angular||(ft.angular={}),b9,bR=0;j=fo.documentMode;fJ.$inject=[];f1.$inject=[];var fv=Array.isArray,f0=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,fn=function(n){return fB(n)?n.trim():n},g=function(n){return n.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},S=function(){if(!eW(S.rules)){var q=fo.querySelector("[ng-csp]")||fo.querySelector("[data-ng-csp]");if(q){var n=q.getAttribute("ng-csp")||q.getAttribute("data-ng-csp");S.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{q=S;try{new Function(""),n=!1}catch(v){n=!0}q.rules={noUnsafeEval:n,noInlineStyle:!1}}}return S.rules},bs=function(){if(eW(bs.name_)){return bs.name_}var q,n,x=dx.length,y,v;for(n=0;n<x;++n){if(y=dx[n],q=fo.querySelector("["+y.replace(":","\\:")+"jq]")){v=q.getAttribute(y+"jq");break}}return bs.name_=v},eL=/:/g,dx=["ng-","data-ng-","ng:","x-ng-"],dz=/[A-Z]/g,aF=!1,dK=3,cA={full:"1.5.0",major:1,minor:5,dot:0,codeName:"ennoblement-facilitation"};fq.expando="ng339";var dC=fq.cache={},dT=1;fq._data=function(n){return this.cache[n[this.expando]]||{}};var fa=/([\:\-\_]+(.))/g,eR=/^moz([A-Z])/,gm={mouseleave:"mouseout",mouseenter:"mouseover"},bK=fx("jqLite"),d7=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,bX=/<|&#?\w+;/,eD=/<([\w:-]+)/,eq=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,eP={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};eP.optgroup=eP.option;eP.tbody=eP.tfoot=eP.colgroup=eP.caption=eP.thead;eP.th=eP.td;var cF=Node.prototype.contains||function(n){return !!(this.compareDocumentPosition(n)&16)},di=fq.prototype={ready:function(q){function n(){v||(v=!0,q())}var v=!1;"complete"===fo.readyState?setTimeout(n):(this.on("DOMContentLoaded",n),fq(ft).on("load",n))},toString:function(){var n=[];e1(this,function(q){n.push(""+q)});return"["+n.join(", ")+"]"},eq:function(n){return 0<=n?fH(this[n]):fH(this[this.length+n])},length:0,push:aP,sort:[].sort,splice:[].splice},ar={};e1("multiple selected checked disabled readOnly required open".split(" "),function(n){ar[fz(n)]=n});var cv={};e1("input select option textarea button form details".split(" "),function(n){cv[n]=!0});var e5={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};e1({data:a7,removeData:dQ,hasData:function(q){for(var n in dC[q.ng339]){return !0}return !1},cleanData:function(q){for(var n=0,v=q.length;n<v;n++){dQ(q[n])}}},function(q,n){fq[n]=q});e1({data:a7,inheritedData:aG,scope:function(n){return fH.data(n,"$scope")||aG(n.parentNode||n,["$isolateScope","$scope"])},isolateScope:function(n){return fH.data(n,"$isolateScope")||fH.data(n,"$isolateScopeNoTemplate")},controller:c9,injector:function(n){return aG(n,"$injector")},removeAttr:function(q,n){q.removeAttribute(n)},hasClass:fW,css:function(q,n,v){n=d4(n);if(eW(v)){q.style[n]=v}else{return q.style[n]}},attr:function(q,n,v){var x=q.nodeType;if(x!==dK&&2!==x&&8!==x){if(x=fz(n),ar[x]){if(eW(v)){v?(q[n]=!0,q.setAttribute(n,x)):(q[n]=!1,q.removeAttribute(x))}else{return q[n]||(q.attributes.getNamedItem(n)||fJ).specified?x:eZ}}else{if(eW(v)){q.setAttribute(n,v)}else{if(q.getAttribute){return q=q.getAttribute(n,2),null===q?eZ:q}}}}},prop:function(q,n,v){if(eW(v)){q[n]=v}else{return q[n]}},text:function(){function n(q,v){if(eY(v)){var x=q.nodeType;return 1===x||x===dK?q.textContent:""}q.textContent=v}n.$dv="";return n}(),val:function(q,n){if(eY(n)){if(q.multiple&&"select"===bt(q)){var v=[];e1(q.options,function(x){x.selected&&v.push(x.value||x.text)});return 0===v.length?null:v}return q.value}q.value=n},html:function(q,n){if(eY(n)){return q.innerHTML}A(q,!0);q.innerHTML=n},empty:cV},function(q,n){fq.prototype[n]=function(v,D){var C,B,y=this.length;if(q!==cV&&eY(2==q.length&&q!==fW&&q!==c9?v:D)){if(fD(v)){for(C=0;C<y;C++){if(q===a7){q(this[C],v)}else{for(B in v){q(this[C],B,v[B])}}}return this}C=q.$dv;y=eY(C)?Math.min(y,1):y;for(B=0;B<y;B++){var x=q(this[B],v,D);C=C?C+x:x}return C}for(C=0;C<y;C++){q(this[C],v,D)}return this}});e1({removeData:dQ,on:function(q,n,C,D){if(eW(D)){throw bK("onargs")}if(et(q)){D=i(q,!0);var B=D.events,y=D.handle;y||(y=D.handle=ds(q,B));D=0<=n.indexOf(" ")?n.split(" "):[n];for(var x=D.length,v=function(E,H,G){var F=B[E];F||(F=B[E]=[],F.specialHandlerWrapper=H,"$destroy"===E||G||q.addEventListener(E,y,!1));F.push(C)};x--;){n=D[x],gm[n]?(v(gm[n],cS),v(n,eZ,!0)):v(n)}}},off:dv,one:function(q,n,x){q=fH(q);q.on(n,function v(){q.off(n,x);q.off(n,v)});q.on(n,x)},replaceWith:function(q,n){var v,x=q.parentNode;A(q);e1(new fq(n),function(y){v?x.insertBefore(y,v.nextSibling):x.replaceChild(y,q);v=y})},children:function(q){var n=[];e1(q.childNodes,function(v){1===v.nodeType&&n.push(v)});return n},contents:function(n){return n.contentDocument||n.childNodes||[]},append:function(q,n){var v=q.nodeType;if(1===v||11===v){n=new fq(n);for(var v=0,x=n.length;v<x;v++){q.appendChild(n[v])}}},prepend:function(q,n){if(1===q.nodeType){var v=q.firstChild;e1(new fq(n),function(x){q.insertBefore(x,v)})}},wrap:function(q,n){dW(q,fH(n).eq(0).clone()[0])},remove:cj,detach:function(n){cj(n,!0)},after:function(q,n){var B=q,C=q.parentNode;n=new fq(n);for(var y=0,x=n.length;y<x;y++){var v=n[y];C.insertBefore(v,B.nextSibling);B=v}},addClass:aU,removeClass:bl,toggleClass:function(q,n,v){n&&e1(n.split(" "),function(x){var y=v;eY(y)&&(y=!fW(q,x));(y?aU:bl)(q,x)})},parent:function(n){return(n=n.parentNode)&&11!==n.nodeType?n:null},next:function(n){return n.nextElementSibling},find:function(q,n){return q.getElementsByTagName?q.getElementsByTagName(n):[]},clone:bx,triggerHandler:function(q,n,B){var C,y,x=n.type||n,v=i(q);if(v=(v=v&&v.events)&&v[x]){C={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return !0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return !0===this.immediatePropagationStopped},stopPropagation:fJ,type:x,target:q},n.type&&(C=fr(C,n)),n=cr(v),y=B?[C].concat(B):[C],e1(n,function(D){C.isImmediatePropagationStopped()||D.apply(q,y)})}}},function(q,n){fq.prototype[n]=function(v,D,C){for(var B,y=0,x=this.length;y<x;y++){eY(B)?(B=q(this[y],v,D,C),eW(B)&&(B=fH(B))):dI(B,q(this[y],v,D,C))}return eW(B)?B:this};fq.prototype.bind=fq.prototype.on;fq.prototype.unbind=fq.prototype.off});cx.prototype={put:function(q,n){this[r(q,this.nextUid)]=n},get:function(n){return this[r(n,this.nextUid)]},remove:function(q){var n=this[q=r(q,this.nextUid)];delete this[q];return n}};var f4=[function(){this.$get=[function(){return cx}]}],b5=/^([^\(]+?)=>/,bT=/^[^\(]*\(\s*([^\)]*)\)/m,aB=/,/,am=/^\s*(_?)(\S+?)\1\s*$/,cs=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,c=fx("$injector");eo.$$annotate=function(q,n,v){var x;if("function"===typeof q){if(!(x=q.$inject)){x=[];if(q.length){if(n){throw fB(v)&&v||(v=q.name||bG(q)),c("strictdi",v)}n=b8(q);e1(n[1].split(aB),function(y){y.replace(am,function(C,B,D){x.push(D)})})}q.$inject=x}}else{fv(q)?(n=q.length-1,cX(q[n],"fn"),x=q.slice(0,n)):cX(q,"fn",!0)}return x};var c8=fx("$animate"),ch=function(){this.$get=function(){}},fZ=function(){var q=new cx,n=[];this.$get=["$$AnimateRunner","$rootScope",function(y,B){function x(D,C,F){var E=!1;C&&(C=fB(C)?C.split(" "):fv(C)?C:[],e1(C,function(G){G&&(E=!0,D[G]=F)}));return E}function v(){e1(n,function(C){var G=q.get(C);if(G){var F=bu(C.attr("class")),E="",D="";e1(G,function(L,H){L!==!!F[H]&&(L?E+=(E.length?" ":"")+H:D+=(D.length?" ":"")+H)});e1(C,function(H){E&&aU(H,E);D&&bl(H,D)});q.remove(C)}});n.length=0}return{enabled:fJ,on:fJ,off:fJ,pin:fJ,push:function(F,E,D,C){C&&C();D=D||{};D.from&&F.css(D.from);D.to&&F.css(D.to);if(D.addClass||D.removeClass){if(E=D.addClass,C=D.removeClass,D=q.get(F)||{},E=x(D,E,!0),C=x(D,C,!1),E||C){q.put(F,D),n.push(F),1===n.length&&B.$$postDigest(v)}}F=new y;F.complete();return F}}}]},bv=["$provide",function(q){var n=this;this.$$registeredAnimations=Object.create(null);this.register=function(x,y){if(x&&"."!==x.charAt(0)){throw c8("notcsel",x)}var v=x+"-animation";n.$$registeredAnimations[x.substr(1)]=v;q.factory(v,y)};this.classNameFilter=function(v){if(1===arguments.length&&(this.$$classNameFilter=v instanceof RegExp?v:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString())){throw c8("nongcls","ng-animate")}return this.$$classNameFilter};this.$get=["$$animateQueue",function(x){function v(y,E,D){if(D){var C;y:{for(C=0;C<D.length;C++){var B=D[C];if(1===B.nodeType){C=B;break y}}C=void 0}!C||C.parentNode||C.previousElementSibling||(D=null)}D?D.after(y):E.prepend(y)}return{on:x.on,off:x.off,pin:x.pin,enabled:x.enabled,cancel:function(y){y.end&&y.end()},enter:function(D,C,B,y){C=C&&fH(C);B=B&&fH(B);C=C||B.parent();v(D,C,B);return x.push(D,"enter",f9(y))},move:function(D,C,B,y){C=C&&fH(C);B=B&&fH(B);C=C||B.parent();v(D,C,B);return x.push(D,"move",f9(y))},leave:function(y,B){return x.push(y,"leave",f9(B),function(){y.remove()})},addClass:function(y,C,B){B=f9(B);B.addClass=dp(B.addclass,C);return x.push(y,"addClass",B)},removeClass:function(y,C,B){B=f9(B);B.removeClass=dp(B.removeClass,C);return x.push(y,"removeClass",B)},setClass:function(y,D,C,B){B=f9(B);B.addClass=dp(B.addClass,D);B.removeClass=dp(B.removeClass,C);return x.push(y,"setClass",B)},animate:function(y,E,D,C,B){B=f9(B);B.from=B.from?fr(B.from,E):E;B.to=B.to?fr(B.to,D):D;B.tempClasses=dp(B.tempClasses,C||"ng-inline-animate");return x.push(y,"animate",B)}}}]}],e3=function(){this.$get=["$$rAF",function(q){function n(x){v.push(x);1<v.length||q(function(){for(var y=0;y<v.length;y++){v[y]()}v=[]})}var v=[];return function(){var x=!1;n(function(){x=!0});return function(y){x?y():n(y)}}}]},fy=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(q,n,y,B,x){function v(D){this.setHost(D);var C=y();this._doneCallbacks=[];this._tick=function(E){var F=B[0];F&&F.hidden?x(E,0,!1):C(E)};this._state=0}v.chain=function(D,C){function F(){if(E===D.length){C(!0)}else{D[E](function(G){!1===G?C(!1):(E++,F())})}}var E=0;F()};v.all=function(D,C){function G(H){E=E&&H;++F===D.length&&C(E)}var F=0,E=!0;e1(D,function(H){H.done(G)})};v.prototype={setHost:function(C){this.host=C||{}},done:function(C){2===this._state?C():this._doneCallbacks.push(C)},progress:fJ,getPromise:function(){if(!this.promise){var C=this;this.promise=q(function(D,E){C.done(function(F){!1===F?E():D()})})}return this.promise},then:function(D,C){return this.getPromise().then(D,C)},"catch":function(C){return this.getPromise()["catch"](C)},"finally":function(C){return this.getPromise()["finally"](C)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(D){var C=this;0===C._state&&(C._state=1,C._tick(function(){C._resolve(D)}))},_resolve:function(C){2!==this._state&&(e1(this._doneCallbacks,function(D){D(C)}),this._doneCallbacks.length=0,this._state=2)}};return v}]},a4=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(q,n,v){return function(x,E){function D(){q(function(){C.addClass&&(x.addClass(C.addClass),C.addClass=null);C.removeClass&&(x.removeClass(C.removeClass),C.removeClass=null);C.to&&(x.css(C.to),C.to=null);B||y.complete();B=!0});return y}var C=E||{};C.$$prepared||(C=dY(C));C.cleanupStyles&&(C.from=C.to=null);C.from&&(x.css(C.from),C.from=null);var B,y=new v;return{start:D,end:D}}}]},dq=fx("$compile");Q.$inject=["$provide","$$sanitizeUriProvider"];var bJ=/^((?:x|data)[\:\-_])/i,fw=fx("$controller"),eM=/^(\S+)(\s+as\s+([\w$]+))?$/,dk=function(){this.$get=["$document",function(n){return function(q){q?!q.nodeType&&q instanceof fH&&(q=q[0]):q=n[0].body;return q.offsetWidth+1}}]},ez="application/json",eN={"Content-Type":ez+";charset=utf-8"},eJ=/^\[|^\{(?!\{)/,ew={"[":/]$/,"{":/}$/},e2=/^\)\]\}',?\n/,J=fx("$http"),dA=function(n){return function(){throw J("legacy",n)}},eX=dD.$interpolateMinErr=fx("$interpolate");eX.throwNoconcat=function(n){throw eX("noconcat",n)};eX.interr=function(q,n){return eX("interr",q,n.toString())};var k=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,dZ={http:80,https:443,ftp:21},b=fx("$location"),gn={$$html5:!1,$$replace:!1,absUrl:f8("$$absUrl"),url:function(q){if(eY(q)){return this.$$url}var n=k.exec(q);(n[1]||""===q)&&this.path(decodeURIComponent(n[1]));(n[2]||n[1]||""===q)&&this.search(n[3]||"");this.hash(n[5]||"");return this},protocol:f8("$$protocol"),host:f8("$$host"),port:f8("$$port"),path:co("$$path",function(n){n=null!==n?n.toString():"";return"/"==n.charAt(0)?n:"/"+n}),search:function(q,n){switch(arguments.length){case 0:return this.$$search;case 1:if(fB(q)||fu(q)){q=q.toString(),this.$$search=fV(q)}else{if(fD(q)){q=dY(q,{}),e1(q,function(v,x){null==v&&delete q[x]}),this.$$search=q}else{throw b("isrcharg")}}break;default:eY(n)||null===n?delete this.$$search[q]:this.$$search[q]=n}this.$$compose();return this},hash:co("$$hash",function(n){return null!==n?n.toString():""}),replace:function(){this.$$replace=!0;return this}};e1([cB,d3,en],function(n){n.prototype=Object.create(gn);n.prototype.state=function(q){if(!arguments.length){return this.$$state}if(n!==en||!this.$$html5){throw b("nostate")}this.$$state=eY(q)?null:q;return this}});var c4=fx("$parse"),dy=Function.prototype.call,dj=Function.prototype.apply,cY=Function.prototype.bind,dJ=fl();e1("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(n){dJ[n]=!0});var f3={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},dB=function(n){this.options=n};dB.prototype={constructor:dB,lex:function(q){this.text=q;this.index=0;for(this.tokens=[];this.index<this.text.length;){if(q=this.text.charAt(this.index),'"'===q||"'"===q){this.readString(q)}else{if(this.isNumber(q)||"."===q&&this.isNumber(this.peek())){this.readNumber()}else{if(this.isIdent(q)){this.readIdent()}else{if(this.is(q,"(){}[].,;:?")){this.tokens.push({index:this.index,text:q}),this.index++}else{if(this.isWhitespace(q)){this.index++}else{var n=q+this.peek(),x=n+this.peek(2),y=dJ[n],v=dJ[x];dJ[q]||y||v?(q=v?x:y?n:q,this.tokens.push({index:this.index,text:q,operator:!0}),this.index+=q.length):this.throwError("Unexpected next character ",this.index,this.index+1)}}}}}}return this.tokens},is:function(q,n){return -1!==n.indexOf(q)},peek:function(n){n=n||1;return this.index+n<this.text.length?this.text.charAt(this.index+n):!1},isNumber:function(n){return"0"<=n&&"9">=n&&"string"===typeof n},isWhitespace:function(n){return" "===n||"\r"===n||"\t"===n||"\n"===n||"\v"===n||"\u00a0"===n},isIdent:function(n){return"a"<=n&&"z">=n||"A"<=n&&"Z">=n||"_"===n||"$"===n},isExpOperator:function(n){return"-"===n||"+"===n||this.isNumber(n)},throwError:function(q,n,v){v=v||this.index;n=eW(n)?"s "+n+"-"+this.index+" ["+this.text.substring(n,v)+"]":" "+v;throw c4("lexerr",q,n,this.text)},readNumber:function(){for(var q="",n=this.index;this.index<this.text.length;){var v=fz(this.text.charAt(this.index));if("."==v||this.isNumber(v)){q+=v}else{var x=this.peek();if("e"==v&&this.isExpOperator(x)){q+=v}else{if(this.isExpOperator(v)&&x&&this.isNumber(x)&&"e"==q.charAt(q.length-1)){q+=v}else{if(!this.isExpOperator(v)||x&&this.isNumber(x)||"e"!=q.charAt(q.length-1)){break}else{this.throwError("Invalid exponent")}}}}this.index++}this.tokens.push({index:n,text:q,constant:!0,value:Number(q)})},readIdent:function(){for(var q=this.index;this.index<this.text.length;){var n=this.text.charAt(this.index);if(!this.isIdent(n)&&!this.isNumber(n)){break}this.index++}this.tokens.push({index:q,text:this.text.slice(q,this.index),identifier:!0})},readString:function(q){var n=this.index;this.index++;for(var y="",B=q,x=!1;this.index<this.text.length;){var v=this.text.charAt(this.index),B=B+v;if(x){"u"===v?(x=this.text.substring(this.index+1,this.index+5),x.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+x+"]"),this.index+=4,y+=String.fromCharCode(parseInt(x,16))):y+=f3[v]||v,x=!1}else{if("\\"===v){x=!0}else{if(v===q){this.index++;this.tokens.push({index:n,text:B,constant:!0,value:y});return}y+=v}}this.index++}this.throwError("Unterminated quote",n)}};var e0=function(q,n){this.lexer=q;this.options=n};e0.Program="Program";e0.ExpressionStatement="ExpressionStatement";e0.AssignmentExpression="AssignmentExpression";e0.ConditionalExpression="ConditionalExpression";e0.LogicalExpression="LogicalExpression";e0.BinaryExpression="BinaryExpression";e0.UnaryExpression="UnaryExpression";e0.CallExpression="CallExpression";e0.MemberExpression="MemberExpression";e0.Identifier="Identifier";e0.Literal="Literal";e0.ArrayExpression="ArrayExpression";e0.Property="Property";e0.ObjectExpression="ObjectExpression";e0.ThisExpression="ThisExpression";e0.LocalsExpression="LocalsExpression";e0.NGValueParameter="NGValueParameter";e0.prototype={ast:function(n){this.text=n;this.tokens=this.lexer.lex(n);n=this.program();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);return n},program:function(){for(var n=[];;){if(0<this.tokens.length&&!this.peek("}",")",";","]")&&n.push(this.expressionStatement()),!this.expect(";")){return{type:e0.Program,body:n}}}},expressionStatement:function(){return{type:e0.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var n=this.expression();this.expect("|");){n=this.filter(n)}return n},expression:function(){return this.assignment()},assignment:function(){var n=this.ternary();this.expect("=")&&(n={type:e0.AssignmentExpression,left:n,right:this.assignment(),operator:"="});return n},ternary:function(){var q=this.logicalOR(),n,v;return this.expect("?")&&(n=this.expression(),this.consume(":"))?(v=this.expression(),{type:e0.ConditionalExpression,test:q,alternate:n,consequent:v}):q},logicalOR:function(){for(var n=this.logicalAND();this.expect("||");){n={type:e0.LogicalExpression,operator:"||",left:n,right:this.logicalAND()}}return n},logicalAND:function(){for(var n=this.equality();this.expect("&&");){n={type:e0.LogicalExpression,operator:"&&",left:n,right:this.equality()}}return n},equality:function(){for(var q=this.relational(),n;n=this.expect("==","!=","===","!==");){q={type:e0.BinaryExpression,operator:n.text,left:q,right:this.relational()}}return q},relational:function(){for(var q=this.additive(),n;n=this.expect("<",">","<=",">=");){q={type:e0.BinaryExpression,operator:n.text,left:q,right:this.additive()}}return q},additive:function(){for(var q=this.multiplicative(),n;n=this.expect("+","-");){q={type:e0.BinaryExpression,operator:n.text,left:q,right:this.multiplicative()}}return q},multiplicative:function(){for(var q=this.unary(),n;n=this.expect("*","/","%");){q={type:e0.BinaryExpression,operator:n.text,left:q,right:this.unary()}}return q},unary:function(){var n;return(n=this.expect("+","-","!"))?{type:e0.UnaryExpression,operator:n.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var q;this.expect("(")?(q=this.filterChain(),this.consume(")")):this.expect("[")?q=this.arrayDeclaration():this.expect("{")?q=this.object():this.constants.hasOwnProperty(this.peek().text)?q=dY(this.constants[this.consume().text]):this.peek().identifier?q=this.identifier():this.peek().constant?q=this.constant():this.throwError("not a primary expression",this.peek());for(var n;n=this.expect("(","[",".");){"("===n.text?(q={type:e0.CallExpression,callee:q,arguments:this.parseArguments()},this.consume(")")):"["===n.text?(q={type:e0.MemberExpression,object:q,property:this.expression(),computed:!0},this.consume("]")):"."===n.text?q={type:e0.MemberExpression,object:q,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE")}return q},filter:function(q){q=[q];for(var n={type:e0.CallExpression,callee:this.identifier(),arguments:q,filter:!0};this.expect(":");){q.push(this.expression())}return n},parseArguments:function(){var n=[];if(")"!==this.peekToken().text){do{n.push(this.expression())}while(this.expect(","))}return n},identifier:function(){var n=this.consume();n.identifier||this.throwError("is not a valid identifier",n);return{type:e0.Identifier,name:n.text}},constant:function(){return{type:e0.Literal,value:this.consume().value}},arrayDeclaration:function(){var n=[];if("]"!==this.peekToken().text){do{if(this.peek("]")){break}n.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:e0.ArrayExpression,elements:n}},object:function(){var q=[],n;if("}"!==this.peekToken().text){do{if(this.peek("}")){break}n={type:e0.Property,kind:"init"};this.peek().constant?n.key=this.constant():this.peek().identifier?n.key=this.identifier():this.throwError("invalid key",this.peek());this.consume(":");n.value=this.expression();q.push(n)}while(this.expect(","))}this.consume("}");return{type:e0.ObjectExpression,properties:q}},throwError:function(q,n){throw c4("syntax",n.text,q,n.index+1,this.text,this.text.substring(n.index))},consume:function(q){if(0===this.tokens.length){throw c4("ueoe",this.text)}var n=this.expect(q);n||this.throwError("is unexpected, expecting ["+q+"]",this.peek());return n},peekToken:function(){if(0===this.tokens.length){throw c4("ueoe",this.text)}return this.tokens[0]},peek:function(q,n,v,x){return this.peekAhead(0,q,n,v,x)},peekAhead:function(q,n,y,B,x){if(this.tokens.length>q){q=this.tokens[q];var v=q.text;if(v===n||v===y||v===B||v===x||!(n||y||B||x)){return q}}return !1},expect:function(q,n,v,x){return(q=this.peek(q,n,v,x))?(this.tokens.shift(),q):!1},constants:{"true":{type:e0.Literal,value:!0},"false":{type:e0.Literal,value:!1},"null":{type:e0.Literal,value:null},undefined:{type:e0.Literal,value:eZ},"this":{type:e0.ThisExpression},$locals:{type:e0.LocalsExpression}}};ax.prototype={compile:function(q,n){var y=this,B=this.astBuilder.ast(q);this.state={nextId:0,filters:{},expensiveChecks:n,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};fs(B,y.$filter);var x="",v;this.stage="assign";if(v=aZ(B)){this.state.computing="assign",x=this.nextId(),this.recurse(v,x),this.return_(x),x="fn.assign="+this.generateFunction("assign","s,v,l")}v=bC(B.body);y.stage="inputs";e1(v,function(D,C){var F="fn"+C;y.state[F]={vars:[],body:[],own:{}};y.state.computing=F;var E=y.nextId();y.recurse(D,E);y.return_(E);y.state.inputs.push(F);D.watchId=C});this.state.computing="fn";this.stage="main";this.recurse(B);x='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+x+this.watchFns()+"return fn;";x=(new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",x))(this.$filter,bL,bm,b1,dL,fP,cL,bP,q);this.state=this.stage=eZ;x.literal=aL(B);x.constant=B.constant;return x},USE:"use",STRICT:"strict",watchFns:function(){var q=[],n=this.state.inputs,v=this;e1(n,function(x){q.push("var "+x+"="+v.generateFunction(x,"s"))});n.length&&q.push("fn.inputs=["+n.join(",")+"];");return q.join("")},generateFunction:function(q,n){return"function("+n+"){"+this.varsPrefix(q)+this.body(q)+"};"},filterPrefix:function(){var q=[],n=this;e1(this.state.filters,function(v,x){q.push(v+"=$filter("+n.escape(x)+")")});return q.length?"var "+q.join(",")+";":""},varsPrefix:function(n){return this.state[n].vars.length?"var "+this.state[n].vars.join(",")+";":""},body:function(n){return this.state[n].body.join("")},recurse:function(G,F,D,E,C,B){var y,x,v=this,q,n;E=E||fJ;if(!B&&eW(G.watchId)){F=F||this.nextId(),this.if_("i",this.lazyAssign(F,this.computedMember("i",G.watchId)),this.lazyRecurse(G,F,D,E,C,!0))}else{switch(G.type){case e0.Program:e1(G.body,function(H,L){v.recurse(H.expression,eZ,eZ,function(N){x=N});L!==G.body.length-1?v.current().body.push(x,";"):v.return_(x)});break;case e0.Literal:n=this.escape(G.value);this.assign(F,n);E(n);break;case e0.UnaryExpression:this.recurse(G.argument,eZ,eZ,function(H){x=H});n=G.operator+"("+this.ifDefined(x,0)+")";this.assign(F,n);E(n);break;case e0.BinaryExpression:this.recurse(G.left,eZ,eZ,function(H){y=H});this.recurse(G.right,eZ,eZ,function(H){x=H});n="+"===G.operator?this.plus(y,x):"-"===G.operator?this.ifDefined(y,0)+G.operator+this.ifDefined(x,0):"("+y+")"+G.operator+"("+x+")";this.assign(F,n);E(n);break;case e0.LogicalExpression:F=F||this.nextId();v.recurse(G.left,F);v.if_("&&"===G.operator?F:v.not(F),v.lazyRecurse(G.right,F));E(F);break;case e0.ConditionalExpression:F=F||this.nextId();v.recurse(G.test,F);v.if_(F,v.lazyRecurse(G.alternate,F),v.lazyRecurse(G.consequent,F));E(F);break;case e0.Identifier:F=F||this.nextId();D&&(D.context="inputs"===v.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",G.name)+"?l:s"),D.computed=!1,D.name=G.name);bL(G.name);v.if_("inputs"===v.stage||v.not(v.getHasOwnProperty("l",G.name)),function(){v.if_("inputs"===v.stage||"s",function(){C&&1!==C&&v.if_(v.not(v.nonComputedMember("s",G.name)),v.lazyAssign(v.nonComputedMember("s",G.name),"{}"));v.assign(F,v.nonComputedMember("s",G.name))})},F&&v.lazyAssign(F,v.nonComputedMember("l",G.name)));(v.state.expensiveChecks||fk(G.name))&&v.addEnsureSafeObject(F);E(F);break;case e0.MemberExpression:y=D&&(D.context=this.nextId())||this.nextId();F=F||this.nextId();v.recurse(G.object,y,eZ,function(){v.if_(v.notNull(y),function(){C&&1!==C&&v.addEnsureSafeAssignContext(y);if(G.computed){x=v.nextId(),v.recurse(G.property,x),v.getStringValue(x),v.addEnsureSafeMemberName(x),C&&1!==C&&v.if_(v.not(v.computedMember(y,x)),v.lazyAssign(v.computedMember(y,x),"{}")),n=v.ensureSafeObject(v.computedMember(y,x)),v.assign(F,n),D&&(D.computed=!0,D.name=x)}else{bL(G.property.name);C&&1!==C&&v.if_(v.not(v.nonComputedMember(y,G.property.name)),v.lazyAssign(v.nonComputedMember(y,G.property.name),"{}"));n=v.nonComputedMember(y,G.property.name);if(v.state.expensiveChecks||fk(G.property.name)){n=v.ensureSafeObject(n)}v.assign(F,n);D&&(D.computed=!1,D.name=G.property.name)}},function(){v.assign(F,"undefined")});E(F)},!!C);break;case e0.CallExpression:F=F||this.nextId();G.filter?(x=v.filter(G.callee.name),q=[],e1(G.arguments,function(L){var H=v.nextId();v.recurse(L,H);q.push(H)}),n=x+"("+q.join(",")+")",v.assign(F,n),E(F)):(x=v.nextId(),y={},q=[],v.recurse(G.callee,x,y,function(){v.if_(v.notNull(x),function(){v.addEnsureSafeFunction(x);e1(G.arguments,function(H){v.recurse(H,v.nextId(),eZ,function(L){q.push(v.ensureSafeObject(L))})});y.name?(v.state.expensiveChecks||v.addEnsureSafeObject(y.context),n=v.member(y.context,y.name,y.computed)+"("+q.join(",")+")"):n=x+"("+q.join(",")+")";n=v.ensureSafeObject(n);v.assign(F,n)},function(){v.assign(F,"undefined")});E(F)}));break;case e0.AssignmentExpression:x=this.nextId();y={};if(!bq(G.left)){throw c4("lval")}this.recurse(G.left,eZ,y,function(){v.if_(v.notNull(y.context),function(){v.recurse(G.right,x);v.addEnsureSafeObject(v.member(y.context,y.name,y.computed));v.addEnsureSafeAssignContext(y.context);n=v.member(y.context,y.name,y.computed)+G.operator+x;v.assign(F,n);E(F||n)})},1);break;case e0.ArrayExpression:q=[];e1(G.elements,function(H){v.recurse(H,v.nextId(),eZ,function(L){q.push(L)})});n="["+q.join(",")+"]";this.assign(F,n);E(n);break;case e0.ObjectExpression:q=[];e1(G.properties,function(H){v.recurse(H.value,v.nextId(),eZ,function(L){q.push(v.escape(H.key.type===e0.Identifier?H.key.name:""+H.key.value)+":"+L)})});n="{"+q.join(",")+"}";this.assign(F,n);E(n);break;case e0.ThisExpression:this.assign(F,"s");E("s");break;case e0.LocalsExpression:this.assign(F,"l");E("l");break;case e0.NGValueParameter:this.assign(F,"v"),E("v")}}},getHasOwnProperty:function(q,n){var v=q+"."+n,x=this.current().own;x.hasOwnProperty(v)||(x[v]=this.nextId(!1,q+"&&("+this.escape(n)+" in "+q+")"));return x[v]},assign:function(q,n){if(q){return this.current().body.push(q,"=",n,";"),q}},filter:function(n){this.state.filters.hasOwnProperty(n)||(this.state.filters[n]=this.nextId(!0));return this.state.filters[n]},ifDefined:function(q,n){return"ifDefined("+q+","+this.escape(n)+")"},plus:function(q,n){return"plus("+q+","+n+")"},return_:function(n){this.current().body.push("return ",n,";")},if_:function(q,n,v){if(!0===q){n()}else{var x=this.current().body;x.push("if(",q,"){");n();x.push("}");v&&(x.push("else{"),v(),x.push("}"))}},not:function(n){return"!("+n+")"},notNull:function(n){return n+"!=null"},nonComputedMember:function(q,n){return q+"."+n},computedMember:function(q,n){return q+"["+n+"]"},member:function(q,n,v){return v?this.computedMember(q,n):this.nonComputedMember(q,n)},addEnsureSafeObject:function(n){this.current().body.push(this.ensureSafeObject(n),";")},addEnsureSafeMemberName:function(n){this.current().body.push(this.ensureSafeMemberName(n),";")},addEnsureSafeFunction:function(n){this.current().body.push(this.ensureSafeFunction(n),";")},addEnsureSafeAssignContext:function(n){this.current().body.push(this.ensureSafeAssignContext(n),";")},ensureSafeObject:function(n){return"ensureSafeObject("+n+",text)"},ensureSafeMemberName:function(n){return"ensureSafeMemberName("+n+",text)"},ensureSafeFunction:function(n){return"ensureSafeFunction("+n+",text)"},getStringValue:function(n){this.assign(n,"getStringValue("+n+")")},ensureSafeAssignContext:function(n){return"ensureSafeAssignContext("+n+",text)"},lazyRecurse:function(q,n,B,C,y,x){var v=this;return function(){v.recurse(q,n,B,C,y,x)}},lazyAssign:function(q,n){var v=this;return function(){v.assign(q,n)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)},escape:function(n){if(fB(n)){return"'"+n.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'"}if(fu(n)){return n.toString()}if(!0===n){return"true"}if(!1===n){return"false"}if(null===n){return"null"}if("undefined"===typeof n){return"undefined"}throw c4("esc")},nextId:function(q,n){var v="v"+this.state.nextId++;q||this.current().vars.push(v+(n?"="+n:""));return v},current:function(){return this.state[this.state.computing]}};ai.prototype={compile:function(q,n){var C=this,D=this.astBuilder.ast(q);this.expression=q;this.expensiveChecks=n;fs(D,C.$filter);var B,y;if(B=aZ(D)){y=this.recurse(B)}B=bC(D.body);var x;B&&(x=[],e1(B,function(F,E){var G=C.recurse(F);F.input=G;x.push(G);F.watchId=E}));var v=[];e1(D.body,function(E){v.push(C.recurse(E.expression))});B=0===D.body.length?function(){}:1===D.body.length?v[0]:function(F,E){var G;e1(v,function(H){G=H(F,E)});return G};y&&(B.assign=function(F,E,G){return y(F,G,E)});x&&(B.inputs=x);B.literal=aL(D);B.constant=D.constant;return B},recurse:function(q,n,B){var C,y,x=this,v;if(q.input){return this.inputs(q.input,q.watchId)}switch(q.type){case e0.Literal:return this.value(q.value,n);case e0.UnaryExpression:return y=this.recurse(q.argument),this["unary"+q.operator](y,n);case e0.BinaryExpression:return C=this.recurse(q.left),y=this.recurse(q.right),this["binary"+q.operator](C,y,n);case e0.LogicalExpression:return C=this.recurse(q.left),y=this.recurse(q.right),this["binary"+q.operator](C,y,n);case e0.ConditionalExpression:return this["ternary?:"](this.recurse(q.test),this.recurse(q.alternate),this.recurse(q.consequent),n);case e0.Identifier:return bL(q.name,x.expression),x.identifier(q.name,x.expensiveChecks||fk(q.name),n,B,x.expression);case e0.MemberExpression:return C=this.recurse(q.object,!1,!!B),q.computed||(bL(q.property.name,x.expression),y=q.property.name),q.computed&&(y=this.recurse(q.property)),q.computed?this.computedMember(C,y,n,B,x.expression):this.nonComputedMember(C,y,x.expensiveChecks,n,B,x.expression);case e0.CallExpression:return v=[],e1(q.arguments,function(D){v.push(x.recurse(D))}),q.filter&&(y=this.$filter(q.callee.name)),q.filter||(y=this.recurse(q.callee,!0)),q.filter?function(D,L,G,F){for(var E=[],H=0;H<v.length;++H){E.push(v[H](D,L,G,F))}D=y.apply(eZ,E,F);return n?{context:eZ,name:eZ,value:D}:D}:function(E,N,H,D){var F=y(E,N,H,D),L;if(null!=F.value){bm(F.context,x.expression);b1(F.value,x.expression);L=[];for(var G=0;G<v.length;++G){L.push(bm(v[G](E,N,H,D),x.expression))}L=bm(F.value.apply(F.context,L),x.expression)}return n?{value:L}:L};case e0.AssignmentExpression:return C=this.recurse(q.left,!0,1),y=this.recurse(q.right),function(E,H,G,D){var F=C(E,H,G,D);E=y(E,H,G,D);bm(F.value,x.expression);fP(F.context);F.context[F.name]=E;return n?{value:E}:E};case e0.ArrayExpression:return v=[],e1(q.elements,function(D){v.push(x.recurse(D))}),function(D,L,G,F){for(var E=[],H=0;H<v.length;++H){E.push(v[H](D,L,G,F))}return n?{value:E}:E};case e0.ObjectExpression:return v=[],e1(q.properties,function(D){v.push({key:D.key.type===e0.Identifier?D.key.name:""+D.key.value,value:x.recurse(D.value)})}),function(D,L,G,F){for(var E={},H=0;H<v.length;++H){E[v[H].key]=v[H].value(D,L,G,F)}return n?{value:E}:E};case e0.ThisExpression:return function(D){return n?{value:D}:D};case e0.LocalsExpression:return function(D,E){return n?{value:E}:E};case e0.NGValueParameter:return function(D,G,F,E){return n?{value:F}:F}}},"unary+":function(q,n){return function(y,B,x,v){y=q(y,B,x,v);y=eW(y)?+y:0;return n?{value:y}:y}},"unary-":function(q,n){return function(y,B,x,v){y=q(y,B,x,v);y=eW(y)?-y:0;return n?{value:y}:y}},"unary!":function(q,n){return function(y,B,x,v){y=!q(y,B,x,v);return n?{value:y}:y}},"binary+":function(q,n,v){return function(D,C,B,y){var x=q(D,C,B,y);D=n(D,C,B,y);x=bP(x,D);return v?{value:x}:x}},"binary-":function(q,n,v){return function(D,C,B,y){var x=q(D,C,B,y);D=n(D,C,B,y);x=(eW(x)?x:0)-(eW(D)?D:0);return v?{value:x}:x}},"binary*":function(q,n,v){return function(C,B,y,x){C=q(C,B,y,x)*n(C,B,y,x);return v?{value:C}:C}},"binary/":function(q,n,v){return function(C,B,y,x){C=q(C,B,y,x)/n(C,B,y,x);return v?{value:C}:C}},"binary%":function(q,n,v){return function(C,B,y,x){C=q(C,B,y,x)%n(C,B,y,x);return v?{value:C}:C}},"binary===":function(q,n,v){return function(C,B,y,x){C=q(C,B,y,x)===n(C,B,y,x);return v?{value:C}:C}},"binary!==":function(q,n,v){return function(C,B,y,x){C=q(C,B,y,x)!==n(C,B,y,x);return v?{value:C}:C}},"binary==":function(q,n,v){return function(C,B,y,x){C=q(C,B,y,x)==n(C,B,y,x);return v?{value:C}:C}},"binary!=":function(q,n,v){return function(C,B,y,x){C=q(C,B,y,x)!=n(C,B,y,x);return v?{value:C}:C}},"binary<":function(q,n,v){return function(C,B,y,x){C=q(C,B,y,x)<n(C,B,y,x);return v?{value:C}:C}},"binary>":function(q,n,v){return function(C,B,y,x){C=q(C,B,y,x)>n(C,B,y,x);return v?{value:C}:C}},"binary<=":function(q,n,v){return function(C,B,y,x){C=q(C,B,y,x)<=n(C,B,y,x);return v?{value:C}:C}},"binary>=":function(q,n,v){return function(C,B,y,x){C=q(C,B,y,x)>=n(C,B,y,x);return v?{value:C}:C}},"binary&&":function(q,n,v){return function(C,B,y,x){C=q(C,B,y,x)&&n(C,B,y,x);return v?{value:C}:C}},"binary||":function(q,n,v){return function(C,B,y,x){C=q(C,B,y,x)||n(C,B,y,x);return v?{value:C}:C}},"ternary?:":function(q,n,v,x){return function(D,C,B,y){D=q(D,C,B,y)?n(D,C,B,y):v(D,C,B,y);return x?{value:D}:D}},value:function(q,n){return function(){return n?{context:eZ,name:eZ,value:q}:q}},identifier:function(q,n,x,y,v){return function(E,D,C,B){E=D&&q in D?D:E;y&&1!==y&&E&&!E[q]&&(E[q]={});D=E?E[q]:eZ;n&&bm(D,v);return x?{context:E,name:q,value:D}:D}},computedMember:function(q,n,x,y,v){return function(G,F,E,D){var C=q(G,F,E,D),B,H;null!=C&&(B=n(G,F,E,D),B+="",bL(B,v),y&&1!==y&&(fP(C),C&&!C[B]&&(C[B]={})),H=C[B],bm(H,v));return x?{context:C,name:B,value:H}:H}},nonComputedMember:function(q,n,y,B,x,v){return function(F,E,D,C){F=q(F,E,D,C);x&&1!==x&&(fP(F),F&&!F[n]&&(F[n]={}));E=null!=F?F[n]:eZ;(y||fk(n))&&bm(E,v);return B?{context:F,name:n,value:E}:E}},inputs:function(q,n){return function(y,B,x,v){return v?v[n]:q(y,B,x)}}};var dn=function(q,n,v){this.lexer=q;this.$filter=n;this.options=v;this.ast=new e0(this.lexer);this.astCompiler=v.csp?new ai(this.ast,n):new ax(this.ast,n)};dn.prototype={constructor:dn,parse:function(n){return this.astCompiler.compile(n,this.options.expensiveChecks)}};var cy=Object.prototype.valueOf,aV=fx("$sce"),bF={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},dq=fx("$compile"),fm=fo.createElement("a"),fU=fX(ft.location.href);bj.$inject=["$document"];eG.$inject=["$provide"];var f6=22,gq=".",cP="0";aS.$inject=["$locale"];ap.$inject=["$locale"];var gh={yyyy:f2("FullYear",4),yy:f2("FullYear",2,0,!0),y:f2("FullYear",1),MMMM:eH("Month"),MMM:eH("Month",!0),MM:f2("Month",2,1),M:f2("Month",1,1),dd:f2("Date",2),d:f2("Date",1),HH:f2("Hours",2),H:f2("Hours",1),hh:f2("Hours",2,-12),h:f2("Hours",1,-12),mm:f2("Minutes",2),m:f2("Minutes",1),ss:f2("Seconds",2),s:f2("Seconds",1),sss:f2("Milliseconds",3),EEEE:eH("Day"),EEE:eH("Day",!0),a:function(q,n){return 12>q.getHours()?n.AMPMS[0]:n.AMPMS[1]},Z:function(q,n,v){q=-1*v;return q=(0<=q?"+":"")+(eV(Math[0<q?"floor":"ceil"](q/60),2)+eV(Math.abs(q%60),2))},ww:fi(2),w:fi(1),G:cC,GG:cC,GGG:cC,GGGG:function(q,n){return 0>=q.getFullYear()?n.ERANAMES[0]:n.ERANAMES[1]}},d=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,s=/^\-?\d+$/;aE.$inject=["$locale"];var bn=fI(fz),aW=fI(az);P.$inject=["$parse"];var b0=fI({restrict:"E",compile:function(q,n){if(!n.href&&!n.xlinkHref){return function(x,v){if("a"===v[0].nodeName.toLowerCase()){var y="[object SVGAnimatedString]"===d5.call(v.prop("href"))?"xlink:href":"href";v.on("click",function(B){v.attr(y)||B.preventDefault()})}}}}}),ak={};e1(ar,function(q,n){function x(B,D,C){B.$watch(C[y],function(E){C.$set(n,!!E)})}if("multiple"!=q){var y=al("ng-"+n),v=x;"checked"===q&&(v=function(C,B,D){D.ngModel!==D[y]&&x(C,B,D)});ak[y]=function(){return{restrict:"A",priority:100,link:v}}}});e1(e5,function(q,n){ak[n]=function(){return{priority:100,link:function(v,y,x){if("ngPattern"===n&&"/"==x.ngPattern.charAt(0)&&(y=x.ngPattern.match(a9))){x.$set("ngPattern",new RegExp(y[1],y[2]));return}v.$watch(x[n],function(B){x.$set(n,B)})}}}});e1(["src","srcset","href"],function(q){var n=al("ng-"+q);ak[n]=function(){return{priority:99,link:function(B,C,y){var x=q,v=q;"href"===q&&"[object SVGAnimatedString]"===d5.call(C.prop("href"))&&(v="xlinkHref",y.$attr[v]="xlink:href",x=null);y.$observe(n,function(D){D?(y.$set(v,D),j&&x&&C.prop(x,y[v])):"href"===q&&y.$set(v,null)})}}}});var eu={$addControl:fJ,$$renameControl:function(q,n){q.$name=n},$removeControl:fJ,$setValidity:fJ,$setDirty:fJ,$setPristine:fJ,$setSubmitted:fJ};eT.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var cU=function(n){return["$timeout","$parse",function(q,v){function x(y){return""===y?v('this[""]').assign:v(y).assign||fJ}return{name:"form",restrict:n?"EAC":"E",require:["form","^^?form"],controller:eT,compile:function(C,B){C.addClass(by).addClass(b3);var y=B.name?"name":n&&B.ngForm?"ngForm":!1;return{pre:function(D,L,H,G){var N=G[0];if(!("action" in H)){var E=function(O){D.$apply(function(){N.$commitViewValue();N.$setSubmitted()});O.preventDefault()};L[0].addEventListener("submit",E,!1);L.on("$destroy",function(){q(function(){L[0].removeEventListener("submit",E,!1)},0,!1)})}(G[1]||N.$$parentForm).$addControl(N);var F=y?x(N.$name):fJ;y&&(F(D,N),H.$observe(y,function(O){N.$name!==O&&(F(D,eZ),N.$$parentForm.$$renameControl(N,O),F=x(N.$name),F(D,N))}));L.on("$destroy",function(){N.$$parentForm.$removeControl(N);F(D,eZ);fr(N,eu)})}}}}}]},bO=cU(),aD=cU(!0),fR=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,fK=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,e9=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,eQ=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,cH=/^(\d{4})-(\d{2})-(\d{2})$/,cu=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,bQ=/^(\d{4})-W(\d\d)$/,b7=/^(\d{4})-(\d\d)$/,bV=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,bI={text:function(q,n,y,B,x,v){cQ(q,n,y,B,x,v);cp(B)},date:cD("date",cH,dX(cH,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":cD("datetimelocal",cu,dX(cu,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:cD("time",bV,dX(bV,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:cD("week",bQ,function(E,D){if(fp(E)){return E}if(fB(E)){bQ.lastIndex=0;var B=bQ.exec(E);if(B){var C=+B[1],y=+B[2],x=B=0,v=0,q=0,n=fN(C),y=7*(y-1);D&&(B=D.getHours(),x=D.getMinutes(),v=D.getSeconds(),q=D.getMilliseconds());return new Date(C,0,n.getDate()+y,B,x,v,q)}}return NaN},"yyyy-Www"),month:cD("month",b7,dX(b7,["yyyy","MM"]),"yyyy-MM"),number:function(q,n,C,D,B,y){es(q,n,C,D);cQ(q,n,C,D,B,y);D.$$parserName="number";D.$parsers.push(function(E){return D.$isEmpty(E)?null:eQ.test(E)?parseFloat(E):eZ});D.$formatters.push(function(E){if(!D.$isEmpty(E)){if(!fu(E)){throw cq("numfmt",E)}E=E.toString()}return E});if(eW(C.min)||C.ngMin){var x;D.$validators.min=function(E){return D.$isEmpty(E)||eY(x)||E>=x};C.$observe("min",function(E){eW(E)&&!fu(E)&&(E=parseFloat(E,10));x=fu(E)&&!isNaN(E)?E:eZ;D.$validate()})}if(eW(C.max)||C.ngMax){var v;D.$validators.max=function(E){return D.$isEmpty(E)||eY(v)||E<=v};C.$observe("max",function(E){eW(E)&&!fu(E)&&(E=parseFloat(E,10));v=fu(E)&&!isNaN(E)?E:eZ;D.$validate()})}},url:function(q,n,y,B,x,v){cQ(q,n,y,B,x,v);cp(B);B.$$parserName="url";B.$validators.url=function(D,C){var E=D||C;return B.$isEmpty(E)||fK.test(E)}},email:function(q,n,y,B,x,v){cQ(q,n,y,B,x,v);cp(B);B.$$parserName="email";B.$validators.email=function(D,C){var E=D||C;return B.$isEmpty(E)||e9.test(E)}},radio:function(q,n,v,x){eY(v.name)&&n.attr("name",++bR);n.on("click",function(y){n[0].checked&&x.$setViewValue(v.value,y&&y.type)});x.$render=function(){n[0].checked=v.value==x.$viewValue};v.$observe("value",x.$render)},checkbox:function(F,E,C,D,B,y,x,v){var q=d9(v,F,"ngTrueValue",C.ngTrueValue,!0),n=d9(v,F,"ngFalseValue",C.ngFalseValue,!1);E.on("click",function(G){D.$setViewValue(E[0].checked,G&&G.type)});D.$render=function(){E[0].checked=D.$viewValue};D.$isEmpty=function(G){return !1===G};D.$formatters.push(function(G){return b4(G,q)});D.$parsers.push(function(G){return G?q:n})},hidden:fJ,button:fJ,submit:fJ,reset:fJ,file:fJ},p=["$browser","$sniffer","$filter","$parse",function(q,n,v,x){return{restrict:"E",require:["?ngModel"],link:{pre:function(D,C,B,y){y[0]&&(bI[fz(B.type)]||bI.text)(D,C,B,y[0],n,q,v,x)}}}}],eC=/^(true|false|\d+)$/,ct=function(){return{restrict:"A",priority:100,compile:function(q,n){return eC.test(n.ngValue)?function(x,v,y){y.$set("value",x.$eval(y.ngValue))}:function(x,v,y){x.$watch(y.ngValue,function(B){y.$set("value",B)})}}}},aw=["$compile",function(n){return{restrict:"AC",compile:function(q){n.$$addBindingClass(q);return function(v,y,x){n.$$addBindingInfo(y,x.ngBind);y=y[0];v.$watch(x.ngBind,function(B){y.textContent=eY(B)?"":B})}}}}],u=["$interpolate","$compile",function(q,n){return{compile:function(v){n.$$addBindingClass(v);return function(B,y,x){B=q(y.attr(x.$attr.ngBindTemplate));n.$$addBindingInfo(y,B.expressions);y=y[0];x.$observe("ngBindTemplate",function(C){y.textContent=eY(C)?"":C})}}}}],ah=["$sce","$parse","$compile",function(q,n,v){return{restrict:"A",compile:function(C,B){var y=n(B.ngBindHtml),x=n(B.ngBindHtml,function(D){return(D||"").toString()});v.$$addBindingClass(C);return function(D,F,E){v.$$addBindingInfo(F,E.ngBindHtml);D.$watch(x,function(){F.html(q.getTrustedHtml(y(D))||"")})}}}}],cG=fI({restrict:"A",require:"ngModel",link:function(q,n,v,x){x.$viewChangeListeners.push(function(){q.$eval(v.ngChange)})}}),f=b2("",!0),fT=b2("Odd",0),gj=b2("Even",1),bi=ev({compile:function(q,n){n.$set("ngCloak",eZ);q.removeClass("ng-cloak")}}),aR=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],eU={},ep={blur:!0,focus:!0};e1("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(q){var n=al("ng-"+q);eU[n]=["$parse","$rootScope",function(v,x){return{restrict:"A",compile:function(C,B){var y=v(B[n],null,!0);return function(D,E){E.on(q,function(G){var F=function(){y(D,{$event:G})};ep[q]&&x.$$phase?D.$evalAsync(F):D.$apply(F)})}}}}]});var M=["$animate",function(n){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(q,D,E,C,B){var y,x,v;q.$watch(E.ngIf,function(F){F?x||B(function(G,H){x=H;G[G.length++]=fo.createComment(" end ngIf: "+E.ngIf+" ");y={clone:G};n.enter(G,D.parent(),D)}):(v&&(v.remove(),v=null),x&&(x.$destroy(),x=null),y&&(v=aN(y.clone),n.leave(v).then(function(){v=null}),y=null))})}}}],m=["$templateRequest","$anchorScroll","$animate",function(q,n,v){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:dD.noop,compile:function(D,C){var B=C.ngInclude||C.src,y=C.onload||"",x=C.autoscroll;return function(N,L,H,G,U){var E=0,R,T,F,O=function(){T&&(T.remove(),T=null);R&&(R.$destroy(),R=null);F&&(v.leave(F).then(function(){T=null}),T=F,F=null)};N.$watch(B,function(W){var V=function(){!eW(x)||x&&!N.$eval(x)||n()},X=++E;W?(q(W,!0).then(function(Z){if(!N.$$destroyed&&X===E){var Y=N.$new();G.template=Z;Z=U(Y,function(aa){O();v.enter(aa,null,L).then(V)});R=Y;F=Z;R.$emit("$includeContentLoaded",W);N.$eval(y)}},function(){N.$$destroyed||X!==E||(O(),N.$emit("$includeContentError",W))}),N.$emit("$includeContentRequested",W)):(O(),G.template=null)})}}}}],bU=["$compile",function(n){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(q,x,y,v){d5.call(x[0]).match(/SVG/)?(x.empty(),n(ea(v.template,fo).childNodes)(q,function(B){x.append(B)},{futureParentElement:x})):(x.html(v.template),n(x.contents())(q))}}}],gp=ev({priority:450,compile:function(){return{pre:function(q,n,v){q.$eval(v.ngInit)}}}}),cT=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(q,n,B,C){var y=n.attr(B.$attr.ngList)||", ",x="false"!==B.ngTrim,v=x?fn(y):y;C.$parsers.push(function(E){if(!eY(E)){var D=[];E&&e1(E.split(v),function(F){F&&D.push(x?fn(F):F)});return D}});C.$formatters.push(function(D){return fv(D)?D.join(y):eZ});C.$isEmpty=function(D){return !D||!D.length}}}},b3="ng-valid",dV="ng-invalid",by="ng-pristine",eh="ng-dirty",du="ng-pending",cq=fx("ngModel"),d6=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(V,U,R,T,O,N,L,H,G,F){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=eZ;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=eZ;this.$name=F(R.name||"",!1)(V);this.$$parentForm=eu;var E=O(R.ngModel),B=E.assign,C=E,v=B,n=null,y,D=this;this.$$setOptions=function(W){if((D.$options=W)&&W.getterSetter){var q=O(R.ngModel+"()"),X=O(R.ngModel+"($$$p)");C=function(Y){var Z=E(Y);fF(Z)&&(Z=q(Y));return Z};v=function(Z,Y){fF(E(Z))?X(Z,{$$$p:D.$modelValue}):B(Z,D.$modelValue)}}else{if(!E.assign){throw cq("nonassign",R.ngModel,aO(T))}}};this.$render=fJ;this.$isEmpty=function(q){return eY(q)||""===q||null===q||q!==q};this.$$updateEmptyClasses=function(q){D.$isEmpty(q)?(N.removeClass(T,"ng-not-empty"),N.addClass(T,"ng-empty")):(N.removeClass(T,"ng-empty"),N.addClass(T,"ng-not-empty"))};var x=0;eF({ctrl:this,$element:T,set:function(W,q){W[q]=!0},unset:function(W,q){delete W[q]},$animate:N});this.$setPristine=function(){D.$dirty=!1;D.$pristine=!0;N.removeClass(T,eh);N.addClass(T,by)};this.$setDirty=function(){D.$dirty=!0;D.$pristine=!1;N.removeClass(T,by);N.addClass(T,eh);D.$$parentForm.$setDirty()};this.$setUntouched=function(){D.$touched=!1;D.$untouched=!0;N.setClass(T,"ng-untouched","ng-touched")};this.$setTouched=function(){D.$touched=!0;D.$untouched=!1;N.setClass(T,"ng-touched","ng-untouched")};this.$rollbackViewValue=function(){L.cancel(n);D.$viewValue=D.$$lastCommittedViewValue;D.$render()};this.$validate=function(){if(!fu(D.$modelValue)||!isNaN(D.$modelValue)){var W=D.$$rawModelValue,q=D.$valid,Y=D.$modelValue,X=D.$options&&D.$options.allowInvalid;D.$$runValidators(W,D.$$lastCommittedViewValue,function(Z){X||q===Z||(D.$modelValue=Z?W:eZ,D.$modelValue!==Y&&D.$$writeModelToScope())})}};this.$$runValidators=function(W,q,ae){function ab(){var af=!0;e1(D.$validators,function(bb,ba){var ag=bb(W,q);af=af&&ag;Z(ba,ag)});return af?!0:(e1(D.$asyncValidators,function(ba,ag){Z(ag,null)}),!1)}function aa(){var ag=[],af=!0;e1(D.$asyncValidators,function(bc,bb){var ba=bc(W,q);if(!ba||!fF(ba.then)){throw cq("nopromise",ba)}Z(bb,eZ);ag.push(ba.then(function(){Z(bb,!0)},function(bd){af=!1;Z(bb,!1)}))});ag.length?G.all(ag).then(function(){Y(af)},fJ):Y(!0)}function Z(ag,af){X===x&&D.$setValidity(ag,af)}function Y(af){X===x&&ae(af)}x++;var X=x;(function(){var af=D.$$parserName||"parse";if(eY(y)){Z(af,null)}else{return y||(e1(D.$validators,function(ba,ag){Z(ag,null)}),e1(D.$asyncValidators,function(ba,ag){Z(ag,null)})),Z(af,y),y}return !0})()?ab()?aa():Y(!1):Y(!1)};this.$commitViewValue=function(){var q=D.$viewValue;L.cancel(n);if(D.$$lastCommittedViewValue!==q||""===q&&D.$$hasNativeValidators){D.$$updateEmptyClasses(q),D.$$lastCommittedViewValue=q,D.$pristine&&this.$setDirty(),this.$$parseAndValidate()}};this.$$parseAndValidate=function(){var q=D.$$lastCommittedViewValue;if(y=eY(q)?eZ:!0){for(var Y=0;Y<D.$parsers.length;Y++){if(q=D.$parsers[Y](q),eY(q)){y=!1;break}}}fu(D.$modelValue)&&isNaN(D.$modelValue)&&(D.$modelValue=C(V));var X=D.$modelValue,W=D.$options&&D.$options.allowInvalid;D.$$rawModelValue=q;W&&(D.$modelValue=q,D.$modelValue!==X&&D.$$writeModelToScope());D.$$runValidators(q,D.$$lastCommittedViewValue,function(Z){W||(D.$modelValue=Z?q:eZ,D.$modelValue!==X&&D.$$writeModelToScope())})};this.$$writeModelToScope=function(){v(V,D.$modelValue);e1(D.$viewChangeListeners,function(q){try{q()}catch(W){U(W)}})};this.$setViewValue=function(W,q){D.$viewValue=W;D.$options&&!D.$options.updateOnDefault||D.$$debounceViewValueCommit(q)};this.$$debounceViewValueCommit=function(q){var X=0,W=D.$options;W&&eW(W.debounce)&&(W=W.debounce,fu(W)?X=W:fu(W[q])?X=W[q]:fu(W["default"])&&(X=W["default"]));L.cancel(n);X?n=L(function(){D.$commitViewValue()},X):H.$$phase?D.$commitViewValue():V.$apply(function(){D.$commitViewValue()})};V.$watch(function(){var q=C(V);if(q!==D.$modelValue&&(D.$modelValue===D.$modelValue||q===q)){D.$modelValue=D.$$rawModelValue=q;y=eZ;for(var Y=D.$formatters,X=Y.length,W=q;X--;){W=Y[X](W)}D.$viewValue!==W&&(D.$$updateEmptyClasses(W),D.$viewValue=D.$$lastCommittedViewValue=W,D.$render(),D.$$runValidators(q,W,fJ))}return q})}],c7=["$rootScope",function(n){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:d6,priority:1,compile:function(q){q.addClass(by).addClass("ng-untouched").addClass(b3);return{pre:function(x,v,C,B){var y=B[0];v=B[1]||y.$$parentForm;y.$$setOptions(B[2]&&B[2].$options);v.$addControl(y);C.$observe("name",function(D){y.$name!==D&&y.$$parentForm.$$renameControl(y,D)});x.$on("$destroy",function(){y.$$parentForm.$removeControl(y)})},post:function(v,C,B,y){var x=y[0];if(x.$options&&x.$options.updateOn){C.on(x.$options.updateOn,function(D){x.$$debounceViewValueCommit(D&&D.type)})}C.on("blur",function(D){x.$touched||(n.$$phase?v.$evalAsync(x.$setTouched):v.$apply(x.$setTouched))})}}}}}],dS=/(\s+|^)default(\s+|$)/,b6=function(){return{restrict:"A",controller:["$scope","$attrs",function(q,n){var v=this;this.$options=dY(q.$eval(n.ngModelOptions));eW(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=fn(this.$options.updateOn.replace(dS,function(){v.$options.updateOnDefault=!0;return" "}))):this.$options.updateOnDefault=!0}]}},f5=ev({terminal:!0,priority:1000}),dE=fx("ngOptions"),dr=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,dG=["$compile","$parse",function(q,n){function x(ae,ab,aa){function Z(C,B,ba,ag,af){this.selectValue=C;this.viewValue=B;this.label=ba;this.group=ag;this.disabled=af}function Y(C){var B;if(!T&&aH(C)){B=C}else{B=[];for(var af in C){C.hasOwnProperty(af)&&"$"!==af.charAt(0)&&B.push(af)}}return B}var X=ae.match(dr);if(!X){throw dE("iexp",ae,aO(ab))}var W=X[5]||X[7],T=X[6];ae=/ as /.test(X[0])&&X[1];var H=X[9];ab=n(X[2]?X[1]:W);var E=ae&&n(ae)||ab,N=H&&n(H),V=H?function(C,B){return N(aa,B)}:function(B){return r(B)},G=function(C,B){return V(C,R(C,B))},L=n(X[2]||X[1]),F=n(X[3]||""),D=n(X[4]||""),U=n(X[8]),O={},R=T?function(C,B){O[T]=B;O[W]=C;return O}:function(B){O[W]=B;return O};return{trackBy:H,getTrackByValue:G,getWatchables:n(U,function(C){var B=[];C=C||[];for(var bc=Y(C),bb=bc.length,ba=0;ba<bb;ba++){var ag=C===bc?ba:bc[ba],af=R(C[ag],ag),ag=V(C[ag],af);B.push(ag);if(X[2]||X[1]){ag=L(aa,af),B.push(ag)}X[4]&&(af=D(aa,af),B.push(af))}return B}),getOptions:function(){for(var be=[],bd={},bc=U(aa)||[],bb=Y(bc),ba=bb.length,ag=0;ag<ba;ag++){var af=bc===bb?ag:bb[ag],B=R(bc[af],af),C=E(aa,B),af=V(C,B),bg=L(aa,B),bf=F(aa,B),B=D(aa,B),C=new Z(af,C,bg,bf,B);be.push(C);bd[af]=C}return{items:be,selectValueMap:bd,getOptionFromViewValue:function(ca){return bd[G(ca)]},getViewValueFromOption:function(ca){return H?dD.copy(ca.viewValue):ca.viewValue}}}}}var y=fo.createElement("option"),v=fo.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(C,B,E,D){D[0].registerOption=fJ},post:function(af,ae,ab,aa){function Z(D,B){D.element=B;B.disabled=D.disabled;D.label!==B.label&&(B.label=D.label,B.textContent=D.label);D.value!==B.value&&(B.value=D.selectValue)}function Y(D,B,ag,E){B&&fz(B.nodeName)===ag?ag=B:(ag=E.cloneNode(!1),B?D.insertBefore(ag,B):D.appendChild(ag));return ag}function T(D){for(var B;D;){B=D.nextSibling,cj(D),D=B}}function V(D){var B=G&&G[0],E=W&&W[0];if(B||E){for(;D&&(D===B||D===E||8===D.nodeType||"option"===bt(D)&&""===D.value);){D=D.nextSibling}}return D}function H(){var D=R&&F.readValue();R=N.getOptions();var B={},ag=ae[0].firstChild;C&&ae.prepend(G);ag=V(ag);R.items.forEach(function(ba){var bc,bb;eW(ba.group)?(bc=B[ba.group],bc||(bc=Y(ae[0],ag,"optgroup",v),ag=bc.nextSibling,bc.label=ba.group,bc=B[ba.group]={groupElement:bc,currentOptionElement:bc.firstChild}),bb=Y(bc.groupElement,bc.currentOptionElement,"option",y),Z(ba,bb),bc.currentOptionElement=bb.nextSibling):(bb=Y(ae[0],ag,"option",y),Z(ba,bb),ag=bb.nextSibling)});Object.keys(B).forEach(function(ba){T(B[ba].currentOptionElement)});T(ag);O.$render();if(!O.$isEmpty(D)){var E=F.readValue();(N.trackBy||X?b4(D,E):D===E)||(O.$setViewValue(E),O.$render())}}var F=aa[0],O=aa[1],X=ab.multiple,G;aa=0;for(var L=ae.children(),U=L.length;aa<U;aa++){if(""===L[aa].value){G=L.eq(aa);break}}var C=!!G,W=fH(y.cloneNode(!1));W.val("?");var R,N=x(ab.ngOptions,ae,af);X?(O.$isEmpty=function(B){return !B||0===B.length},F.writeValue=function(B){R.items.forEach(function(D){D.element.selected=!1});B&&B.forEach(function(D){(D=R.getOptionFromViewValue(D))&&!D.disabled&&(D.element.selected=!0)})},F.readValue=function(){var D=ae.val()||[],B=[];e1(D,function(E){(E=R.selectValueMap[E])&&!E.disabled&&B.push(R.getViewValueFromOption(E))});return B},N.trackBy&&af.$watchCollection(function(){if(fv(O.$viewValue)){return O.$viewValue.map(function(B){return N.getTrackByValue(B)})}},function(){O.$render()})):(F.writeValue=function(D){var B=R.getOptionFromViewValue(D);B&&!B.disabled?ae[0].value!==B.selectValue&&(W.remove(),C||G.remove(),ae[0].value=B.selectValue,B.element.selected=!0,B.element.setAttribute("selected","selected")):null===D||C?(W.remove(),C||ae.prepend(G),ae.val(""),G.prop("selected",!0),G.attr("selected",!0)):(C||G.remove(),ae.prepend(W),ae.val("?"),W.prop("selected",!0),W.attr("selected",!0))},F.readValue=function(){var B=R.selectValueMap[ae.val()];return B&&!B.disabled?(C||G.remove(),W.remove(),R.getViewValueFromOption(B)):null},N.trackBy&&af.$watch(function(){return N.getTrackByValue(O.$viewValue)},function(){O.$render()}));C?(G.remove(),q(G)(af),G.removeClass("ng-scope")):G=fH(y.cloneNode(!1));H();af.$watchCollection(N.getWatchables,H)}}}}],fM=["$locale","$interpolate","$log",function(q,n,x){var y=/{}/g,v=/^when(Minus)?(.+)$/;return{link:function(N,L,H){function G(W){L.text(W||"")}var F=H.count,E=H.$attr.when&&L.attr(H.$attr.when),B=H.offset||0,C=N.$eval(E)||{},T={},O=n.startSymbol(),V=n.endSymbol(),D=O+F+"-"+B+V,R=dD.noop,U;e1(H,function(X,W){var Y=v.exec(W);Y&&(Y=(Y[1]?"-":"")+fz(Y[2]),C[Y]=L.attr(H.$attr[W]))});e1(C,function(W,X){T[X]=n(W.replace(y,D))});N.$watch(F,function(W){var Y=parseFloat(W),X=isNaN(Y);X||Y in C||(Y=q.pluralCat(Y-B));Y===U||X&&fu(U)&&isNaN(U)||(R(),X=T[Y],eY(X)?(null!=W&&x.debug("ngPluralize: no rule defined for '"+Y+"' in "+E),R=fJ,G()):R=N.$watch(X,G),U=Y)})}}}],fh=["$parse","$animate",function(q,n){var v=fx("ngRepeat"),x=function(D,B,G,F,E,C,y){D[G]=F;E&&(D[E]=C);D.$index=B;D.$first=0===B;D.$last=B===y-1;D.$middle=!(D.$first||D.$last);D.$odd=!(D.$even=0===(B&1))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1000,terminal:!0,$$tlb:!0,compile:function(T,R){var O=R.ngRepeat,N=fo.createComment(" end ngRepeat: "+O+" "),L=O.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!L){throw v("iexp",O)}var H=L[1],G=L[2],C=L[3],D=L[4],L=H.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!L){throw v("iidexp",H)}var V=L[3]||L[1],U=L[2];if(C&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(C)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(C))){throw v("badident",C)}var Y,F,W,X,E={$id:r};D?Y=q(D):(W=function(B,y){return r(y)},X=function(y){return y});return function(B,ae,ab,Z,y){Y&&(F=function(af,ba,ag){U&&(E[U]=af);E[V]=ba;E.$index=ag;return Y(B,E)});var aa=fl();B.$watchCollection(G,function(bc){var bb,ba,cd=ae[0],cb,ag=fl(),af,cc,bf,ca,be,bg,bd;C&&(B[C]=bc);if(aH(bc)){be=bc,ba=F||W}else{for(bd in ba=F||X,be=[],bc){a2.call(bc,bd)&&"$"!==bd.charAt(0)&&be.push(bd)}}af=be.length;bd=Array(af);for(bb=0;bb<af;bb++){if(cc=bc===be?bb:be[bb],bf=bc[cc],ca=ba(cc,bf,bb),aa[ca]){bg=aa[ca],delete aa[ca],ag[ca]=bg,bd[bb]=bg}else{if(ag[ca]){throw e1(bd,function(ce){ce&&ce.scope&&(aa[ce.id]=ce)}),v("dupes",O,ca,bf)}bd[bb]={id:ca,scope:eZ,clone:eZ};ag[ca]=!0}}for(cb in aa){bg=aa[cb];ca=aN(bg.clone);n.leave(ca);if(ca[0].parentNode){for(bb=0,ba=ca.length;bb<ba;bb++){ca[bb].$$NG_REMOVED=!0}}bg.scope.$destroy()}for(bb=0;bb<af;bb++){if(cc=bc===be?bb:be[bb],bf=bc[cc],bg=bd[bb],bg.scope){cb=cd;do{cb=cb.nextSibling}while(cb&&cb.$$NG_REMOVED);bg.clone[0]!=cb&&n.move(aN(bg.clone),null,fH(cd));cd=bg.clone[bg.clone.length-1];x(bg.scope,bb,V,bf,U,cc,af)}else{y(function(ce,cg){bg.scope=cg;var cf=N.cloneNode(!1);ce[ce.length++]=cf;n.enter(ce,null,fH(cd));cd=cf;bg.clone=ce;ag[bg.id]=bg;x(bg.scope,bb,V,bf,U,cc,af)})}}aa=ag})}}}}],eS=["$animate",function(n){return{restrict:"A",multiElement:!0,link:function(q,v,x){q.$watch(x.ngShow,function(y){n[y?"removeClass":"addClass"](v,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ao=["$animate",function(n){return{restrict:"A",multiElement:!0,link:function(q,v,x){q.$watch(x.ngHide,function(y){n[y?"addClass":"removeClass"](v,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],eE=ev(function(q,n,v){q.$watch(v.ngStyle,function(x,y){y&&x!==y&&e1(y,function(B,C){n.css(C,"")});x&&n.css(x)},!0)}),er=["$animate",function(n){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(F,D,E,C){var B=[],y=[],x=[],v=[],q=function(H,G){return function(){H.splice(G,1)}};F.$watch(E.ngSwitch||E.on,function(G){var N,L;N=0;for(L=x.length;N<L;++N){n.cancel(x[N])}N=x.length=0;for(L=v.length;N<L;++N){var H=aN(y[N].clone);v[N].$destroy();(x[N]=n.leave(H)).then(q(x,N))}y.length=0;v.length=0;(B=C.cases["!"+G]||C.cases["?"])&&e1(B,function(O){O.transclude(function(U,T){v.push(T);var R=O.element;U[U.length++]=fo.createComment(" end ngSwitchWhen: ");y.push({clone:U});n.enter(U,R.parent(),R)})})})}}}],d8=ev({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(q,n,x,y,v){y.cases["!"+x.ngSwitchWhen]=y.cases["!"+x.ngSwitchWhen]||[];y.cases["!"+x.ngSwitchWhen].push({transclude:v,element:n})}}),dU=ev({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(q,n,x,y,v){y.cases["?"]=y.cases["?"]||[];y.cases["?"].push({transclude:v,element:n})}}),c5=fx("ngTransclude"),dt=ev({restrict:"EAC",link:function(q,n,x,y,v){x.ngTransclude===x.$attr.ngTransclude&&(x.ngTransclude="");if(!v){throw c5("orphan",aO(n))}v(function(B){B.length&&(n.empty(),n.append(B))},null,x.ngTransclude||x.ngTranscludeSlot)}}),bB=["$templateCache",function(n){return{restrict:"E",terminal:!0,compile:function(q,v){"text/ng-template"==v.type&&n.put(v.id,q[0].text)}}}],cR={$setViewValue:fJ,$render:fJ},cE=["$element","$scope","$attrs",function(q,n,x){var y=this,v=new cx;y.ngModelCtrl=cR;y.unknownOption=fH(fo.createElement("option"));y.renderUnknownOption=function(B){B="? "+r(B)+" ?";y.unknownOption.val(B);q.prepend(y.unknownOption);q.val(B)};n.$on("$destroy",function(){y.renderUnknownOption=fJ});y.removeUnknownOption=function(){y.unknownOption.parent()&&y.unknownOption.remove()};y.readValue=function(){y.removeUnknownOption();return q.val()};y.writeValue=function(B){y.hasOption(B)?(y.removeUnknownOption(),q.val(B),""===B&&y.emptyOption.prop("selected",!0)):null==B&&y.emptyOption?(y.removeUnknownOption(),q.val("")):y.renderUnknownOption(B)};y.addOption=function(C,B){if(8!==B[0].nodeType){cK(C,'"option value"');""===C&&(y.emptyOption=B);var D=v.get(C)||0;v.put(C,D+1);y.ngModelCtrl.$render();B[0].hasAttribute("selected")&&(B[0].selected=!0)}};y.removeOption=function(C){var B=v.get(C);B&&(1===B?(v.remove(C),""===C&&(y.emptyOption=eZ)):v.put(C,B-1))};y.hasOption=function(B){return !!v.get(B)};y.registerOption=function(E,C,G,F,D){if(F){var B;G.$observe("value",function(H){eW(B)&&y.removeOption(B);B=H;y.addOption(H,C)})}else{D?E.$watch(D,function(H,L){G.$set("value",H);L!==H&&y.removeOption(L);y.addOption(H,C)}):y.addOption(G.value,C)}C.on("$destroy",function(){y.removeOption(G.value);y.ngModelCtrl.$render()})}}],bp=function(){return{restrict:"E",require:["select","?ngModel"],controller:cE,priority:1,link:{pre:function(q,n,C,D){var B=D[1];if(B){var y=D[0];y.ngModelCtrl=B;n.on("change",function(){q.$apply(function(){B.$setViewValue(y.readValue())})});if(C.multiple){y.readValue=function(){var E=[];e1(n.find("option"),function(F){F.selected&&E.push(F.value)});return E};y.writeValue=function(E){var F=new cx(E);e1(n.find("option"),function(G){G.selected=eW(F.get(G.value))})};var x,v=NaN;q.$watch(function(){v!==B.$viewValue||b4(x,B.$viewValue)||(x=cr(B.$viewValue),B.$render());v=B.$viewValue});B.$isEmpty=function(E){return !E||0===E.length}}}},post:function(q,n,y,B){var x=B[1];if(x){var v=B[0];x.$render=function(){v.writeValue(x.$viewValue)}}}}}},aK=["$interpolate",function(n){return{restrict:"E",priority:100,compile:function(q,x){if(eW(x.value)){var y=n(x.value,!0)}else{var v=n(q.text(),!0);v||x.$set("value",q.text())}return function(C,B,E){var D=B.parent();(D=D.data("$selectController")||D.parent().data("$selectController"))&&D.registerOption(C,B,E,y,v)}}}}],aY=fI({restrict:"E",terminal:!1}),f7=function(){return{restrict:"A",require:"?ngModel",link:function(q,n,v,x){x&&(v.required=!0,x.$validators.required=function(B,y){return !v.required||!x.$isEmpty(y)},v.$observe("required",function(){x.$validate()}))}}},a=function(){return{restrict:"A",require:"?ngModel",link:function(q,n,y,B){if(B){var x,v=y.ngPattern||y.pattern;y.$observe("pattern",function(C){fB(C)&&0<C.length&&(C=new RegExp("^"+C+"$"));if(C&&!C.test){throw fx("ngPattern")("noregexp",v,C,aO(n))}x=C||eZ;B.$validate()});B.$validators.pattern=function(D,C){return B.$isEmpty(C)||eY(x)||x.test(C)}}}}},fj=function(){return{restrict:"A",require:"?ngModel",link:function(q,n,x,y){if(y){var v=-1;x.$observe("maxlength",function(B){B=e8(B);v=isNaN(B)?-1:B;y.$validate()});y.$validators.maxlength=function(C,B){return 0>v||y.$isEmpty(B)||B.length<=v}}}}},fO=function(){return{restrict:"A",require:"?ngModel",link:function(q,n,x,y){if(y){var v=0;x.$observe("minlength",function(B){v=e8(B)||0;y.$validate()});y.$validators.minlength=function(C,B){return y.$isEmpty(B)||B.length>=v}}}}};ft.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(dl(),cN(dD),dD.module("ngLocale",[],["$provide",function(q){function n(x){x+="";var v=x.indexOf(".");return -1==v?0:x.length-v-1}q.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\u00a4",negSuf:"",posPre:"\u00a4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(v,B){var y=v|0,x=B;eZ===x&&(x=Math.min(n(v),3));Math.pow(10,x);return 1==y&&0==x?"one":"other"}})}]),fH(fo).ready(function(){el(fo,bk)}))})(window,document);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');
/*! jQuery v2.2.0 | (c) jQuery Foundation | jquery.org/license */
;!function(d,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=d.document?c(d,!0):function(b){if(!b.document){throw new Error("jQuery requires a window with a document")}return c(b)}:c(d)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.0",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++){if(null!=(a=arguments[h])){for(b in a){c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d))}}}return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return !n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!k.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a){return !1}return !0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++){if(b.call(a[d],d,a[d])===!1){break}}}else{for(d in a){if(b.call(a[d],d,a[d])===!1){break}}}return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++){a[e++]=b[d]}return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++){d=!b(a[f],f),d!==h&&e.push(a[f])}return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a)){for(d=a.length;d>g;g++){e=b(a[g],g,c),null!=e&&h.push(e)}}else{for(g in a){e=b(a[g],g,c),null!=e&&h.push(e)}}return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length" in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++){if(a[c]===b){return c}}return -1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]){}a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x){return d}if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a))){if(f=o[1]){if(9===x){if(!(j=b.getElementById(f))){return d}if(j.id===f){return d.push(j),d}}else{if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f){return d.push(j),d}}}else{if(o[2]){return H.apply(d,b.getElementsByTagName(a)),d}if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName){return H.apply(d,b.getElementsByClassName(f)),d}}}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x){w=b,s=a}else{if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";while(h--){r[h]=l+" "+qa(r[h])}s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}}if(s){try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return !!a(b)}catch(c){return !1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--){d.attrHandle[c[e]]=b}}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d){return d}if(c){while(c=c.nextSibling){if(c===b){return -1}}}return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--){c[e=f[g]]&&(c[e]=!(d[e]=c[e]))}})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++]){1===c.nodeType&&d.push(c)}return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return !0}}}return !1},B=b?function(a,b){if(a===b){return l=!0,0}var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b){return l=!0,0}var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f){return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0}if(e===f){return ka(a,b)}c=a;while(c=c.parentNode){g.unshift(c)}c=b;while(c=c.parentNode){h.unshift(c)}while(g[d]===h[d]){d++}return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b))){try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType){return d}}catch(e){}}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++]){b===a[f]&&(e=d.push(f))}while(e--){a.splice(d[e],1)}}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent){return a.textContent}for(a=a.firstChild;a;a=a.nextSibling){c+=e(a)}}else{if(3===f||4===f){return a.nodeValue}}}else{while(b=a[d++]){c+=e(b)}}return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return !0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return !!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p]){if(h?m.nodeName.toLowerCase()===r:1===m.nodeType){return !1}}o=p="only"===a&&!o&&"nextSibling"}return !0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop()){if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}}else{if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1){while(m=++n&&m&&m[p]||(t=n=0)||o.pop()){if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b)){break}}}}return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--){d=J(a,f[g]),a[d]=!(c[d]=f[g])}}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--){(f=g[h])&&(a[h]=!(b[h]=f))}}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do{if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return !1}}return !0},parent:function(a){return !d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2){a.push(c)}return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2){a.push(c)}return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;){a.push(d)}return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;){a.push(d)}return a})}},d.pseudos.nth=d.pseudos.eq;for(b in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){d.pseudos[b]=la(b)}for(b in {submit:!0,reset:!0}){d.pseudos[b]=ma(b)}function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k){return b?0:k.slice(0)}h=a,i=[],j=d.preFilter;while(h){(!c||(e=R.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter){!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length))}if(!c){break}}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++){d+=a[b].value}return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d]){if(1===b.nodeType||e){return a(b,c,f)}}}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d]){if((1===b.nodeType||e)&&a(b,c,g)){return !0}}}else{while(b=b[d]){if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f){return k[2]=h[2]}if(i[d]=k,k[2]=a(b,c,g)){return !0}}}}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--){if(!a[e](b,c,d)){return !1}}return !0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++){fa(a,b[d],c)}return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++){(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h))}return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--){(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}}if(f){if(e||a){if(e){j=[],k=r.length;while(k--){(l=r[k])&&j.push(q[k]=l)}e(null,r=[],j,i)}k=r.length;while(k--){(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}}else{r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)}})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++){if(c=d.relative[a[i].type]){m=[ra(sa(m),c)]}else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++){if(d.relative[a[e].type]){break}}return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||0.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++]){if(q(l,g||n,h)){i.push(l);break}}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++]){q(t,u,g,h)}if(f){if(r>0){while(s--){t[s]||u[s]||(u[s]=F.call(i))}}u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--){f=wa(b[c]),f[u]?d.push(f):e.push(f)}f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b){return e}n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type]){break}if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a){return H.apply(e,f),e}break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType){if(1===a.nodeType){if(e&&n(a).is(c)){break}d.push(a)}}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling){1===a.nodeType&&a!==b&&c.push(a)}return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b)){return n.grep(a,function(a,d){return !!b.call(a,d,a)!==c})}if(b.nodeType){return n.grep(a,function(a){return a===b!==c})}if("string"==typeof b){if(y.test(b)){return n.filter(b,a,c)}b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a){return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++){if(n.contains(e[b],this)){return !0}}}))}for(b=0;c>b;b++){n.find(a,e[b],d)}return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return !!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a){return this}if(c=c||A,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b){return !b||b.jquery?(b||c).find(a):this.constructor(b).find(a)}if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b)){for(e in b){n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e])}}return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++){if(n.contains(this,b[a])){return !0}}})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++){for(c=this[d];c&&c!==b;c=c.parentNode){if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}}}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType){}return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length){f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1){f.splice(c,1),h>=c&&h--}}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return !f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return !!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return !!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1){for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++){c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f}}return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c){K(a,b,h,c[h],!0,f,g)}}else{if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b)){for(;i>h;h++){b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}}}return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a)){return{}}var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b){e[b]=c}else{for(d in b){e[d]=b[d]}}return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b){this.register(a)}else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--){delete f[d[c]]}}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType){if(d="data-"+b.replace(Q,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c}catch(e){}O.set(a,b,c)}else{c=void 0}}return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){c=g.length;while(c--){g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])))}N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase()),void 0!==c){return c}if(d=n.camelCase(a),c=O.get(f,d),void 0!==c){return c}if(c=R(f,d,void 0),void 0!==c){return c}}else{d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})}},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--){c=N.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h))}return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do{f=f||".5",k/=f,n.style(a,b,k+j)}while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++){N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}}var ba=/<|&#?\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++){if(f=a[o],f||0===f){if("object"===n.type(f)){n.merge(m,f.nodeType?[f]:f)}else{if(ba.test(f)){g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--){g=g.lastChild}n.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else{m.push(b.createTextNode(f))}}}}l.textContent="",o=0;while(f=m[o++]){if(d&&n.inArray(f,d)>-1){e&&e.push(f)}else{if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c){k=0;while(f=g[k++]){Z.test(f.type||"")&&c.push(f)}}}}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;function ga(){return !0}function ha(){return !1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b){ja(a,h,c,d,b[h],f)}return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1){e=ha}else{if(!e){return this}}return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(G)||[""],j=b.length;while(j--){h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--){if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--){k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k))}g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else{for(o in i){n.event.remove(a,o+b[j],c,d,!0)}}}n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped()){(!a.rnamespace||a.rnamespace.test(g.namespace))&&(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1)){for(;i!==this;i=i.parentNode||this){if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++){f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f)}d.length&&g.push({elem:i,handlers:d})}}}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando]){return a}var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--){c=e[b],a[c]=g[c]}return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void (this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj){return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this}if("object"==typeof a){for(e in a){this.off(e,b,a[e])}return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a:a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j){for(c=0,d=j[e].length;d>c;c++){n.event.add(b,e,j[e][c])}}}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q)){return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)})}if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,"script"),qa),i=h.length;o>m;m++){j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m)}if(i){for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++){j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}}}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++){c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d))}return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a))){for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++){ta(f[d],g[d])}}if(b){if(c){for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++){sa(f[d],g[d])}}else{sa(a,h)}}return g=_(h,"script"),g.length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++){if(L(c)){if(b=c[N.expando]){if(b.events){for(d in b.events){e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle)}}c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="")}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType){return b.innerHTML}if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++){b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a)}b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++){c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get())}return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),"none"!==c&&c||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b){g[f]=a.style[f],a.style[f]=b[f]}e=c.apply(a,d||[]);for(f in b){a.style[f]=g[f]}return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");if(h.style){h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h);function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;function Ma(a){if(a in La){return a}var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--){if(a=Ka[c]+b,a in La){return a}}}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2){"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)))}return g}function Pa(b,c,e){var f=!0,g="width"===c?b.offsetWidth:b.offsetHeight,h=Ca(b),i="border-box"===n.css(b,"boxSizing",!1,h);if(d.msFullscreenElement&&a.top!==a&&b.getClientRects().length&&(g=Math.round(100*b.getBoundingClientRect()[c])),0>=g||null==g){if(g=Fa(b,c,h),(0>g||null==g)&&(g=b.style[c]),Ba.test(g)){return g}f=i&&(l.boxSizingReliable()||g===b.style[c]),g=parseFloat(g)||0}return g+Oa(b,c,e||(i?"border":"content"),f,h)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++){d=a[g],d.style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))))}for(g=0;h>g;g++){d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"))}return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get" in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set" in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get" in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++){e[a+U[d]+b]=f[d]||f[d-2]||f[0]}return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++){f[b[g]]=n.css(a,b[g],!1,d)}return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b){c=U[d],e["margin"+c]=e["padding"+c]=a}return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++){if(d=e[f].call(c,b,a)){return d}}}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height" in b||"width" in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?N.get(a,"olddisplay")||za(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b){if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d]){continue}p=!0}m[d]=q&&q[d]||n.style(a,d)}else{j=void 0}}if(n.isEmptyObject(m)){"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j)}else{q?"hidden" in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m){n.style(a,b,m[b])}});for(d in m){g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}}function $a(a,b){var c,d,e,f,g;for(c in a){if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand" in g){f=g.expand(f),delete a[d];for(c in f){c in a||(a[c]=f[c],b[c]=e)}}else{b[d]=e}}}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e){return !1}for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++){j.tweens[g].run(f)}return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e){return this}for(e=!0;d>c;c++){j.tweens[c].run(1)}return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++){if(d=_a.prefilters[f].call(j,a,k,j.opts)){return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d}}return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++){c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)}},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e){g[e]&&g[e].stop&&d(g[e])}else{for(e in g){g[e]&&g[e].stop&&Va.test(e)&&d(g[e])}}for(e=f.length;e--;){f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1))}(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;){f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1))}for(b=0;g>b;b++){d[b]&&d[b].finish&&d[b].finish.call(this)}delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++){a=c[b],a()||c[b]!==a||c.splice(b--,1)}c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f){return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set" in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get" in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))}},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType){while(c=f[e++]){d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f){return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set" in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get" in e&&null!==(d=e.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;function fb(a){return a.getAttribute&&a.getAttribute("class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a)){return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))})}if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++]){if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++]){d.indexOf(" "+f+" ")<0&&(d+=f+" ")}h=n.trim(d),e!==h&&c.setAttribute("class",h)}}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a)){return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))})}if(!arguments.length){return this.attr("class","")}if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++]){if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++]){while(d.indexOf(" "+f+" ")>-1){d=d.replace(" "+f+" "," ")}}h=n.trim(d),e!==h&&c.setAttribute("class",h)}}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++]){e.hasClass(b)?e.removeClass(b):e.addClass(b)}}else{(void 0===a||"boolean"===c)&&(b=fb(this),b&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":N.get(this,"__className__")||""))}})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++]){if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1){return !0}}return !1}});var gb=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];if(arguments.length){return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set" in b&&void 0!==b.set(this,e,"value")||(this.value=e))})}if(e){return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get" in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(gb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){return n.trim(a.value)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++){if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f){return b}g.push(b)}}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--){d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0)}return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var hb=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!hb.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,hb.test(j+q)||(h=h.parentNode);h;h=h.parentNode){p.push(h),i=h}i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped()){b.type=g>1?j:o.bindType||q,m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault())}return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin" in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var ib=a.location,jb=n.now(),kb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b){return null}try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return(!c||c.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+b),c};var lb=/#.*$/,mb=/([?&])_=[^&]*/,nb=/^(.*?):[ \t]*([^\r\n]*)$/gm,ob=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pb=/^(?:GET|HEAD)$/,qb=/^\/\//,rb={},sb={},tb="*/".concat("*"),ub=d.createElement("a");ub.href=ib.href;function vb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c)){while(d=f[e++]){"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}}}function wb(a,b,c,d){var e={},f=a===sb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function xb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b){void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c])}return d&&n.extend(!0,a,d),a}function yb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0]){i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"))}if(d){for(e in h){if(h[e]&&h[e].test(d)){i.unshift(e);break}}}if(i[0] in c){f=i[0]}else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function zb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1]){for(g in a.converters){j[g.toLowerCase()]=a.converters[g]}}f=k.shift();while(f){if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift()){if("*"===f){f=i}else{if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g){for(e in j){if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}}}if(g!==!0){if(g&&a["throws"]){b=g(b)}else{try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}}}}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ib.href,type:"GET",isLocal:ob.test(ib.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?xb(xb(a,n.ajaxSettings),b):xb(n.ajaxSettings,a)},ajaxPrefilter:vb(rb),ajaxTransport:vb(sb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=nb.exec(g)){h[b[1].toLowerCase()]=b[2]}}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a){if(2>v){for(b in a){s[b]=[s[b],a[b]]}}else{x.always(a[x.status])}}return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||ib.href)+"").replace(lb,"").replace(qb,ib.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=ub.protocol+"//"+ub.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),wb(rb,m,c,x),2===v){return x}k=n.event&&m.global,k&&0===n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!pb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(kb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=mb.test(f)?f.replace(mb,"$1_="+jb++):f+(kb.test(f)?"&":"?")+"_="+jb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+tb+"; q=0.01":""):m.accepts["*"]);for(l in m.headers){x.setRequestHeader(l,m.headers[l])}if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v)){return x.abort()}w="abort";for(l in {success:1,error:1,complete:1}){x[l](m[l])}if(e=wb(sb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v){return x}m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v)){throw y}z(-1,y)}}else{z(-1,"No Transport")}function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=yb(m,x,d)),u=zb(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(n.lastModified[f]=w),w=x.getResponseHeader("etag"),w&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,(b||!y)&&(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild){a=a.firstElementChild}return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return !n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Ab=/%20/g,Bb=/\[\]$/,Cb=/\r?\n/g,Db=/^(?:submit|button|image|reset|file)$/i,Eb=/^(?:input|select|textarea|keygen)/i;function Fb(a,b,c,d){var e;if(n.isArray(b)){n.each(b,function(b,e){c||Bb.test(a)?d(a,e):Fb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)})}else{if(c||"object"!==n.type(b)){d(a,b)}else{for(e in b){Fb(a+"["+e+"]",b[e],c,d)}}}}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a)){n.each(a,function(){e(this.name,this.value)})}else{for(c in a){Fb(c,a[c],b,e)}}return d.join("&").replace(Ab,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Eb.test(this.nodeName)&&!Db.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Cb,"\r\n")}}):{name:b.name,value:c.replace(Cb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Gb={0:200,1223:204},Hb=n.ajaxSettings.xhr();l.cors=!!Hb&&"withCredentials" in Hb,l.ajax=Hb=!!Hb,n.ajaxTransport(function(b){var c,d;return l.cors||Hb&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields){for(g in b.xhrFields){h[g]=b.xhrFields[g]}}b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e){h.setRequestHeader(g,e[g])}c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Gb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c){throw i}}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Ib=[],Jb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Ib.pop()||n.expando+"_"+jb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Jb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Jb,"$1"+e):b.jsonp!==!1&&(b.url+=(kb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Ib.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),l.createHTMLDocument=function(){var a=d.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a){return null}"boolean"==typeof b&&(c=b,b=!1),b=b||(l.createHTMLDocument?d.implementation.createHTMLDocument(""):d);var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Kb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Kb){return Kb.apply(this,arguments)}var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(g,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Lb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using" in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length){return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)})}var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f){return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Lb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0)-a.scrollTop(),d.left+=n.css(a[0],"borderLeftWidth",!0)-a.scrollLeft()),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===n.css(a,"position")){a=a.offsetParent}return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Lb(a);return void 0===e?f?f[b]:a[d]:void (f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Mb=a.jQuery,Nb=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Nb),b&&a.jQuery===n&&(a.jQuery=Mb),n},b||(a.jQuery=a.$=n),n});
/*!
 * Bootstrap v3.3.6 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */
;if("undefined"==typeof jQuery){throw new Error("Bootstrap's JavaScript requires jQuery")}+function(d){var c=d.fn.jquery.split(" ")[0].split(".");if(c[0]<2&&c[1]<9||1==c[0]&&9==c[1]&&c[2]<1||c[0]>2){throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}}(jQuery),+function(d){function c(){var f=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var g in e){if(void 0!==f.style[g]){return{end:e[g]}}}return !1}d.fn.emulateTransitionEnd=function(a){var h=!1,g=this;d(this).one("bsTransitionEnd",function(){h=!0});var f=function(){h||d(g).trigger(d.support.transition.end)};return setTimeout(f,a),this},d(function(){d.support.transition=c(),d.support.transition&&(d.event.special.bsTransitionEnd={bindType:d.support.transition.end,delegateType:d.support.transition.end,handle:function(a){return d(a.target).is(this)?a.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(g){function f(a){return this.each(function(){var d=g(this),b=d.data("bs.alert");b||d.data("bs.alert",b=new i(this)),"string"==typeof a&&b[a].call(d)})}var j='[data-dismiss="alert"]',i=function(a){g(a).on("click",j,this.close)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.close=function(a){function m(){d.detach().trigger("closed.bs.alert").remove()}var l=g(this),k=l.attr("data-target");k||(k=l.attr("href"),k=k&&k.replace(/.*(?=#[^\s]*$)/,""));var d=g(k);a&&a.preventDefault(),d.length||(d=l.closest(".alert")),d.trigger(a=g.Event("close.bs.alert")),a.isDefaultPrevented()||(d.removeClass("in"),g.support.transition&&d.hasClass("fade")?d.one("bsTransitionEnd",m).emulateTransitionEnd(i.TRANSITION_DURATION):m())};var h=g.fn.alert;g.fn.alert=f,g.fn.alert.Constructor=i,g.fn.alert.noConflict=function(){return g.fn.alert=h,this},g(document).on("click.bs.alert.data-api",j,i.prototype.close)}(jQuery),+function(f){function e(a){return this.each(function(){var i=f(this),c=i.data("bs.button"),b="object"==typeof a&&a;c||i.data("bs.button",c=new h(this,b)),"toggle"==a?c.toggle():a&&c.setState(a)})}var h=function(a,c){this.$element=f(a),this.options=f.extend({},h.DEFAULTS,c),this.isLoading=!1};h.VERSION="3.3.6",h.DEFAULTS={loadingText:"loading..."},h.prototype.setState=function(a){var l="disabled",k=this.$element,j=k.is("input")?"val":"html",i=k.data();a+="Text",null==i.resetText&&k.data("resetText",k[j]()),setTimeout(f.proxy(function(){k[j](null==i[a]?this.options[a]:i[a]),"loadingText"==a?(this.isLoading=!0,k.addClass(l).attr(l,l)):this.isLoading&&(this.isLoading=!1,k.removeClass(l).removeAttr(l))},this),0)},h.prototype.toggle=function(){var i=!0,d=this.$element.closest('[data-toggle="buttons"]');if(d.length){var j=this.$element.find("input");"radio"==j.prop("type")?(j.prop("checked")&&(i=!1),d.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==j.prop("type")&&(j.prop("checked")!==this.$element.hasClass("active")&&(i=!1),this.$element.toggleClass("active")),j.prop("checked",this.$element.hasClass("active")),i&&j.trigger("change")}else{this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")}};var g=f.fn.button;f.fn.button=e,f.fn.button.Constructor=h,f.fn.button.noConflict=function(){return f.fn.button=g,this},f(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(b){var a=f(b.target);a.hasClass("btn")||(a=a.closest(".btn")),e.call(a,"toggle"),f(b.target).is('input[type="radio"]')||f(b.target).is('input[type="checkbox"]')||b.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(a){f(a.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(a.type))})}(jQuery),+function(g){function f(a){return this.each(function(){var l=g(this),k=l.data("bs.carousel"),c=g.extend({},j.DEFAULTS,l.data(),"object"==typeof a&&a),b="string"==typeof a?a:c.slide;k||l.data("bs.carousel",k=new j(this,c)),"number"==typeof a?k.to(a):b?k[b]():c.interval&&k.pause().cycle()})}var j=function(a,d){this.$element=g(a),this.$indicators=this.$element.find(".carousel-indicators"),this.options=d,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",g.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart" in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",g.proxy(this.pause,this)).on("mouseleave.bs.carousel",g.proxy(this.cycle,this))};j.VERSION="3.3.6",j.TRANSITION_DURATION=600,j.DEFAULTS={interval:5000,pause:"hover",wrap:!0,keyboard:!0},j.prototype.keydown=function(b){if(!/input|textarea/i.test(b.target.tagName)){switch(b.which){case 37:this.prev();break;case 39:this.next();break;default:return}b.preventDefault()}},j.prototype.cycle=function(a){return a||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(g.proxy(this.next,this),this.options.interval)),this},j.prototype.getItemIndex=function(b){return this.$items=b.parent().children(".item"),this.$items.index(b||this.$active)},j.prototype.getItemForDirection=function(l,k){var p=this.getItemIndex(k),o="prev"==l&&0===p||"next"==l&&p==this.$items.length-1;if(o&&!this.options.wrap){return k}var n="prev"==l?-1:1,m=(p+n)%this.$items.length;return this.$items.eq(m)},j.prototype.to=function(e){var d=this,k=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){d.to(e)}):k==e?this.pause().cycle():this.slide(e>k?"next":"prev",this.$items.eq(e))},j.prototype.pause=function(a){return a||(this.paused=!0),this.$element.find(".next, .prev").length&&g.support.transition&&(this.$element.trigger(g.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},j.prototype.next=function(){return this.sliding?void 0:this.slide("next")},j.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},j.prototype.slide=function(v,u){var t=this.$element.find(".item.active"),s=u||this.getItemForDirection(v,t),r=this.interval,q="next"==v?"left":"right",p=this;if(s.hasClass("active")){return this.sliding=!1}var o=s[0],n=g.Event("slide.bs.carousel",{relatedTarget:o,direction:q});if(this.$element.trigger(n),!n.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=g(this.$indicators.children()[this.getItemIndex(s)]);c&&c.addClass("active")}var a=g.Event("slid.bs.carousel",{relatedTarget:o,direction:q});return g.support.transition&&this.$element.hasClass("slide")?(s.addClass(v),s[0].offsetWidth,t.addClass(q),s.addClass(q),t.one("bsTransitionEnd",function(){s.removeClass([v,q].join(" ")).addClass("active"),t.removeClass(["active",q].join(" ")),p.sliding=!1,setTimeout(function(){p.$element.trigger(a)},0)}).emulateTransitionEnd(j.TRANSITION_DURATION)):(t.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(a)),r&&this.cycle(),this}};var i=g.fn.carousel;g.fn.carousel=f,g.fn.carousel.Constructor=j,g.fn.carousel.noConflict=function(){return g.fn.carousel=i,this};var h=function(n){var m,l=g(this),k=g(l.attr("data-target")||(m=l.attr("href"))&&m.replace(/.*(?=#[^\s]+$)/,""));if(k.hasClass("carousel")){var b=g.extend({},k.data(),l.data()),a=l.attr("data-slide-to");a&&(b.interval=!1),f.call(k,b),a&&k.data("bs.carousel").to(a),n.preventDefault()}};g(document).on("click.bs.carousel.data-api","[data-slide]",h).on("click.bs.carousel.data-api","[data-slide-to]",h),g(window).on("load",function(){g('[data-ride="carousel"]').each(function(){var a=g(this);f.call(a,a.data())})})}(jQuery),+function(g){function f(a){var k,e=a.attr("data-target")||(k=a.attr("href"))&&k.replace(/.*(?=#[^\s]+$)/,"");return g(e)}function j(a){return this.each(function(){var k=g(this),d=k.data("bs.collapse"),b=g.extend({},i.DEFAULTS,k.data(),"object"==typeof a&&a);!d&&b.toggle&&/show|hide/.test(a)&&(b.toggle=!1),d||k.data("bs.collapse",d=new i(this,b)),"string"==typeof a&&d[a]()})}var i=function(a,d){this.$element=g(a),this.options=g.extend({},i.DEFAULTS,d),this.$trigger=g('[data-toggle="collapse"][href="#'+a.id+'"],[data-toggle="collapse"][data-target="#'+a.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.6",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var b=this.$element.hasClass("width");return b?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var a,m=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(m&&m.length&&(a=m.data("bs.collapse"),a&&a.transitioning))){var l=g.Event("show.bs.collapse");if(this.$element.trigger(l),!l.isDefaultPrevented()){m&&m.length&&(j.call(m,"hide"),a||m.data("bs.collapse",null));var k=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[k](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var d=function(){this.$element.removeClass("collapsing").addClass("collapse in")[k](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!g.support.transition){return d.call(this)}var c=g.camelCase(["scroll",k].join("-"));this.$element.one("bsTransitionEnd",g.proxy(d,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[k](this.$element[0][c])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var a=g.Event("hide.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){var k=this.dimension();this.$element[k](this.$element[k]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return g.support.transition?void this.$element[k](0).one("bsTransitionEnd",g.proxy(d,this)).emulateTransitionEnd(i.TRANSITION_DURATION):d.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return g(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(g.proxy(function(k,b){var a=g(b);this.addAriaAndCollapsedClass(f(a),a)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(e,d){var k=e.hasClass("in");e.attr("aria-expanded",k),d.toggleClass("collapsed",!k).attr("aria-expanded",k)};var h=g.fn.collapse;g.fn.collapse=j,g.fn.collapse.Constructor=i,g.fn.collapse.noConflict=function(){return g.fn.collapse=h,this},g(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(l){var k=g(this);k.attr("data-target")||l.preventDefault();var c=f(k),b=c.data("bs.collapse"),a=b?"toggle":k.data();j.call(c,a)})}(jQuery),+function(j){function i(a){var f=a.attr("data-target");f||(f=a.attr("href"),f=f&&/#[A-Za-z]/.test(f)&&f.replace(/.*(?=#[^\s]*$)/,""));var e=f&&j(f);return e&&e.length?e:a.parent()}function p(a){a&&3===a.which||(j(n).remove(),j(m).each(function(){var g=j(this),c=i(g),b={relatedTarget:this};c.hasClass("open")&&(a&&"click"==a.type&&/input|textarea/i.test(a.target.tagName)&&j.contains(c[0],a.target)||(c.trigger(a=j.Event("hide.bs.dropdown",b)),a.isDefaultPrevented()||(g.attr("aria-expanded","false"),c.removeClass("open").trigger(j.Event("hidden.bs.dropdown",b)))))}))}function o(a){return this.each(function(){var e=j(this),b=e.data("bs.dropdown");b||e.data("bs.dropdown",b=new l(this)),"string"==typeof a&&b[a].call(e)})}var n=".dropdown-backdrop",m='[data-toggle="dropdown"]',l=function(a){j(a).on("click.bs.dropdown",this.toggle)};l.VERSION="3.3.6",l.prototype.toggle=function(r){var q=j(this);if(!q.is(".disabled, :disabled")){var c=i(q),b=c.hasClass("open");if(p(),!b){"ontouchstart" in document.documentElement&&!c.closest(".navbar-nav").length&&j(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(j(this)).on("click",p);var a={relatedTarget:this};if(c.trigger(r=j.Event("show.bs.dropdown",a)),r.isDefaultPrevented()){return}q.trigger("focus").attr("aria-expanded","true"),c.toggleClass("open").trigger(j.Event("shown.bs.dropdown",a))}return !1}},l.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var s=j(this);if(t.preventDefault(),t.stopPropagation(),!s.is(".disabled, :disabled")){var r=i(s),q=r.hasClass("open");if(!q&&27!=t.which||q&&27==t.which){return 27==t.which&&r.find(m).trigger("focus"),s.trigger("click")}var f=" li:not(.disabled):visible a",b=r.find(".dropdown-menu"+f);if(b.length){var a=b.index(t.target);38==t.which&&a>0&&a--,40==t.which&&a<b.length-1&&a++,~a||(a=0),b.eq(a).trigger("focus")}}}};var k=j.fn.dropdown;j.fn.dropdown=o,j.fn.dropdown.Constructor=l,j.fn.dropdown.noConflict=function(){return j.fn.dropdown=k,this},j(document).on("click.bs.dropdown.data-api",p).on("click.bs.dropdown.data-api",".dropdown form",function(b){b.stopPropagation()}).on("click.bs.dropdown.data-api",m,l.prototype.toggle).on("keydown.bs.dropdown.data-api",m,l.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",l.prototype.keydown)}(jQuery),+function(f){function e(a,c){return this.each(function(){var i=f(this),d=i.data("bs.modal"),b=f.extend({},h.DEFAULTS,i.data(),"object"==typeof a&&a);d||i.data("bs.modal",d=new h(this,b)),"string"==typeof a?d[a](c):b.show&&d.show(c)})}var h=function(a,d){this.options=d,this.$body=f(document.body),this.$element=f(a),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,f.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};h.VERSION="3.3.6",h.TRANSITION_DURATION=300,h.BACKDROP_TRANSITION_DURATION=150,h.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},h.prototype.toggle=function(b){return this.isShown?this.hide():this.show(b)},h.prototype.show=function(a){var i=this,c=f.Event("show.bs.modal",{relatedTarget:a});this.$element.trigger(c),this.isShown||c.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',f.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(d){f(d.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var d=f.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),d&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var b=f.Event("shown.bs.modal",{relatedTarget:a});d?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(b)}).emulateTransitionEnd(h.TRANSITION_DURATION):i.$element.trigger("focus").trigger(b)}))},h.prototype.hide=function(a){a&&a.preventDefault(),a=f.Event("hide.bs.modal"),this.$element.trigger(a),this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),f(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),f.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",f.proxy(this.hideModal,this)).emulateTransitionEnd(h.TRANSITION_DURATION):this.hideModal())},h.prototype.enforceFocus=function(){f(document).off("focusin.bs.modal").on("focusin.bs.modal",f.proxy(function(b){this.$element[0]===b.target||this.$element.has(b.target).length||this.$element.trigger("focus")},this))},h.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",f.proxy(function(b){27==b.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},h.prototype.resize=function(){this.isShown?f(window).on("resize.bs.modal",f.proxy(this.handleUpdate,this)):f(window).off("resize.bs.modal")},h.prototype.hideModal=function(){var b=this;this.$element.hide(),this.backdrop(function(){b.$body.removeClass("modal-open"),b.resetAdjustments(),b.resetScrollbar(),b.$element.trigger("hidden.bs.modal")})},h.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},h.prototype.backdrop=function(a){var k=this,j=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=f.support.transition&&j;if(this.$backdrop=f(document.createElement("div")).addClass("modal-backdrop "+j).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",f.proxy(function(b){return this.ignoreBackdropClick?void (this.ignoreBackdropClick=!1):void (b.target===b.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!a){return}i?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(h.BACKDROP_TRANSITION_DURATION):a()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var c=function(){k.removeBackdrop(),a&&a()};f.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",c).emulateTransitionEnd(h.BACKDROP_TRANSITION_DURATION):c()}else{a&&a()}}},h.prototype.handleUpdate=function(){this.adjustDialog()},h.prototype.adjustDialog=function(){var b=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&b?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!b?this.scrollbarWidth:""})},h.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},h.prototype.checkScrollbar=function(){var d=window.innerWidth;if(!d){var c=document.documentElement.getBoundingClientRect();d=c.right-Math.abs(c.left)}this.bodyIsOverflowing=document.body.clientWidth<d,this.scrollbarWidth=this.measureScrollbar()},h.prototype.setScrollbar=function(){var b=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",b+this.scrollbarWidth)},h.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},h.prototype.measureScrollbar=function(){var d=document.createElement("div");d.className="modal-scrollbar-measure",this.$body.append(d);var c=d.offsetWidth-d.clientWidth;return this.$body[0].removeChild(d),c};var g=f.fn.modal;f.fn.modal=e,f.fn.modal.Constructor=h,f.fn.modal.noConflict=function(){return f.fn.modal=g,this},f(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(k){var j=f(this),i=j.attr("href"),b=f(j.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=b.data("bs.modal")?"toggle":f.extend({remote:!/#/.test(i)&&i},b.data(),j.data());j.is("a")&&k.preventDefault(),b.one("show.bs.modal",function(c){c.isDefaultPrevented()||b.one("hidden.bs.modal",function(){j.is(":visible")&&j.trigger("focus")})}),e.call(b,a,this)})}(jQuery),+function(f){function e(a){return this.each(function(){var i=f(this),c=i.data("bs.tooltip"),b="object"==typeof a&&a;(c||!/destroy|hide/.test(a))&&(c||i.data("bs.tooltip",c=new h(this,b)),"string"==typeof a&&c[a]())})}var h=function(d,c){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",d,c)};h.VERSION="3.3.6",h.TRANSITION_DURATION=150,h.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},h.prototype.init=function(a,p,o){if(this.enabled=!0,this.type=a,this.$element=f(p),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&f(f.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0] instanceof document.constructor&&!this.options.selector){throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!")}for(var n=this.options.trigger.split(" "),m=n.length;m--;){var l=n[m];if("click"==l){this.$element.on("click."+this.type,this.options.selector,f.proxy(this.toggle,this))}else{if("manual"!=l){var k="hover"==l?"mouseenter":"focusin",j="hover"==l?"mouseleave":"focusout";this.$element.on(k+"."+this.type,this.options.selector,f.proxy(this.enter,this)),this.$element.on(j+"."+this.type,this.options.selector,f.proxy(this.leave,this))}}}this.options.selector?this._options=f.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},h.prototype.getDefaults=function(){return h.DEFAULTS},h.prototype.getOptions=function(a){return a=f.extend({},this.getDefaults(),this.$element.data(),a),a.delay&&"number"==typeof a.delay&&(a.delay={show:a.delay,hide:a.delay}),a},h.prototype.getDelegateOptions=function(){var a={},d=this.getDefaults();return this._options&&f.each(this._options,function(b,c){d[b]!=c&&(a[b]=c)}),a},h.prototype.enter=function(a){var d=a instanceof this.constructor?a:f(a.currentTarget).data("bs."+this.type);return d||(d=new this.constructor(a.currentTarget,this.getDelegateOptions()),f(a.currentTarget).data("bs."+this.type,d)),a instanceof f.Event&&(d.inState["focusin"==a.type?"focus":"hover"]=!0),d.tip().hasClass("in")||"in"==d.hoverState?void (d.hoverState="in"):(clearTimeout(d.timeout),d.hoverState="in",d.options.delay&&d.options.delay.show?void (d.timeout=setTimeout(function(){"in"==d.hoverState&&d.show()},d.options.delay.show)):d.show())},h.prototype.isInStateTrue=function(){for(var b in this.inState){if(this.inState[b]){return !0}}return !1},h.prototype.leave=function(a){var d=a instanceof this.constructor?a:f(a.currentTarget).data("bs."+this.type);return d||(d=new this.constructor(a.currentTarget,this.getDelegateOptions()),f(a.currentTarget).data("bs."+this.type,d)),a instanceof f.Event&&(d.inState["focusout"==a.type?"focus":"hover"]=!1),d.isInStateTrue()?void 0:(clearTimeout(d.timeout),d.hoverState="out",d.options.delay&&d.options.delay.hide?void (d.timeout=setTimeout(function(){"out"==d.hoverState&&d.hide()},d.options.delay.hide)):d.hide())},h.prototype.show=function(){var D=f.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(D);var C=f.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(D.isDefaultPrevented()||!C){return}var B=this,A=this.tip(),z=this.getUID(this.type);this.setContent(),A.attr("id",z),this.$element.attr("aria-describedby",z),this.options.animation&&A.addClass("fade");var y="function"==typeof this.options.placement?this.options.placement.call(this,A[0],this.$element[0]):this.options.placement,x=/\s?auto?\s?/i,w=x.test(y);w&&(y=y.replace(x,"")||"top"),A.detach().css({top:0,left:0,display:"block"}).addClass(y).data("bs."+this.type,this),this.options.container?A.appendTo(this.options.container):A.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var v=this.getPosition(),u=A[0].offsetWidth,t=A[0].offsetHeight;if(w){var s=y,r=this.getPosition(this.$viewport);y="bottom"==y&&v.bottom+t>r.bottom?"top":"top"==y&&v.top-t<r.top?"bottom":"right"==y&&v.right+u>r.width?"left":"left"==y&&v.left-u<r.left?"right":y,A.removeClass(s).addClass(y)}var c=this.getCalculatedOffset(y,v,u,t);this.applyPlacement(c,y);var a=function(){var b=B.hoverState;B.$element.trigger("shown.bs."+B.type),B.hoverState=null,"out"==b&&B.leave(B)};f.support.transition&&this.$tip.hasClass("fade")?A.one("bsTransitionEnd",a).emulateTransitionEnd(h.TRANSITION_DURATION):a()}},h.prototype.applyPlacement=function(z,y){var x=this.tip(),w=x[0].offsetWidth,v=x[0].offsetHeight,u=parseInt(x.css("margin-top"),10),t=parseInt(x.css("margin-left"),10);isNaN(u)&&(u=0),isNaN(t)&&(t=0),z.top+=u,z.left+=t,f.offset.setOffset(x[0],f.extend({using:function(b){x.css({top:Math.round(b.top),left:Math.round(b.left)})}},z),0),x.addClass("in");var s=x[0].offsetWidth,r=x[0].offsetHeight;"top"==y&&r!=v&&(z.top=z.top+v-r);var q=this.getViewportAdjustedDelta(y,z,s,r);q.left?z.left+=q.left:z.top+=q.top;var p=/top|bottom/.test(y),o=p?2*q.left-w+s:2*q.top-v+r,a=p?"offsetWidth":"offsetHeight";x.offset(z),this.replaceArrow(o,x[0][a],p)},h.prototype.replaceArrow=function(i,d,j){this.arrow().css(j?"left":"top",50*(1-i/d)+"%").css(j?"top":"left","")},h.prototype.setContent=function(){var d=this.tip(),c=this.getTitle();d.find(".tooltip-inner")[this.options.html?"html":"text"](c),d.removeClass("fade in top bottom left right")},h.prototype.hide=function(a){function k(){"in"!=j.hoverState&&i.detach(),j.$element.removeAttr("aria-describedby").trigger("hidden.bs."+j.type),a&&a()}var j=this,i=f(this.$tip),c=f.Event("hide.bs."+this.type);return this.$element.trigger(c),c.isDefaultPrevented()?void 0:(i.removeClass("in"),f.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",k).emulateTransitionEnd(h.TRANSITION_DURATION):k(),this.hoverState=null,this)},h.prototype.fixTitle=function(){var b=this.$element;(b.attr("title")||"string"!=typeof b.attr("data-original-title"))&&b.attr("data-original-title",b.attr("title")||"").attr("title","")},h.prototype.hasContent=function(){return this.getTitle()},h.prototype.getPosition=function(a){a=a||this.$element;var n=a[0],m="BODY"==n.tagName,l=n.getBoundingClientRect();null==l.width&&(l=f.extend({},l,{width:l.right-l.left,height:l.bottom-l.top}));var k=m?{top:0,left:0}:a.offset(),j={scroll:m?document.documentElement.scrollTop||document.body.scrollTop:a.scrollTop()},i=m?{width:f(window).width(),height:f(window).height()}:null;return f.extend({},l,j,i,k)},h.prototype.getCalculatedOffset=function(j,i,l,k){return"bottom"==j?{top:i.top+i.height,left:i.left+i.width/2-l/2}:"top"==j?{top:i.top-k,left:i.left+i.width/2-l/2}:"left"==j?{top:i.top+i.height/2-k/2,left:i.left-l}:{top:i.top+i.height/2-k/2,left:i.left+i.width}},h.prototype.getViewportAdjustedDelta=function(v,u,t,s){var r={top:0,left:0};if(!this.$viewport){return r}var q=this.options.viewport&&this.options.viewport.padding||0,p=this.getPosition(this.$viewport);if(/right|left/.test(v)){var o=u.top-q-p.scroll,n=u.top+q-p.scroll+s;o<p.top?r.top=p.top-o:n>p.top+p.height&&(r.top=p.top+p.height-n)}else{var m=u.left-q,l=u.left+q+t;m<p.left?r.left=p.left-m:l>p.right&&(r.left=p.left+p.width-l)}return r},h.prototype.getTitle=function(){var i,d=this.$element,j=this.options;return i=d.attr("data-original-title")||("function"==typeof j.title?j.title.call(d[0]):j.title)},h.prototype.getUID=function(b){do{b+=~~(1000000*Math.random())}while(document.getElementById(b));return b},h.prototype.tip=function(){if(!this.$tip&&(this.$tip=f(this.options.template),1!=this.$tip.length)){throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!")}return this.$tip},h.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},h.prototype.enable=function(){this.enabled=!0},h.prototype.disable=function(){this.enabled=!1},h.prototype.toggleEnabled=function(){this.enabled=!this.enabled},h.prototype.toggle=function(a){var d=this;a&&(d=f(a.currentTarget).data("bs."+this.type),d||(d=new this.constructor(a.currentTarget,this.getDelegateOptions()),f(a.currentTarget).data("bs."+this.type,d))),a?(d.inState.click=!d.inState.click,d.isInStateTrue()?d.enter(d):d.leave(d)):d.tip().hasClass("in")?d.leave(d):d.enter(d)},h.prototype.destroy=function(){var b=this;clearTimeout(this.timeout),this.hide(function(){b.$element.off("."+b.type).removeData("bs."+b.type),b.$tip&&b.$tip.detach(),b.$tip=null,b.$arrow=null,b.$viewport=null})};var g=f.fn.tooltip;f.fn.tooltip=e,f.fn.tooltip.Constructor=h,f.fn.tooltip.noConflict=function(){return f.fn.tooltip=g,this}}(jQuery),+function(f){function e(a){return this.each(function(){var i=f(this),c=i.data("bs.popover"),b="object"==typeof a&&a;(c||!/destroy|hide/.test(a))&&(c||i.data("bs.popover",c=new h(this,b)),"string"==typeof a&&c[a]())})}var h=function(d,c){this.init("popover",d,c)};if(!f.fn.tooltip){throw new Error("Popover requires tooltip.js")}h.VERSION="3.3.6",h.DEFAULTS=f.extend({},f.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),h.prototype=f.extend({},f.fn.tooltip.Constructor.prototype),h.prototype.constructor=h,h.prototype.getDefaults=function(){return h.DEFAULTS},h.prototype.setContent=function(){var i=this.tip(),d=this.getTitle(),j=this.getContent();i.find(".popover-title")[this.options.html?"html":"text"](d),i.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof j?"html":"append":"text"](j),i.removeClass("fade top bottom left right in"),i.find(".popover-title").html()||i.find(".popover-title").hide()},h.prototype.hasContent=function(){return this.getTitle()||this.getContent()},h.prototype.getContent=function(){var d=this.$element,c=this.options;return d.attr("data-content")||("function"==typeof c.content?c.content.call(d[0]):c.content)},h.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var g=f.fn.popover;f.fn.popover=e,f.fn.popover.Constructor=h,f.fn.popover.noConflict=function(){return f.fn.popover=g,this}}(jQuery),+function(f){function e(b,a){this.$body=f(document.body),this.$scrollElement=f(f(b).is(document.body)?window:b),this.options=f.extend({},e.DEFAULTS,a),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",f.proxy(this.process,this)),this.refresh(),this.process()}function h(a){return this.each(function(){var i=f(this),c=i.data("bs.scrollspy"),b="object"==typeof a&&a;c||i.data("bs.scrollspy",c=new e(this,b)),"string"==typeof a&&c[a]()})}e.VERSION="3.3.6",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var a=this,j="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),f.isWindow(this.$scrollElement[0])||(j="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var c=f(this),k=c.data("target")||c.attr("href"),d=/^#./.test(k)&&f(k);return d&&d.length&&d.is(":visible")&&[[d[j]().top+i,k]]||null}).sort(function(d,c){return d[0]-c[0]}).each(function(){a.offsets.push(this[0]),a.targets.push(this[1])})},e.prototype.process=function(){var j,i=this.$scrollElement.scrollTop()+this.options.offset,o=this.getScrollHeight(),n=this.options.offset+o-this.$scrollElement.height(),m=this.offsets,l=this.targets,k=this.activeTarget;if(this.scrollHeight!=o&&this.refresh(),i>=n){return k!=(j=l[l.length-1])&&this.activate(j)}if(k&&i<m[0]){return this.activeTarget=null,this.clear()}for(j=m.length;j--;){k!=l[j]&&i>=m[j]&&(void 0===m[j+1]||i<m[j+1])&&this.activate(l[j])}},e.prototype.activate=function(a){this.activeTarget=a,this.clear();var j=this.selector+'[data-target="'+a+'"],'+this.selector+'[href="'+a+'"]',i=f(j).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){f(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var g=f.fn.scrollspy;f.fn.scrollspy=h,f.fn.scrollspy.Constructor=e,f.fn.scrollspy.noConflict=function(){return f.fn.scrollspy=g,this},f(window).on("load.bs.scrollspy.data-api",function(){f('[data-spy="scroll"]').each(function(){var a=f(this);h.call(a,a.data())})})}(jQuery),+function(g){function f(a){return this.each(function(){var c=g(this),b=c.data("bs.tab");b||c.data("bs.tab",b=new j(this)),"string"==typeof a&&b[a]()})}var j=function(a){this.element=g(a)};j.VERSION="3.3.6",j.TRANSITION_DURATION=150,j.prototype.show=function(){var a=this.element,p=a.closest("ul:not(.dropdown-menu)"),o=a.data("target");if(o||(o=a.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!a.parent("li").hasClass("active")){var n=p.find(".active:last a"),m=g.Event("hide.bs.tab",{relatedTarget:a[0]}),l=g.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(m),a.trigger(l),!l.isDefaultPrevented()&&!m.isDefaultPrevented()){var k=g(o);this.activate(a.closest("li"),p),this.activate(k,k.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:a[0]}),a.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},j.prototype.activate=function(a,n,m){function l(){k.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),a.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),c?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade"),a.parent(".dropdown-menu").length&&a.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),m&&m()}var k=n.find("> .active"),c=m&&g.support.transition&&(k.length&&k.hasClass("fade")||!!n.find("> .fade").length);k.length&&c?k.one("bsTransitionEnd",l).emulateTransitionEnd(j.TRANSITION_DURATION):l(),k.removeClass("in")};var i=g.fn.tab;g.fn.tab=f,g.fn.tab.Constructor=j,g.fn.tab.noConflict=function(){return g.fn.tab=i,this};var h=function(a){a.preventDefault(),f.call(g(this),"show")};g(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',h).on("click.bs.tab.data-api",'[data-toggle="pill"]',h)}(jQuery),+function(f){function e(a){return this.each(function(){var i=f(this),c=i.data("bs.affix"),b="object"==typeof a&&a;c||i.data("bs.affix",c=new h(this,b)),"string"==typeof a&&c[a]()})}var h=function(a,c){this.options=f.extend({},h.DEFAULTS,c),this.$target=f(this.options.target).on("scroll.bs.affix.data-api",f.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",f.proxy(this.checkPositionWithEventLoop,this)),this.$element=f(a),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};h.VERSION="3.3.6",h.RESET="affix affix-top affix-bottom",h.DEFAULTS={offset:0,target:window},h.prototype.getState=function(t,s,r,q){var p=this.$target.scrollTop(),o=this.$element.offset(),n=this.$target.height();if(null!=r&&"top"==this.affixed){return r>p?"top":!1}if("bottom"==this.affixed){return null!=r?p+this.unpin<=o.top?!1:"bottom":t-q>=p+n?!1:"bottom"}var m=null==this.affixed,l=m?p:o.top,k=m?n:s;return null!=r&&r>=p?"top":null!=q&&l+k>=t-q?"bottom":!1},h.prototype.getPinnedOffset=function(){if(this.pinnedOffset){return this.pinnedOffset}this.$element.removeClass(h.RESET).addClass("affix");var d=this.$target.scrollTop(),c=this.$element.offset();return this.pinnedOffset=c.top-d},h.prototype.checkPositionWithEventLoop=function(){setTimeout(f.proxy(this.checkPosition,this),1)},h.prototype.checkPosition=function(){if(this.$element.is(":visible")){var a=this.$element.height(),p=this.options.offset,o=p.top,n=p.bottom,m=Math.max(f(document).height(),f(document.body).height());"object"!=typeof p&&(n=o=p),"function"==typeof o&&(o=p.top(this.$element)),"function"==typeof n&&(n=p.bottom(this.$element));var l=this.getState(m,a,o,n);if(this.affixed!=l){null!=this.unpin&&this.$element.css("top","");var k="affix"+(l?"-"+l:""),c=f.Event(k+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented()){return}this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(h.RESET).addClass(k).trigger(k.replace("affix","affixed")+".bs.affix")}"bottom"==l&&this.$element.offset({top:m-a-n})}};var g=f.fn.affix;f.fn.affix=e,f.fn.affix.Constructor=h,f.fn.affix.noConflict=function(){return f.fn.affix=g,this},f(window).on("load",function(){f('[data-spy="affix"]').each(function(){var b=f(this),a=b.data();a.offset=a.offset||{},null!=a.offsetBottom&&(a.offset.bottom=a.offsetBottom),null!=a.offsetTop&&(a.offset.top=a.offsetTop),e.call(b,a)})})}(jQuery);(function(y,ah,am){function J(s,r,D){if(!s){throw K("areq",r||"?",D||"required")}return s}function q(s,r){if(!s&&!r){return""}if(!s){return r}if(!r){return s}an(s)&&(s=s.join(" "));an(r)&&(r=r.join(" "));return s+" "+r}function t(s){var r={};s&&(s.to||s.from)&&(r.to=s.to,r.from=s.from);return r}function e(s,r,G){var D="";s=an(s)?s:s&&l(s)&&s.length?s.split(/\s+/):[];ae(s,function(I,P){I&&0<I.length&&(D+=0<P?" ":"",D+=G?r+I:I+r)});return D}function aj(r){if(r instanceof w){switch(r.length){case 0:return[];case 1:if(1===r[0].nodeType){return r}break;default:return w(ab(r))}}if(1===r.nodeType){return w(r)}}function ab(s){if(!s[0]){return s}for(var r=0;r<s.length;r++){var D=s[r];if(1==D.nodeType){return D}}}function L(s,r,D){ae(r,function(G){s.addClass(G,D)})}function u(s,r,D){ae(r,function(G){s.removeClass(G,D)})}function h(r){return function(s,D){D.addClass&&(L(r,s,D.addClass),D.addClass=null);D.removeClass&&(u(r,s,D.removeClass),D.removeClass=null)}}function d(s){s=s||{};if(!s.$$prepared){var r=s.domOperation||n;s.domOperation=function(){s.$$domOperationFired=!0;r();r=n};s.$$prepared=!0}return s}function T(s,r){ac(s,r);B(s,r)}function ac(s,r){r.from&&(s.css(r.from),r.from=null)}function B(s,r){r.to&&(s.css(r.to),r.to=null)}function f(s,r,P){var I=r.options||{};P=P.options||{};var G=(I.addClass||"")+" "+(P.addClass||""),D=(I.removeClass||"")+" "+(P.removeClass||"");s=ak(s.attr("class"),G,D);P.preparationClasses&&(I.preparationClasses=O(P.preparationClasses,I.preparationClasses),delete P.preparationClasses);G=I.domOperation!==n?I.domOperation:null;i(I,P);G&&(I.domOperation=G);I.addClass=s.addClass?s.addClass:null;I.removeClass=s.removeClass?s.removeClass:null;r.addClass=I.addClass;r.removeClass=I.removeClass;return I}function ak(s,r,P){function I(R){l(R)&&(R=R.split(" "));var Q={};ae(R,function(S){S.length&&(Q[S]=!0)});return Q}var G={};s=I(s);r=I(r);ae(r,function(R,Q){G[Q]=1});P=I(P);ae(P,function(R,Q){G[Q]=1===G[Q]?null:-1});var D={addClass:"",removeClass:""};ae(G,function(Q,U){var S,R;1===Q?(S="addClass",R=!s[U]):-1===Q&&(S="removeClass",R=s[U]);R&&(D[S].length&&(D[S]+=" "),D[S]+=U)});return D}function x(r){return r instanceof ah.element?r[0]:r}function M(s,r,G){var D="";r&&(D=e(r,"ng-",!0));G.addClass&&(D=O(D,e(G.addClass,"-add")));G.removeClass&&(D=O(D,e(G.removeClass,"-remove")));D.length&&(G.preparationClasses=D,s.addClass(D))}function aa(s,r){var D=r?"-"+r+"s":"";a(s,[W,D]);return[W,D]}function A(s,r){var G=r?"paused":"",D=c+"PlayState";a(s,[D,G]);return[D,G]}function a(s,r){s.style[r[0]]=r[1]}function O(s,r){return s?r?s+" "+r:s:r}function af(s,r,I){var G=Object.create(null),D=s.getComputedStyle(r)||{};ae(I,function(Q,P){var S=D[Q];if(S){var R=S.charAt(0);if("-"===R||"+"===R||0<=R){S=v(S)}0===S&&(S=null);G[P]=S}});return G}function v(s){var r=0;s=s.split(/\s*,\s*/);ae(s,function(D){"s"==D.charAt(D.length-1)&&(D=D.substring(0,D.length-1));D=parseFloat(D)||0;r=r?Math.max(D,r):D});return r}function g(r){return 0===r||null!=r}function E(s,r){var G=k,D=s+"s";r?G+="Duration":D+=" linear all";return[G,D]}function m(){var r=Object.create(null);return{flush:function(){r=Object.create(null)},count:function(s){return(s=r[s])?s.total:0},get:function(s){return(s=r[s])&&s.value},put:function(s,D){r[s]?r[s].total++:r[s]={total:1,value:D}}}}function ai(s,r,D){ae(D,function(G){s[G]=b(s[G])?s[G]:r.style.getPropertyValue(G)})}var n=ah.noop,H=ah.copy,i=ah.extend,w=ah.element,ae=ah.forEach,an=ah.isArray,l=ah.isString,ad=ah.isObject,p=ah.isUndefined,b=ah.isDefined,o=ah.isFunction,C=ah.isElement,k,j,c,ag;p(y.ontransitionend)&&b(y.onwebkittransitionend)?(k="WebkitTransition",j="webkitTransitionEnd transitionend"):(k="transition",j="transitionend");p(y.onanimationend)&&b(y.onwebkitanimationend)?(c="WebkitAnimation",ag="webkitAnimationEnd animationend"):(c="animation",ag="animationend");var z=c+"Delay",F=c+"Duration",W=k+"Delay";y=k+"Duration";var K=ah.$$minErr("ng"),al={transitionDuration:y,transitionDelay:W,transitionProperty:k+"Property",animationDuration:F,animationDelay:z,animationIterationCount:c+"IterationCount"},N={transitionDuration:y,transitionDelay:W,animationDuration:F,animationDelay:z};ah.module("ngAnimate",[]).directive("ngAnimateSwap",["$animate","$rootScope",function(s,r){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(G,S,Q,P,I){var D,R;G.$watchCollection(Q.ngAnimateSwap||Q["for"],function(U){D&&s.leave(D);R&&(R.$destroy(),R=null);if(U||0===U){R=G.$new(),I(R,function(V){D=V;s.enter(V,null,S)})}})}}}]).directive("ngAnimateChildren",["$interpolate",function(r){return{link:function(s,P,I){function G(Q){P.data("$$ngAnimateChildren","on"===Q||"true"===Q)}var D=I.ngAnimateChildren;ah.isString(D)&&0===D.length?P.data("$$ngAnimateChildren",!0):(G(r(D)(s)),I.$observe("ngAnimateChildren",G))}}}]).factory("$$rAFScheduler",["$$rAF",function(s){function r(P){G=G.concat(P);I()}function I(){if(G.length){for(var P=G.shift(),Q=0;Q<P.length;Q++){P[Q]()}D||s(function(){D||I()})}}var G,D;G=r.queue=[];r.waitUntilQuiet=function(P){D&&D();D=s(function(){D=null;P();I()})};return r}]).provider("$$animateQueue",["$animateProvider",function(s){function r(R){if(!R){return null}R=R.split(" ");var Q=Object.create(null);ae(R,function(S){Q[S]=!0});return Q}function P(Q,S){if(Q&&S){var R=r(S);return Q.split(" ").some(function(U){return R[U]})}}function I(R,Q,U,S){return D[R].some(function(V){return V(Q,U,S)})}function G(R,Q){var U=0<(R.addClass||"").length,S=0<(R.removeClass||"").length;return Q?U&&S:U||S}var D=this.rules={skip:[],cancel:[],join:[]};D.join.push(function(R,Q,S){return !Q.structural&&G(Q)});D.skip.push(function(R,Q,S){return !Q.structural&&!G(Q)});D.skip.push(function(R,Q,S){return"leave"==S.event&&Q.structural});D.skip.push(function(R,Q,S){return S.structural&&2===S.state&&!Q.structural});D.cancel.push(function(R,Q,S){return S.structural&&Q.structural});D.cancel.push(function(R,Q,S){return 2===S.state&&Q.structural});D.cancel.push(function(R,Q,U){R=Q.addClass;Q=Q.removeClass;var S=U.addClass;U=U.removeClass;return p(R)&&p(Q)||p(S)&&p(U)?!1:P(R,U)||P(Q,S)});this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(aH,aG,aD,ay,S,av,ar,V,aq,Y){function X(){var aI=!1;return function(aJ){aI?aJ():aG.$$postDigest(function(){aI=!0;aJ()})}}function ao(aJ,aI,aN){var aL=x(aI),aM=x(aJ),aK=[];(aJ=ap[aN])&&ae(aJ,function(aO){Z.call(aO.node,aL)?aK.push(aO.callback):"leave"===aN&&Z.call(aO.node,aM)&&aK.push(aO.callback)});return aK}function aB(aS,aO,aM){function aK(aZ,aX,aY,aW){aN(function(){var a0=ao(aR,aS,aX);a0.length&&aH(function(){ae(a0,function(a1){a1(aS,aY,aW)})})});aZ.progress(aX,aY,aW)}function aT(aW){var aY=aS,aX=aJ;aX.preparationClasses&&(aY.removeClass(aX.preparationClasses),aX.preparationClasses=null);aX.activeClasses&&(aY.removeClass(aX.activeClasses),aX.activeClasses=null);Q(aS,aJ);T(aS,aJ);aJ.domOperation();aL.complete(!aW)}var aJ=H(aM),aQ,aR;if(aS=aj(aS)){aQ=x(aS),aR=aS.parent()}var aJ=d(aJ),aL=new ar,aN=X();an(aJ.addClass)&&(aJ.addClass=aJ.addClass.join(" "));aJ.addClass&&!l(aJ.addClass)&&(aJ.addClass=null);an(aJ.removeClass)&&(aJ.removeClass=aJ.removeClass.join(" "));aJ.removeClass&&!l(aJ.removeClass)&&(aJ.removeClass=null);aJ.from&&!ad(aJ.from)&&(aJ.from=null);aJ.to&&!ad(aJ.to)&&(aJ.to=null);if(!aQ){return aT(),aL}aM=[aQ.className,aJ.addClass,aJ.removeClass].join(" ");if(!aF(aM)){return aT(),aL}var aI=0<=["enter","move","leave"].indexOf(aO),aU=!U||ay[0].hidden||at.get(aQ);aM=!aU&&aw.get(aQ)||{};var aV=!!aM.state;aU||aV&&1==aM.state||(aU=!ax(aS,aR,aO));if(aU){return aT(),aL}aI&&aC(aS);aU={structural:aI,element:aS,event:aO,addClass:aJ.addClass,removeClass:aJ.removeClass,close:aT,options:aJ,runner:aL};if(aV){if(I("skip",aS,aU,aM)){if(2===aM.state){return aT(),aL}f(aS,aM,aU);return aM.runner}if(I("cancel",aS,aU,aM)){if(2===aM.state){aM.runner.end()}else{if(aM.structural){aM.close()}else{return f(aS,aM,aU),aM.runner}}}else{if(I("join",aS,aU,aM)){if(2===aM.state){f(aS,aU,{})}else{return M(aS,aI?aO:null,aJ),aO=aU.event=aM.event,aJ=f(aS,aM,aU),aM.runner}}}}else{f(aS,aU,{})}(aV=aU.structural)||(aV="animate"===aU.event&&0<Object.keys(aU.options.to||{}).length||G(aU));if(!aV){return aT(),R(aS),aL}var aP=(aM.counter||0)+1;aU.counter=aP;au(aS,1,aU);aG.$$postDigest(function(){var aW=aw.get(aQ),aY=!aW,aW=aW||{},aX=0<(aS.parent()||[]).length&&("animate"===aW.event||aW.structural||G(aW));if(aY||aW.counter!==aP||!aX){aY&&(Q(aS,aJ),T(aS,aJ));if(aY||aI&&aW.event!==aO){aJ.domOperation(),aL.end()}aX||R(aS)}else{aO=!aW.structural&&G(aW,!0)?"setClass":aW.event,au(aS,2),aW=av(aS,aO,aW.options),aW.done(function(aZ){aT(!aZ);(aZ=aw.get(aQ))&&aZ.counter===aP&&R(x(aS));aK(aL,aO,"close",{})}),aL.setHost(aW),aK(aL,aO,"start",{})}});return aL}function aC(aI){aI=x(aI).querySelectorAll("[data-ng-animate]");ae(aI,function(aK){var aJ=parseInt(aK.getAttribute("data-ng-animate")),aL=aw.get(aK);if(aL){switch(aJ){case 2:aL.runner.end();case 1:aw.remove(aK)}}})}function R(aI){aI=x(aI);aI.removeAttribute("data-ng-animate");aw.remove(aI)}function aA(aJ,aI){return x(aJ)===x(aI)}function ax(aQ,aO,aN){aN=w(ay[0].body);var aK=aA(aQ,aN)||"HTML"===aQ[0].nodeName,aM=aA(aQ,aD),aJ=!1,aI,aL=at.get(x(aQ));for((aQ=aQ.data("$ngAnimatePin"))&&(aO=aQ);aO&&aO.length;){aM||(aM=aA(aO,aD));var aP=aO[0];if(1!==aP.nodeType){break}aQ=aw.get(aP)||{};if(!aJ){aP=at.get(aP);if(!0===aP&&!1!==aL){aL=!0;break}else{!1===aP&&(aL=!1)}aJ=aQ.structural}if(p(aI)||!0===aI){aQ=aO.data("$$ngAnimateChildren"),b(aQ)&&(aI=aQ)}if(aJ&&!1===aI){break}aK||(aK=aA(aO,aN));if(aK&&aM){break}if(!aM&&(aQ=aO.data("$ngAnimatePin"))){aO=aQ;continue}aO=aO.parent()}return(!aJ||aI)&&!0!==aL&&aM&&aK}function au(aJ,aI,aK){aK=aK||{};aK.state=aI;aJ=x(aJ);aJ.setAttribute("data-ng-animate",aI);aK=(aI=aw.get(aJ))?i(aI,aK):aK;aw.put(aJ,aK)}var aw=new S,at=new S,U=null,aE=aG.$watch(function(){return 0===V.totalPendingRequests},function(aI){aI&&(aE(),aG.$$postDigest(function(){aG.$$postDigest(function(){null===U&&(U=!0)})}))}),ap={},az=s.classNameFilter(),aF=az?function(aI){return az.test(aI)}:function(){return !0},Q=h(aq),Z=Node.prototype.contains||function(aI){return this===aI||!!(this.compareDocumentPosition(aI)&16)};return{on:function(aJ,aI,aK){aI=ab(aI);ap[aJ]=ap[aJ]||[];ap[aJ].push({node:aI,callback:aK})},off:function(aJ,aI,aM){function aK(aO,aN,aQ){var aP=ab(aN);return aO.filter(function(aR){return !(aR.node===aP&&(!aQ||aR.callback===aQ))})}var aL=ap[aJ];aL&&(ap[aJ]=1===arguments.length?null:aK(aL,aI,aM))},pin:function(aJ,aI){J(C(aJ),"element","not an element");J(C(aI),"parentElement","not an element");aJ.data("$ngAnimatePin",aI)},push:function(aJ,aI,aL,aK){aL=aL||{};aL.domOperation=aK;return aB(aJ,aI,aL)},enabled:function(aJ,aI){var aM=arguments.length;if(0===aM){aI=!!U}else{if(C(aJ)){var aK=x(aJ),aL=at.get(aK);1===aM?aI=!aL:at.put(aK,!aI)}else{aI=U=!!aJ}}return aI}}}]}]).provider("$$animation",["$animateProvider",function(s){function r(G){return G.data("$$animationRunner")}var D=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(V,S,R,X,P,I){function Q(Z){function Y(at){if(at.processed){return at}at.processed=!0;var aw=at.domNode,av=aw.parentNode;ap.put(aw,at);for(var au;av;){if(au=ap.get(av)){au.processed||(au=Y(au));break}av=av.parentNode}(au||ar).children.push(at);return at}var ar={children:[]},aq,ap=new P;for(aq=0;aq<Z.length;aq++){var ao=Z[aq];ap.put(ao.domNode,Z[aq]={domNode:ao.domNode,fn:ao.fn,children:[]})}for(aq=0;aq<Z.length;aq++){Y(Z[aq])}return function(au){var at=[],az=[],ay;for(ay=0;ay<au.children.length;ay++){az.push(au.children[ay])}au=az.length;var ax=0,av=[];for(ay=0;ay<az.length;ay++){var aw=az[ay];0>=au&&(au=ax,ax=0,at.push(av),av=[]);av.push(aw.fn);aw.children.forEach(function(aA){ax++;az.push(aA)});au--}av.length&&at.push(av);return at}(ar)}var U=[],G=h(V);return function(az,ap,ay){function av(aD){aD=aD.hasAttribute("ng-animate-ref")?[aD]:aD.querySelectorAll("[ng-animate-ref]");var aC=[];ae(aD,function(aE){var aF=aE.getAttribute("ng-animate-ref");aF&&aF.length&&aC.push(aE)});return aC}function aw(aD){var aC=[],aG={};ae(aD,function(aH,aJ){var aL=x(aH.element),aI=0<=["enter","move"].indexOf(aH.event),aL=aH.structural?av(aL):[];if(aL.length){var aK=aI?"to":"from";ae(aL,function(aN){var aM=aN.getAttribute("ng-animate-ref");aG[aM]=aG[aM]||{};aG[aM][aK]={animationID:aJ,element:w(aN)}})}else{aC.push(aH)}});var aF={},aE={};ae(aG,function(aO,aM){var aH=aO.from,aJ=aO.to;if(aH&&aJ){var aK=aD[aH.animationID],aL=aD[aJ.animationID],aI=aH.animationID.toString();if(!aE[aI]){var aN=aE[aI]={structural:!0,beforeStart:function(){aK.beforeStart();aL.beforeStart()},close:function(){aK.close();aL.close()},classes:ax(aK.classes,aL.classes),from:aK,to:aL,anchors:[]};aN.classes.length?aC.push(aN):(aC.push(aK),aC.push(aL))}aE[aI].anchors.push({out:aH.element,"in":aJ.element})}else{aH=aH?aH.animationID:aJ.animationID,aJ=aH.toString(),aF[aJ]||(aF[aJ]=!0,aC.push(aD[aH]))}});return aC}function ax(aD,aC){aD=aD.split(" ");aC=aC.split(" ");for(var aH=[],aG=0;aG<aD.length;aG++){var aE=aD[aG];if("ng-"!==aE.substring(0,3)){for(var aF=0;aF<aC.length;aF++){if(aE===aC[aF]){aH.push(aE);break}}}}return aH.join(" ")}function ar(aD){for(var aC=D.length-1;0<=aC;aC--){var aE=D[aC];if(R.has(aE)&&(aE=R.get(aE)(aD))){return aE}}}function Y(aC,aD){aC.from&&aC.to?(r(aC.from.element).setHost(aD),r(aC.to.element).setHost(aD)):r(aC.element).setHost(aD)}function at(){var aC=r(az);!aC||"leave"===ap&&ay.$$domOperationFired||aC.end()}function aq(aC){az.off("$destroy",at);az.removeData("$$animationRunner");G(az,ay);T(az,ay);ay.domOperation();aB&&V.removeClass(az,aB);az.removeClass("ng-animate");aA.complete(!aC)}ay=d(ay);var Z=0<=["enter","move","leave"].indexOf(ap),aA=new X({end:function(){aq()},cancel:function(){aq(!0)}});if(!D.length){return aq(),aA}az.data("$$animationRunner",aA);var ao=q(az.attr("class"),q(ay.addClass,ay.removeClass)),aB=ay.tempClasses;aB&&(ao+=" "+aB,ay.tempClasses=null);var au;Z&&(au="ng-"+ap+"-prepare",V.addClass(az,au));U.push({element:az,classes:ao,event:ap,structural:Z,options:ay,beforeStart:function(){az.addClass("ng-animate");aB&&V.addClass(az,aB);au&&(V.removeClass(az,au),au=null)},close:aq});az.on("$destroy",at);if(1<U.length){return aA}S.$$postDigest(function(){var aC=[];ae(U,function(aF){r(aF.element)?aC.push(aF):aF.close()});U.length=0;var aE=aw(aC),aD=[];ae(aE,function(aF){aD.push({domNode:x(aF.from?aF.from.element:aF.element),fn:function(){aF.beforeStart();var aI,aH=aF.close;if(r(aF.anchors?aF.from.element||aF.to.element:aF.element)){var aG=ar(aF);aG&&(aI=aG.start)}aI?(aI=aI(),aI.done(function(aJ){aH(!aJ)}),Y(aF,aI)):aH()}})});I(Q(aD))});return aA}}]}]).provider("$animateCss",["$animateProvider",function(s){var r=m(),D=m();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(ao,U,S,aq,P,I,Q,V){function G(au,at){var av=au.parentNode;return(av.$$ngAnimateParentKey||(av.$$ngAnimateParentKey=++Y))+"-"+au.getAttribute("class")+"-"+at}function ar(au,av,ax,at){var aw;0<r.count(ax)&&(aw=D.get(ax),aw||(av=e(av,"-stagger"),U.addClass(au,av),aw=af(ao,au,at),aw.animationDuration=Math.max(aw.animationDuration,0),aw.transitionDuration=Math.max(aw.transitionDuration,0),U.removeClass(au,av),D.put(ax,aw)));return aw||{}}function R(at){Z.push(at);Q.waitUntilQuiet(function(){r.flush();D.flush();for(var au=P(),av=0;av<Z.length;av++){Z[av](au)}Z.length=0})}function ap(av,au,at){au=r.get(at);au||(au=af(ao,av,al),"infinite"===au.animationIterationCount&&(au.animationIterationCount=1));r.put(at,au);av=au;at=av.animationDelay;au=av.transitionDelay;av.maxDelay=at&&au?Math.max(at,au):at||au;av.maxDuration=Math.max(av.animationDuration*av.animationIterationCount,av.transitionDuration);return av}var X=h(U),Y=0,Z=[];return function(a5,a4){function a3(){aW()}function a1(){aW(!0)}function aW(a6){if(!(aL||aA&&aE)){aL=!0;aE=!1;a2.$$skipPreparationClasses||U.removeClass(a5,aN);U.removeClass(a5,aR);A(a0,!1);aa(a0,!1);ae(aZ,function(a8){a0.style[a8[0]]=""});X(a5,a2);T(a5,a2);Object.keys(aT).length&&ae(aT,function(a9,a8){a9?a0.style.setProperty(a8,a9):a0.style.removeProperty(a8)});if(a2.onDone){a2.onDone()}at&&at.length&&a5.off(at.join(" "),aI);var a7=a5.data("$$animateCss");a7&&(aq.cancel(a7[0].timer),a5.removeData("$$animateCss"));aJ&&aJ.complete(!a6)}}function aV(a6){aX.blockTransition&&aa(a0,a6);aX.blockKeyframeAnimation&&A(a0,!!a6)}function aK(){aJ=new S({end:a3,cancel:a1});R(n);aW();return{$$willAnimate:!1,start:function(){return aJ},end:a3}}function aI(a7){a7.stopPropagation();var a6=a7.originalEvent||a7;a7=a6.$manualTimeStamp||Date.now();a6=parseFloat(a6.elapsedTime.toFixed(3));Math.max(a7-ax,0)>=aB&&a6>=aC&&(aA=!0,aW())}function aD(){function a6(){if(!aL){aV(!1);ae(aZ,function(bf){a0.style[bf[0]]=bf[1]});X(a5,a2);U.addClass(a5,aR);if(aX.recalculateTimingStyles){aP=a0.className+" "+aN;aO=G(a0,aP);aH=ap(a0,aP,aO);aQ=aH.maxDelay;aY=Math.max(aQ,0);aC=aH.maxDuration;if(0===aC){aW();return}aX.hasTransitions=0<aH.transitionDuration;aX.hasAnimations=0<aH.animationDuration}aX.applyAnimationDelay&&(aQ="boolean"!==typeof a2.delay&&g(a2.delay)?parseFloat(a2.delay):aQ,aY=Math.max(aQ,0),aH.animationDelay=aQ,aM=[z,aQ+"s"],aZ.push(aM),a0.style[aM[0]]=aM[1]);aB=1000*aY;az=1000*aC;if(a2.easing){var bd,bc=a2.easing;aX.hasTransitions&&(bd=k+"TimingFunction",aZ.push([bd,bc]),a0.style[bd]=bc);aX.hasAnimations&&(bd=c+"TimingFunction",aZ.push([bd,bc]),a0.style[bd]=bc)}aH.transitionDuration&&at.push(j);aH.animationDuration&&at.push(ag);ax=Date.now();var bb=aB+1.5*az;bd=ax+bb;var bc=a5.data("$$animateCss")||[],ba=!0;if(bc.length){var be=bc[0];(ba=bd>be.expectedEndTime)?aq.cancel(be.timer):bc.push(aW)}ba&&(bb=aq(a9,bb,!1),bc[0]={timer:bb,expectedEndTime:bd},bc.push(aW),a5.data("$$animateCss",bc));if(at.length){a5.on(at.join(" "),aI)}a2.to&&(a2.cleanupStyles&&ai(aT,a0,Object.keys(a2.to)),B(a5,a2))}}function a9(){var ba=a5.data("$$animateCss");if(ba){for(var bb=1;bb<ba.length;bb++){ba[bb]()}a5.removeData("$$animateCss")}}if(!aL){if(a0.parentNode){var a8=function(bb){if(aA){aE&&bb&&(aE=!1,aW())}else{if(aE=!bb,aH.animationDuration){if(bb=A(a0,aE),aE){aZ.push(bb)}else{var ba=aZ,bc=ba.indexOf(bb);0<=bb&&ba.splice(bc,1)}}}},a7=0<au&&(aH.transitionDuration&&0===av.transitionDuration||aH.animationDuration&&0===av.animationDuration)&&Math.max(av.animationDelay,av.transitionDelay);a7?aq(a6,Math.floor(a7*au*1000),!1):a6();aG.resume=function(){a8(!0)};aG.pause=function(){a8(!1)}}else{aW()}}}var a2=a4||{};a2.$$prepared||(a2=d(H(a2)));var aT={},a0=x(a5);if(!a0||!a0.parentNode||!V.enabled()){return aK()}var aZ=[],aF=a5.attr("class"),aS=t(a2),aL,aE,aA,aJ,aG,aY,aB,aC,az,ax,at=[];if(0===a2.duration||!I.animations&&!I.transitions){return aK()}var aU=a2.event&&an(a2.event)?a2.event.join(" "):a2.event,aw="",ay="";aU&&a2.structural?aw=e(aU,"ng-",!0):aU&&(aw=aU);a2.addClass&&(ay+=e(a2.addClass,"-add"));a2.removeClass&&(ay.length&&(ay+=" "),ay+=e(a2.removeClass,"-remove"));a2.applyClassesEarly&&ay.length&&X(a5,a2);var aN=[aw,ay].join(" ").trim(),aP=aF+" "+aN,aR=e(aN,"-active"),aF=aS.to&&0<Object.keys(aS.to).length;if(!(0<(a2.keyframeStyle||"").length||aF||aN)){return aK()}var aO,av;0<a2.stagger?(aS=parseFloat(a2.stagger),av={transitionDelay:aS,animationDelay:aS,transitionDuration:0,animationDuration:0}):(aO=G(a0,aP),av=ar(a0,aN,aO,N));a2.$$skipPreparationClasses||U.addClass(a5,aN);a2.transitionStyle&&(aS=[k,a2.transitionStyle],a(a0,aS),aZ.push(aS));0<=a2.duration&&(aS=0<a0.style[k].length,aS=E(a2.duration,aS),a(a0,aS),aZ.push(aS));a2.keyframeStyle&&(aS=[c,a2.keyframeStyle],a(a0,aS),aZ.push(aS));var au=av?0<=a2.staggerIndex?a2.staggerIndex:r.count(aO):0;(aU=0===au)&&!a2.skipBlocking&&aa(a0,9999);var aH=ap(a0,aP,aO),aQ=aH.maxDelay;aY=Math.max(aQ,0);aC=aH.maxDuration;var aX={};aX.hasTransitions=0<aH.transitionDuration;aX.hasAnimations=0<aH.animationDuration;aX.hasTransitionAll=aX.hasTransitions&&"all"==aH.transitionProperty;aX.applyTransitionDuration=aF&&(aX.hasTransitions&&!aX.hasTransitionAll||aX.hasAnimations&&!aX.hasTransitions);aX.applyAnimationDuration=a2.duration&&aX.hasAnimations;aX.applyTransitionDelay=g(a2.delay)&&(aX.applyTransitionDuration||aX.hasTransitions);aX.applyAnimationDelay=g(a2.delay)&&aX.hasAnimations;aX.recalculateTimingStyles=0<ay.length;if(aX.applyTransitionDuration||aX.applyAnimationDuration){aC=a2.duration?parseFloat(a2.duration):aC,aX.applyTransitionDuration&&(aX.hasTransitions=!0,aH.transitionDuration=aC,aS=0<a0.style[k+"Property"].length,aZ.push(E(aC,aS))),aX.applyAnimationDuration&&(aX.hasAnimations=!0,aH.animationDuration=aC,aZ.push([F,aC+"s"]))}if(0===aC&&!aX.recalculateTimingStyles){return aK()}if(null!=a2.delay){var aM;"boolean"!==typeof a2.delay&&(aM=parseFloat(a2.delay),aY=Math.max(aM,0));aX.applyTransitionDelay&&aZ.push([W,aM+"s"]);aX.applyAnimationDelay&&aZ.push([z,aM+"s"])}null==a2.duration&&0<aH.transitionDuration&&(aX.recalculateTimingStyles=aX.recalculateTimingStyles||aU);aB=1000*aY;az=1000*aC;a2.skipBlocking||(aX.blockTransition=0<aH.transitionDuration,aX.blockKeyframeAnimation=0<aH.animationDuration&&0<av.animationDelay&&0===av.animationDuration);a2.from&&(a2.cleanupStyles&&ai(aT,a0,Object.keys(a2.from)),ac(a5,a2));aX.blockTransition||aX.blockKeyframeAnimation?aV(aC):a2.skipBlocking||aa(a0,!1);return{$$willAnimate:!0,end:a3,start:function(){if(!aL){return aG={end:a3,cancel:a1,resume:null,pause:null},aJ=new S(aG),R(aD),aJ}}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(r){r.drivers.push("$$animateCssDriver");this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(Y,X,V,S,R,ao,P){function I(D){return D.replace(/\bng-\S+\b/g,"")}function Q(aq,D){l(aq)&&(aq=aq.split(" "));l(D)&&(D=D.split(" "));return aq.filter(function(ar){return -1===D.indexOf(ar)}).join(" ")}function U(ax,aw,av){function au(aB){var aA={},aC=x(aB).getBoundingClientRect();ae(["width","height","top","left"],function(aD){var aE=aC[aD];switch(aD){case"top":aE+=s.scrollTop;break;case"left":aE+=s.scrollLeft}aA[aD]=Math.floor(aE)+"px"});return aA}function ar(){var aB=I(av.attr("class")||""),aA=Q(aB,D),aB=Q(D,aB),aA=Y(at,{to:au(av),addClass:"ng-anchor-in "+aA,removeClass:"ng-anchor-out "+aB,delay:!0});return aA.$$willAnimate?aA:null}function ay(){at.remove();aw.removeClass("ng-animate-shim");av.removeClass("ng-animate-shim")}var at=w(x(aw).cloneNode(!0)),D=I(at.attr("class")||"");aw.addClass("ng-animate-shim");av.addClass("ng-animate-shim");at.addClass("ng-anchor");Z.append(at);var az;ax=function(){var aA=Y(at,{addClass:"ng-anchor-out",delay:!0,from:au(aw)});return aA.$$willAnimate?aA:null}();if(!ax&&(az=ar(),!az)){return ay()}var aq=ax||az;return{start:function(){function aB(){aC&&aC.end()}var aA,aC=aq.start();aC.done(function(){aC=null;if(!az&&(az=ar())){return aC=az.start(),aC.done(function(){aC=null;ay();aA.complete()}),aC}ay();aA.complete()});return aA=new V({end:aB,cancel:aB})}}}function G(ar,aq,aw,av){var au=ap(ar,n),D=ap(aq,n),at=[];ae(av,function(ax){(ax=U(aw,ax.out,ax["in"]))&&at.push(ax)});if(au||D||0!==at.length){return{start:function(){function ay(){ae(ax,function(aA){aA.end()})}var ax=[];au&&ax.push(au.start());D&&ax.push(D.start());ae(at,function(aA){ax.push(aA.start())});var az=new V({end:ay,cancel:ay});V.all(ax,function(aA){az.complete(aA)});return az}}}}function ap(ar){var aq=ar.element,D=ar.options||{};ar.structural&&(D.event=ar.event,D.structural=!0,D.applyClassesEarly=!0,"leave"===ar.event&&(D.onDone=D.domOperation));D.preparationClasses&&(D.event=O(D.event,D.preparationClasses));ar=Y(aq,D);return ar.$$willAnimate?ar:null}if(!R.animations&&!R.transitions){return n}var s=P[0].body;X=x(S);var Z=w(X.parentNode&&11===X.parentNode.nodeType||s.contains(X)?X:s);h(ao);return function(D){return D.from&&D.to?G(D.from,D.to,D.classes,D.anchors):ap(D)}}]}]).provider("$$animateJs",["$animateProvider",function(r){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(s,P,I){function G(X){X=an(X)?X:X.split(" ");for(var V=[],U={},S=0;S<X.length;S++){var Q=X[S],R=r.$$registeredAnimations[Q];R&&!U[Q]&&(V.push(s.get(R)),U[Q]=!0)}return V}var D=h(I);return function(at,aq,Z,U){function R(){U.domOperation();D(at,U)}function Q(az,ay,aC,aB,aA){switch(aC){case"animate":ay=[ay,aB.from,aB.to,aA];break;case"setClass":ay=[ay,ao,ap,aA];break;case"addClass":ay=[ay,ao,aA];break;case"removeClass":ay=[ay,ap,aA];break;default:ay=[ay,aA]}ay.push(aB);if(az=az.apply(az,ay)){if(o(az.start)&&(az=az.start()),az instanceof P){az.done(aA)}else{if(o(az)){return az}}}return n}function ax(az,ay,aD,aC,aB){var aA=[];ae(aC,function(aF){var aE=aF[aB];aE&&aA.push(function(){var aJ,aI,aH=!1,aG=function(aK){aH||(aH=!0,(aI||n)(aK),aJ.complete(!aK))};aJ=new P({end:function(){aG()},cancel:function(){aG(!0)}});aI=Q(aE,az,ay,aD,function(aK){aG(!1===aK)});return aJ})});return aA}function aw(az,ay,aF,aE,aD){var aC=ax(az,ay,aF,aE,aD);if(0===aC.length){var aB,aA;"beforeSetClass"===aD?(aB=ax(az,"removeClass",aF,aE,"beforeRemoveClass"),aA=ax(az,"addClass",aF,aE,"beforeAddClass")):"setClass"===aD&&(aB=ax(az,"removeClass",aF,aE,"removeClass"),aA=ax(az,"addClass",aF,aE,"addClass"));aB&&(aC=aC.concat(aB));aA&&(aC=aC.concat(aA))}if(0!==aC.length){return function(aH){var aG=[];aC.length&&ae(aC,function(aI){aG.push(aI())});aG.length?P.all(aG,aH):aH();return function(aI){ae(aG,function(aJ){aI?aJ.cancel():aJ.end()})}}}}var av=!1;3===arguments.length&&ad(Z)&&(U=Z,Z=null);U=d(U);Z||(Z=at.attr("class")||"",U.addClass&&(Z+=" "+U.addClass),U.removeClass&&(Z+=" "+U.removeClass));var ao=U.addClass,ap=U.removeClass,ar=G(Z),X,au;if(ar.length){var Y,V;"leave"==aq?(V="leave",Y="afterLeave"):(V="before"+aq.charAt(0).toUpperCase()+aq.substr(1),Y=aq);"enter"!==aq&&"move"!==aq&&(X=aw(at,aq,U,ar,V));au=aw(at,aq,U,ar,Y)}if(X||au){var S;return{$$willAnimate:!0,end:function(){S?S.end():(av=!0,R(),T(at,U),S=new P,S.complete(!0));return S},start:function(){function ay(aB){av=!0;R();T(at,U);S.complete(aB)}if(S){return S}S=new P;var aA,az=[];X&&az.push(function(aB){aA=X(aB)});az.length?az.push(function(aB){R();aB(!0)}):R();au&&az.push(function(aB){aA=au(aB)});S.setHost({end:function(){av||((aA||n)(void 0),ay(void 0))},cancel:function(){av||((aA||n)(!0),ay(!0))}});P.chain(az,ay);return S}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(r){r.drivers.push("$$animateJsDriver");this.$get=["$$animateJs","$$AnimateRunner",function(s,G){function D(I){return s(I.element,I.event,I.classes,I.options)}return function(P){if(P.from&&P.to){var I=D(P.from),Q=D(P.to);if(I||Q){return{start:function(){function R(){return function(){ae(U,function(V){V.end()})}}var U=[];I&&U.push(I.start());Q&&U.push(Q.start());G.all(U,function(V){S.complete(V)});var S=new G({end:R(),cancel:R()});return S}}}}else{return D(P)}}}]}])})(window,window.angular);(function(c,e,b){var d="BUTTON A INPUT TEXTAREA SELECT DETAILS SUMMARY".split(" "),a=function(f,g){if(-1!==g.indexOf(f[0].nodeName)){return !0}};e.module("ngAria",["ng"]).provider("$aria",function(){function f(i,j,k,l){return function(o,n,h){var m=h.$normalize(j);!g[m]||a(n,k)||h[m]||o.$watch(h[i],function(p){p=l?!p:!!p;n.attr(j,p)})}}var g={ariaHidden:!0,ariaChecked:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0,bindRoleForClick:!0};this.config=function(h){g=e.extend(g,h)};this.$get=function(){return{config:function(h){return g[h]},$$watchExpr:f}}}).directive("ngShow",["$aria",function(f){return f.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(f){return f.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(f){return f.$$watchExpr("ngValue","aria-checked",d,!1)}]).directive("ngChecked",["$aria",function(f){return f.$$watchExpr("ngChecked","aria-checked",d,!1)}]).directive("ngRequired",["$aria",function(f){return f.$$watchExpr("ngRequired","aria-required",d,!1)}]).directive("ngModel",["$aria",function(g){function j(m,l,k,h){return g.config(l)&&!k.attr(m)&&(h||!a(k,d))}function f(h,k){return !k.attr("role")&&k.attr("type")===h&&"INPUT"!==k[0].nodeName}function i(h,m){var l=h.type,k=h.role;return"checkbox"===(l||k)||"menuitemcheckbox"===k?"checkbox":"radio"===(l||k)||"menuitemradio"===k?"radio":"range"===l||"progressbar"===k||"slider"===k?"range":""}return{restrict:"A",require:"ngModel",priority:200,compile:function(h,l){var k=i(l,h);return{pre:function(n,m,p,o){"checkbox"===k&&(o.$isEmpty=function(q){return !1===q})},post:function(z,A,x,v){function y(){return v.$modelValue}function w(n){A.attr("aria-checked",x.value==v.$viewValue)}function t(){A.attr("aria-checked",!v.$isEmpty(v.$viewValue))}var u=j("tabindex","tabindex",A,!1);switch(k){case"radio":case"checkbox":f(k,A)&&A.attr("role",k);j("aria-checked","ariaChecked",A,!1)&&z.$watch(y,"radio"===k?w:t);u&&A.attr("tabindex",0);break;case"range":f(k,A)&&A.attr("role","slider");if(g.config("ariaValue")){var s=!A.attr("aria-valuemin")&&(x.hasOwnProperty("min")||x.hasOwnProperty("ngMin")),o=!A.attr("aria-valuemax")&&(x.hasOwnProperty("max")||x.hasOwnProperty("ngMax")),m=!A.attr("aria-valuenow");s&&x.$observe("min",function(n){A.attr("aria-valuemin",n)});o&&x.$observe("max",function(n){A.attr("aria-valuemax",n)});m&&z.$watch(y,function(n){A.attr("aria-valuenow",n)})}u&&A.attr("tabindex",0)}!x.hasOwnProperty("ngRequired")&&v.$validators.required&&j("aria-required","ariaRequired",A,!1)&&x.$observe("required",function(){A.attr("aria-required",!!x.required)});j("aria-invalid","ariaInvalid",A,!0)&&z.$watch(function(){return v.$invalid},function(n){A.attr("aria-invalid",!!n)})}}}}}]).directive("ngDisabled",["$aria",function(f){return f.$$watchExpr("ngDisabled","aria-disabled",d,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(g,k,j,i){k.attr("aria-live")||k.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(f,g){return{restrict:"A",compile:function(i,j){var k=g(j.ngClick,null,!0);return function(m,l,h){if(!a(l,d)&&(f.config("bindRoleForClick")&&!l.attr("role")&&l.attr("role","button"),f.config("tabindex")&&!l.attr("tabindex")&&l.attr("tabindex",0),f.config("bindKeypress")&&!h.ngKeypress)){l.on("keypress",function(n){function p(){k(m,{$event:n})}var o=n.which||n.keyCode;32!==o&&13!==o||m.$apply(p)})}}}}}]).directive("ngDblclick",["$aria",function(f){return function(j,g,i){!f.config("tabindex")||g.attr("tabindex")||a(g,d)||g.attr("tabindex",0)}}])})(window,window.angular);angular.module("ui.bootstrap",["ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(g,f,j,i){var h=i.has("$animateCss")?i.get("$animateCss"):null;return{link:function(v,u,t){function s(){u.hasClass("collapse")&&u.hasClass("in")||f.resolve(e(v)).then(function(){u.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),h?h(u,{addClass:"in",easing:"ease",to:{height:u[0].scrollHeight+"px"}}).start()["finally"](r):g.addClass(u,"in",{to:{height:u[0].scrollHeight+"px"}}).then(r)})}function r(){u.removeClass("collapsing").addClass("collapse").css({height:"auto"}),c(v)}function q(){return u.hasClass("collapse")||u.hasClass("in")?void f.resolve(b(v)).then(function(){u.css({height:u[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),h?h(u,{removeClass:"in",to:{height:"0"}}).start()["finally"](p):g.removeClass(u,"in",{to:{height:"0"}}).then(p)}):p()}function p(){u.css({height:"0"}),u.removeClass("collapsing").addClass("collapse"),a(v)}var e=j(t.expanding),c=j(t.expanded),b=j(t.collapsing),a=j(t.collapsed);v.$eval(t.uibCollapse)||u.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css({height:"auto"}),v.$watch(t.uibCollapse,function(d){d?q():s()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,d,f){this.groups=[],this.closeOthers=function(b){var a=angular.isDefined(d.closeOthers)?e.$eval(d.closeOthers):f.closeOthers;a&&angular.forEach(this.groups,function(c){c!==b&&(c.isOpen=!1)})},this.addGroup=function(g){var c=this;this.groups.push(g),g.$on("$destroy",function(a){c.removeGroup(g)})},this.removeGroup=function(g){var c=this.groups.indexOf(g);-1!==c&&this.groups.splice(c,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(d,c){return c.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(d,c){return c.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(b){this.heading=b}},link:function(g,f,j,i){i.addGroup(g),g.openClass=j.openClass||"panel-open",g.panelClass=j.panelClass||"panel-default",g.$watch("isOpen",function(a){f.toggleClass(g.openClass,!!a),a&&i.closeOthers(g)}),g.toggleOpen=function(a){g.isDisabled||a&&32!==a.which||(g.isOpen=!g.isOpen)};var h="accordiongroup-"+g.$id+"-"+Math.floor(10000*Math.random());g.headingId=h+"-tab",g.panelId=h+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(g,f,j,i,h){i.setHeading(h(g,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(f,e,h,g){f.$watch(function(){return g[h.uibAccordionTransclude]},function(b){b&&(e.find("span").html(""),e.find("span").append(b))})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(g,f,j,i){g.closeable=!!f.close;var h=angular.isDefined(f.dismissOnTimeout)?j(f.dismissOnTimeout)(g.$parent):null;h&&i(function(){g.close()},parseInt(h,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(d,c){return c.templateUrl||"uib/template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(b){this.activeClass=b.activeClass||"active",this.toggleEvent=b.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(b){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(a,n,m,l){var k=l[0],j=l[1],i=b(m.uibUncheckable);n.find("input").css({display:"none"}),j.$render=function(){n.toggleClass(k.activeClass,angular.equals(j.$modelValue,a.$eval(m.uibBtnRadio)))},n.on(k.toggleEvent,function(){if(!m.disabled){var c=n.hasClass(k.activeClass);(!c||angular.isDefined(m.uncheckable))&&a.$apply(function(){j.$setViewValue(c?null:a.$eval(m.uibBtnRadio)),j.$render()})}}),m.uibUncheckable&&a.$watch(i,function(c){m.$set("uncheckable",c?"":null)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(r,q,p,o){function n(){return l(p.btnCheckboxTrue,!0)}function m(){return l(p.btnCheckboxFalse,!1)}function l(a,d){return angular.isDefined(a)?r.$eval(a):d}var k=o[0],j=o[1];q.find("input").css({display:"none"}),j.$render=function(){q.toggleClass(k.activeClass,angular.equals(j.$modelValue,n()))},q.on(k.toggleEvent,function(){p.disabled||r.$apply(function(){j.$setViewValue(q.hasClass(k.activeClass)?m():n()),j.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(N,M,L,K,J){function I(){for(;v.length;){v.shift()}}function H(e){if(angular.isUndefined(y[e].index)){return y[e]}for(var d=0,f=y.length;f>d;++d){if(y[d].index===e){return y[d]}}}function G(e,b,a){u||(angular.extend(e,{direction:a,active:!0}),angular.extend(z.currentSlide||{},{direction:a,active:!1}),J.enabled(M)&&!N.$currentTransition&&e.$element&&z.slides.length>1&&(e.$element.data(x,e.direction),z.currentSlide&&z.currentSlide.$element&&z.currentSlide.$element.data(x,e.direction),N.$currentTransition=!0,J.on("addClass",e.$element,function(f,l){if("close"===l&&(N.$currentTransition=null,J.off("addClass",f),v.length)){var k=v.pop(),j=N.indexOfSlide(k),h=j>z.getCurrentIndex()?"next":"prev";I(),G(k,j,h)}})),z.currentSlide=e,w=b,D())}function F(){B&&(L.cancel(B),B=null)}function E(a){a.length||(N.$currentTransition=null,I())}function D(){F();var a=+N.interval;!isNaN(a)&&a>0&&(B=L(C,a))}function C(){var a=+N.interval;A&&!isNaN(a)&&a>0&&y.length?N.next():N.pause()}var B,A,z=this,y=z.slides=N.slides=[],x="uib-slideDirection",w=-1,v=[];z.currentSlide=null;var u=!1;z.addSlide=function(a,d){a.$element=d,y.push(a),1===y.length||a.active?(N.$currentTransition&&(N.$currentTransition=null),z.select(y[y.length-1]),1===y.length&&N.play()):a.active=!1},z.getCurrentIndex=function(){return z.currentSlide&&angular.isDefined(z.currentSlide.index)?+z.currentSlide.index:w},z.next=N.next=function(){var a=(z.getCurrentIndex()+1)%y.length;return 0===a&&N.noWrap()?void N.pause():z.select(H(a),"next")},z.prev=N.prev=function(){var a=z.getCurrentIndex()-1<0?y.length-1:z.getCurrentIndex()-1;return N.noWrap()&&a===y.length-1?void N.pause():z.select(H(a),"prev")},z.removeSlide=function(e){angular.isDefined(e.index)&&y.sort(function(g,c){return +g.index>+c.index});var d=v.indexOf(e);-1!==d&&v.splice(d,1);var f=y.indexOf(e);y.splice(f,1),K(function(){y.length>0&&e.active?f>=y.length?z.select(y[f-1]):z.select(y[f]):w>f&&w--}),0===y.length&&(z.currentSlide=null,I())},z.select=N.select=function(a,f){var e=N.indexOfSlide(a);void 0===f&&(f=e>z.getCurrentIndex()?"next":"prev"),a&&a!==z.currentSlide&&!N.$currentTransition?G(a,e,f):a&&a!==z.currentSlide&&N.$currentTransition&&(v.push(a),a.active=!1)},N.indexOfSlide=function(b){return angular.isDefined(b.index)?+b.index:y.indexOf(b)},N.isActive=function(b){return z.currentSlide===b},N.pause=function(){N.noPause||(A=!1,F())},N.play=function(){A||(A=!0,D())},N.$on("$destroy",function(){u=!0,F()}),N.$watch("noTransition",function(b){J.enabled(M,!b)}),N.$watch("interval",D),N.$watchCollection("slides",E)}]).directive("uibCarousel",function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",templateUrl:function(d,c){return c.templateUrl||"uib/template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",function(){return{require:"^uibCarousel",transclude:!0,replace:!0,templateUrl:function(d,c){return c.templateUrl||"uib/template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(f,e,h,g){g.addSlide(f,e),f.$on("$destroy",function(){g.removeSlide(f)}),f.$watch("active",function(a){a&&g.select(f)})}}}).animation(".item",["$animateCss",function(e){function d(h,g,i){h.removeClass(g),i&&i()}var f="uib-slideDirection";return{beforeAddClass:function(n,m,l){if("active"===m){var k=!1,c=n.data(f),b="next"===c?"left":"right",a=d.bind(this,n,b+" "+c,l);return n.addClass(c),e(n,{addClass:b}).start().done(a),function(){k=!0}}l()},beforeRemoveClass:function(n,m,l){if("active"===m){var k=!1,c=n.data(f),b="next"===c?"left":"right",a=d.bind(this,n,b,l);return e(n,{addClass:b}).start().done(a),function(){k=!0}}l()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(D,C,B,A){function z(i,d){var n=[],m=i.split(""),l=i.indexOf("'");if(l>-1){var k=!1;i=i.split("");for(var j=l;j<i.length;j++){k?("'"===i[j]&&(j+1<i.length&&"'"===i[j+1]?(i[j+1]="$",m[j+1]=""):(m[j]="",k=!1)),i[j]="$"):"'"===i[j]&&(i[j]="$",m[j]="",k=!0)}i=i.join("")}return angular.forEach(q,function(e){var c=i.indexOf(e.key);if(c>-1){i=i.split(""),m[c]="("+e.regex+")",i[c]="$";for(var b=c+1,a=c+e.key.length;a>b;b++){m[b]="",i[b]="$"}i=i.join(""),n.push({index:c,key:e.key,apply:e[d],matcher:e.regex})}}),{regex:new RegExp("^"+m.join("")+"$"),map:A(n,"index")}}function y(e,d,f){return 1>f?!1:1===d&&f>28?29===f&&(e%4===0&&e%100!==0||e%400===0):3===d||5===d||8===d||10===d?31>f:!0}function x(b){return parseInt(b,10)}function w(d,c){return d&&c?s(d,c):d}function v(d,c){return d&&c?s(d,c,!0):d}function u(e,d){var f=Date.parse("Jan 01, 1970 00:00:00 "+e)/60000;return isNaN(f)?d:f}function t(d,c){return d=new Date(d.getTime()),d.setMinutes(d.getMinutes()+c),d}function s(f,e,h){h=h?-1:1;var g=u(e,f.getTimezoneOffset());return t(f,h*(g-f.getTimezoneOffset()))}var r,q,p=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){r=C.id,this.parsers={},this.formatters={},q=[{key:"yyyy",regex:"\\d{4}",apply:function(b){this.year=+b},formatter:function(d){var c=new Date;return c.setFullYear(Math.abs(d.getFullYear())),B(c,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(b){this.year=+b+2000},formatter:function(d){var c=new Date;return c.setFullYear(Math.abs(d.getFullYear())),B(c,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(b){this.year=+b},formatter:function(d){var c=new Date;return c.setFullYear(Math.abs(d.getFullYear())),B(c,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(b){this.month=b-1},formatter:function(d){var c=d.getMonth();return/^[0-9]$/.test(c)?B(d,"MM"):B(d,"M")}},{key:"MMMM",regex:C.DATETIME_FORMATS.MONTH.join("|"),apply:function(b){this.month=C.DATETIME_FORMATS.MONTH.indexOf(b)},formatter:function(b){return B(b,"MMMM")}},{key:"MMM",regex:C.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(b){this.month=C.DATETIME_FORMATS.SHORTMONTH.indexOf(b)},formatter:function(b){return B(b,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(b){this.month=b-1},formatter:function(b){return B(b,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(b){this.month=b-1},formatter:function(b){return B(b,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(b){this.date=+b},formatter:function(d){var c=d.getDate();return/^[1-9]$/.test(c)?B(d,"dd"):B(d,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(b){this.date=+b},formatter:function(b){return B(b,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(b){this.date=+b},formatter:function(b){return B(b,"d")}},{key:"EEEE",regex:C.DATETIME_FORMATS.DAY.join("|"),formatter:function(b){return B(b,"EEEE")}},{key:"EEE",regex:C.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(b){return B(b,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(b){this.hours=+b},formatter:function(b){return B(b,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(b){this.hours=+b},formatter:function(b){return B(b,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(b){this.hours=+b},formatter:function(b){return B(b,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(b){this.hours=+b},formatter:function(b){return B(b,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(b){this.minutes=+b},formatter:function(b){return B(b,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(b){this.minutes=+b},formatter:function(b){return B(b,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(b){this.milliseconds=+b},formatter:function(b){return B(b,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(b){this.seconds=+b},formatter:function(b){return B(b,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(b){this.seconds=+b},formatter:function(b){return B(b,"s")}},{key:"a",regex:C.DATETIME_FORMATS.AMPMS.join("|"),apply:function(b){12===this.hours&&(this.hours=0),"PM"===b&&(this.hours+=12)},formatter:function(b){return B(b,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(g){var f=g.match(/([+-])(\d{2})(\d{2})/),j=f[1],i=f[2],h=f[3];this.hours+=x(j+i),this.minutes+=x(j+h)},formatter:function(b){return B(b,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(b){return B(b,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(b){return B(b,"w")}},{key:"GGGG",regex:C.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(b){return B(b,"GGGG")}},{key:"GGG",regex:C.DATETIME_FORMATS.ERAS.join("|"),formatter:function(b){return B(b,"GGG")}},{key:"GG",regex:C.DATETIME_FORMATS.ERAS.join("|"),formatter:function(b){return B(b,"GG")}},{key:"G",regex:C.DATETIME_FORMATS.ERAS.join("|"),formatter:function(b){return B(b,"G")}}]},this.init(),this.filter=function(b,j){if(!angular.isDate(b)||isNaN(b)||!j){return""}j=C.DATETIME_FORMATS[j]||j,C.id!==r&&this.init(),this.formatters[j]||(this.formatters[j]=z(j,"formatter"));var i=this.formatters[j],h=i.map,e=j;return h.reduce(function(a,k,g){var f=e.match(new RegExp("(.*)"+k.key));return f&&angular.isString(f[1])&&(a+=f[1],e=e.replace(f[1]+k.key,"")),k.apply?a+k.apply.call(null,b):a},"")},this.parse=function(J,I,H){if(!angular.isString(J)||!I){return J}I=C.DATETIME_FORMATS[I]||I,I=I.replace(p,"\\$&"),C.id!==r&&this.init(),this.parsers[I]||(this.parsers[I]=z(I,"apply"));var G=this.parsers[I],F=G.regex,E=G.map,o=J.match(F),m=!1;if(o&&o.length){var f,e;angular.isDate(H)&&!isNaN(H.getTime())?f={year:H.getFullYear(),month:H.getMonth(),date:H.getDate(),hours:H.getHours(),minutes:H.getMinutes(),seconds:H.getSeconds(),milliseconds:H.getMilliseconds()}:(H&&D.warn("dateparser:","baseDate is not a valid date"),f={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var b=1,a=o.length;a>b;b++){var M=E[b-1];"Z"===M.matcher&&(m=!0),M.apply&&M.apply.call(f,o[b])}var L=m?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,K=m?Date.prototype.setUTCHours:Date.prototype.setHours;return y(f.year,f.month,f.date)&&(!angular.isDate(H)||isNaN(H.getTime())||m?(e=new Date(0),L.call(e,f.year,f.month,f.date),K.call(e,f.hours||0,f.minutes||0,f.seconds||0,f.milliseconds||0)):(e=new Date(H),L.call(e,f.year,f.month,f.date),K.call(e,f.hours,f.minutes,f.seconds,f.milliseconds))),e}},this.toTimezone=w,this.fromTimezone=v,this.timezoneToOffset=u,this.addDateMinutes=t,this.convertTimezoneToLocal=s}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var d=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,f=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(x,w){function v(h,g,i){s.push(h),r.push({scope:h,element:g}),a.forEach(function(j,k){u(j,h)}),h.$on("$destroy",t)}function u(j,y){var o=j.match(f),n=y.$eval(o[1]),m=o[2],l=q[j];if(!l){var k=function(g){var h=null;r.some(function(i){var z=i.scope.$eval(c);return z===g?(h=i,!0):void 0}),l.lastActivated!==h&&(l.lastActivated&&e.removeClass(l.lastActivated.element,n),h&&e.addClass(h.element,n),l.lastActivated=h)};q[j]=l={lastActivated:null,scope:y,watchFn:k,compareWithExp:m,watcher:y.$watch(m,k)}}l.watchFn(y.$eval(m))}function t(h){var g=h.targetScope,j=s.indexOf(g);if(s.splice(j,1),r.splice(j,1),s.length){var i=s[0];angular.forEach(q,function(k){k.scope===g&&(k.watcher=i.$watch(k.compareWithExp,k.watchFn),k.scope=i)})}else{q={}}}var s=[],r=[],q={},p=w.uibIsClass.match(d),c=p[2],b=p[1],a=b.split(",");return v}}}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(g,f){var j,i={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},h={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/};return{getRawNode:function(b){return b[0]||b},parseStyle:function(b){return b=parseFloat(b),isFinite(b)?b:0},offsetParent:function(k){function b(c){return"static"===(f.getComputedStyle(c).position||"static")}k=this.getRawNode(k);for(var a=k.offsetParent||g[0].documentElement;a&&a!==g[0].documentElement&&b(a);){a=a.offsetParent}return a||g[0].documentElement},scrollbarWidth:function(){if(angular.isUndefined(j)){var a=angular.element('<div style="position: absolute; top: -9999px; width: 50px; height: 50px; overflow: scroll;"></div>');g.find("body").append(a),j=a[0].offsetWidth-a[0].clientWidth,j=isFinite(j)?j:0,a.remove()}return j},scrollParent:function(p,o){p=this.getRawNode(p);var n=o?i.hidden:i.normal,m=g[0].documentElement,l=f.getComputedStyle(p),d="absolute"===l.position,b=p.parentElement||m;if(b===m||"fixed"===l.position){return m}for(;b.parentElement&&b!==m;){var a=f.getComputedStyle(b);if(d&&"static"!==a.position&&(d=!1),!d&&n.test(a.overflow+a.overflowY+a.overflowX)){break}b=b.parentElement}return b},position:function(n,m){n=this.getRawNode(n);var l=this.offset(n);if(m){var k=f.getComputedStyle(n);l.top-=this.parseStyle(k.marginTop),l.left-=this.parseStyle(k.marginLeft)}var b=this.offsetParent(n),a={top:0,left:0};return b!==g[0].documentElement&&(a=this.offset(b),a.top+=b.clientTop-b.scrollTop,a.left+=b.clientLeft-b.scrollLeft),{width:Math.round(angular.isNumber(l.width)?l.width:n.offsetWidth),height:Math.round(angular.isNumber(l.height)?l.height:n.offsetHeight),top:Math.round(l.top-a.top),left:Math.round(l.left-a.left)}},offset:function(b){b=this.getRawNode(b);var a=b.getBoundingClientRect();return{width:Math.round(angular.isNumber(a.width)?a.width:b.offsetWidth),height:Math.round(angular.isNumber(a.height)?a.height:b.offsetHeight),top:Math.round(a.top+(f.pageYOffset||g[0].documentElement.scrollTop)),left:Math.round(a.left+(f.pageXOffset||g[0].documentElement.scrollLeft))}},viewportOffset:function(p,o,n){p=this.getRawNode(p),n=n!==!1?!0:!1;var m=p.getBoundingClientRect(),l={top:0,left:0,bottom:0,right:0},k=o?g[0].documentElement:this.scrollParent(p),b=k.getBoundingClientRect();if(l.top=b.top+k.clientTop,l.left=b.left+k.clientLeft,k===g[0].documentElement&&(l.top+=f.pageYOffset,l.left+=f.pageXOffset),l.bottom=l.top+k.clientHeight,l.right=l.left+k.clientWidth,n){var a=f.getComputedStyle(k);l.top+=this.parseStyle(a.paddingTop),l.bottom-=this.parseStyle(a.paddingBottom),l.left+=this.parseStyle(a.paddingLeft),l.right-=this.parseStyle(a.paddingRight)}return{top:Math.round(m.top-l.top),bottom:Math.round(l.bottom-m.bottom),left:Math.round(m.left-l.left),right:Math.round(l.right-m.right)}},parsePlacement:function(d){var c=h.auto.test(d);return c&&(d=d.replace(h.auto,"")),d=d.split("-"),d[0]=d[0]||"top",h.primary.test(d[0])||(d[0]="top"),d[1]=d[1]||"center",h.secondary.test(d[1])||(d[1]="center"),c?d[2]=!0:d[2]=!1,d},positionElements:function(z,y,x,w){z=this.getRawNode(z),y=this.getRawNode(y);var v=angular.isDefined(y.offsetWidth)?y.offsetWidth:y.prop("offsetWidth"),u=angular.isDefined(y.offsetHeight)?y.offsetHeight:y.prop("offsetHeight");x=this.parsePlacement(x);var t=w?this.offset(z):this.position(z),s={top:0,left:0,placement:""};if(x[2]){var r=this.viewportOffset(z),q=f.getComputedStyle(y),p={width:v+Math.round(Math.abs(this.parseStyle(q.marginLeft)+this.parseStyle(q.marginRight))),height:u+Math.round(Math.abs(this.parseStyle(q.marginTop)+this.parseStyle(q.marginBottom)))};if(x[0]="top"===x[0]&&p.height>r.top&&p.height<=r.bottom?"bottom":"bottom"===x[0]&&p.height>r.bottom&&p.height<=r.top?"top":"left"===x[0]&&p.width>r.left&&p.width<=r.right?"right":"right"===x[0]&&p.width>r.right&&p.width<=r.left?"left":x[0],x[1]="top"===x[1]&&p.height-t.height>r.bottom&&p.height-t.height<=r.top?"bottom":"bottom"===x[1]&&p.height-t.height>r.top&&p.height-t.height<=r.bottom?"top":"left"===x[1]&&p.width-t.width>r.right&&p.width-t.width<=r.left?"right":"right"===x[1]&&p.width-t.width>r.left&&p.width-t.width<=r.right?"left":x[1],"center"===x[1]){if(h.vertical.test(x[0])){var e=t.width/2-v/2;r.left+e<0&&p.width-t.width<=r.right?x[1]="left":r.right+e<0&&p.width-t.width<=r.left&&(x[1]="right")}else{var b=t.height/2-p.height/2;r.top+b<0&&p.height-t.height<=r.bottom?x[1]="top":r.bottom+b<0&&p.height-t.height<=r.top&&(x[1]="bottom")}}}switch(x[0]){case"top":s.top=t.top-u;break;case"bottom":s.top=t.top+t.height;break;case"left":s.left=t.left-v;break;case"right":s.left=t.left+t.width}switch(x[1]){case"top":s.top=t.top;break;case"bottom":s.top=t.top+t.height-u;break;case"left":s.left=t.left;break;case"right":s.left=t.left+t.width-v;break;case"center":h.vertical.test(x[0])?s.left=t.left+t.width/2-v/2:s.top=t.top+t.height/2-u/2}return s.top=Math.round(s.top),s.left=Math.round(s.left),s.placement="center"===x[1]?x[0]:x[0]+"-"+x[1],s},positionArrow:function(t,s){t=this.getRawNode(t);var r=t.querySelector(".tooltip-inner, .popover-inner");if(r){var q=angular.element(r).hasClass("tooltip-inner"),p=q?t.querySelector(".tooltip-arrow"):t.querySelector(".arrow");if(p){if(s=this.parsePlacement(s),"center"===s[1]){return void angular.element(p).css({top:"",bottom:"",right:"",left:"",margin:""})}var o="border-"+s[0]+"-width",n=f.getComputedStyle(p)[o],m="border-";m+=h.vertical.test(s[0])?s[0]+"-"+s[1]:s[1]+"-"+s[0],m+="-radius";var e=f.getComputedStyle(q?r:t)[m],b={top:"auto",bottom:"auto",left:"auto",right:"auto",margin:0};switch(s[0]){case"top":b.bottom=q?"0":"-"+n;break;case"bottom":b.top=q?"0":"-"+n;break;case"left":b.right=q?"0":"-"+n;break;case"right":b.left=q?"0":"-"+n}b[s[1]]=e,angular.element(p).css(b)}}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError","uibDateParser",function(D,C,B,A,z,y,x,w,v,u){var t=this,s={$setViewValue:angular.noop},r={},q=[];this.modes=["day","month","year"],C.datepickerOptions?angular.forEach(["formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","initDate","maxDate","maxMode","minDate","minMode","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"],function(a){switch(a){case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":t[a]=angular.isDefined(D.datepickerOptions[a])?A(D.datepickerOptions[a])(D.$parent):w[a];break;case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":t[a]=angular.isDefined(D.datepickerOptions[a])?D.datepickerOptions[a]:w[a];break;case"startingDay":angular.isDefined(D.datepickerOptions.startingDay)?t.startingDay=D.datepickerOptions.startingDay:angular.isNumber(w.startingDay)?t.startingDay=w.startingDay:t.startingDay=(z.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":D.datepickerOptions[a]?D.$watch(function(){return D.datepickerOptions[a]},function(b){b?angular.isDate(b)?t[a]=u.fromTimezone(new Date(b),r.timezone):t[a]=new Date(x(b,"medium")):t[a]=null,t.refreshView()}):t[a]=w[a]?u.fromTimezone(new Date(w[a]),r.timezone):null;break;case"maxMode":case"minMode":D.datepickerOptions[a]?D.$watch(function(){return D.datepickerOptions[a]},function(b){t[a]=D[a]=angular.isDefined(b)?b:datepickerOptions[a],("minMode"===a&&t.modes.indexOf(D.datepickerMode)<t.modes.indexOf(t[a])||"maxMode"===a&&t.modes.indexOf(D.datepickerMode)>t.modes.indexOf(t[a]))&&(D.datepickerMode=t[a])}):t[a]=D[a]=w[a]||null;break;case"initDate":D.datepickerOptions.initDate?(this.activeDate=u.fromTimezone(D.datepickerOptions.initDate,r.timezone)||new Date,D.$watch(function(){return D.datepickerOptions.initDate},function(b){b&&(s.$isEmpty(s.$modelValue)||s.$invalid)&&(t.activeDate=u.fromTimezone(b,r.timezone),t.refreshView())})):this.activeDate=new Date}}):(angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle"],function(a){t[a]=angular.isDefined(C[a])?A(C[a])(D.$parent):w[a]}),angular.forEach(["showWeeks","yearRows","yearColumns","shortcutPropagation"],function(a){t[a]=angular.isDefined(C[a])?D.$parent.$eval(C[a]):w[a]}),angular.isDefined(C.startingDay)?t.startingDay=D.$parent.$eval(C.startingDay):angular.isNumber(w.startingDay)?t.startingDay=w.startingDay:t.startingDay=(z.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7,angular.forEach(["minDate","maxDate"],function(a){C[a]?q.push(D.$parent.$watch(C[a],function(b){b?angular.isDate(b)?t[a]=u.fromTimezone(new Date(b),r.timezone):t[a]=new Date(x(b,"medium")):t[a]=null,t.refreshView()})):t[a]=w[a]?u.fromTimezone(new Date(w[a]),r.timezone):null}),angular.forEach(["minMode","maxMode"],function(a){C[a]?q.push(D.$parent.$watch(C[a],function(b){t[a]=D[a]=angular.isDefined(b)?b:C[a],("minMode"===a&&t.modes.indexOf(D.datepickerMode)<t.modes.indexOf(t[a])||"maxMode"===a&&t.modes.indexOf(D.datepickerMode)>t.modes.indexOf(t[a]))&&(D.datepickerMode=t[a])})):t[a]=D[a]=w[a]||null}),angular.isDefined(C.initDate)?(this.activeDate=u.fromTimezone(D.$parent.$eval(C.initDate),r.timezone)||new Date,q.push(D.$parent.$watch(C.initDate,function(b){b&&(s.$isEmpty(s.$modelValue)||s.$invalid)&&(t.activeDate=u.fromTimezone(b,r.timezone),t.refreshView())}))):this.activeDate=new Date),D.datepickerMode=D.datepickerMode||w.datepickerMode,D.uniqueId="datepicker-"+D.$id+"-"+Math.floor(10000*Math.random()),D.disabled=angular.isDefined(C.disabled)||!1,angular.isDefined(C.ngDisabled)&&q.push(D.$parent.$watch(C.ngDisabled,function(a){D.disabled=a,t.refreshView()})),D.isActive=function(a){return 0===t.compare(a.date,t.activeDate)?(D.activeDateId=a.uid,!0):!1},this.init=function(b){s=b,r=b.$options||w.ngModelOptions,s.$modelValue&&(this.activeDate=s.$modelValue),s.$render=function(){t.render()}},this.render=function(){if(s.$viewValue){var d=new Date(s.$viewValue),c=!isNaN(d);c?this.activeDate=u.fromTimezone(d,r.timezone):v||y.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){D.selectedDt=null,this._refreshView(),D.activeDt&&(D.activeDateId=D.activeDt.uid);var a=s.$viewValue?new Date(s.$viewValue):null;a=u.fromTimezone(a,r.timezone),s.$setValidity("dateDisabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,h){var g=s.$viewValue?new Date(s.$viewValue):null;g=u.fromTimezone(g,r.timezone);var f={date:a,label:u.filter(a,h),selected:g&&0===this.compare(a,g),disabled:this.isDisabled(a),current:0===this.compare(a,new Date),customClass:this.customClass(a)||null};return g&&0===this.compare(a,g)&&(D.selectedDt=f),t.activeDate&&0===this.compare(f.date,t.activeDate)&&(D.activeDt=f),f},this.isDisabled=function(a){return D.disabled||this.minDate&&this.compare(a,this.minDate)<0||this.maxDate&&this.compare(a,this.maxDate)>0||C.dateDisabled&&D.dateDisabled({date:a,mode:D.datepickerMode})},this.customClass=function(a){return D.customClass({date:a,mode:D.datepickerMode})},this.split=function(e,d){for(var f=[];e.length>0;){f.push(e.splice(0,d))}return f},D.select=function(a){if(D.datepickerMode===t.minMode){var d=s.$viewValue?u.fromTimezone(new Date(s.$viewValue),r.timezone):new Date(0,0,0,0,0,0,0);d.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),d=u.toTimezone(d,r.timezone),s.$setViewValue(d),s.$render()}else{t.activeDate=a,D.datepickerMode=t.modes[t.modes.indexOf(D.datepickerMode)-1]}},D.move=function(e){var d=t.activeDate.getFullYear()+e*(t.step.years||0),f=t.activeDate.getMonth()+e*(t.step.months||0);t.activeDate.setFullYear(d,f,1),t.refreshView()},D.toggleMode=function(a){a=a||1,D.datepickerMode===t.maxMode&&1===a||D.datepickerMode===t.minMode&&-1===a||(D.datepickerMode=t.modes[t.modes.indexOf(D.datepickerMode)+a])},D.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var p=function(){t.element[0].focus()};D.$on("uib:datepicker.focus",p),D.keydown=function(a){var d=D.keys[a.which];if(d&&!a.shiftKey&&!a.altKey&&!D.disabled){if(a.preventDefault(),t.shortcutPropagation||a.stopPropagation(),"enter"===d||"space"===d){if(t.isDisabled(t.activeDate)){return}D.select(t.activeDate)}else{!a.ctrlKey||"up"!==d&&"down"!==d?(t.handleKeyDown(d,a),t.refreshView()):D.toggleMode("up"===d?1:-1)}}},D.$on("$destroy",function(){for(;q.length;){q.shift()()}})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(h,g,l){function k(d,c){return 1!==c||d%4!==0||d%100===0&&d%400!==0?i[c]:29}function j(e){var d=new Date(e);d.setDate(d.getDate()+4-(d.getDay()||7));var f=d.getTime();return d.setMonth(0),d.setDate(1),Math.floor(Math.round((f-d)/86400000)/7)+1}var i=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=g,this.init=function(a){angular.extend(a,this),h.showWeeks=a.showWeeks,a.refreshView()},this.getDates=function(n,m){for(var r,q=new Array(m),p=new Date(n),o=0;m>o;){r=new Date(p),q[o++]=r,p.setDate(p.getDate()+1)}return q},this._refreshView=function(){var x=this.activeDate.getFullYear(),w=this.activeDate.getMonth(),v=new Date(this.activeDate);v.setFullYear(x,w,1);var u=this.startingDay-v.getDay(),t=u>0?7-u:-u,s=new Date(v);t>0&&s.setDate(-t+1);for(var r=this.getDates(s,42),q=0;42>q;q++){r[q]=angular.extend(this.createDateObject(r[q],this.formatDay),{secondary:r[q].getMonth()!==w,uid:h.uniqueId+"-"+q})}h.labels=new Array(7);for(var p=0;7>p;p++){h.labels[p]={abbr:l(r[p].date,this.formatDayHeader),full:l(r[p].date,"EEEE")}}if(h.title=l(this.activeDate,this.formatDayTitle),h.rows=this.split(r,7),h.showWeeks){h.weekNumbers=[];for(var e=(11-this.startingDay)%7,c=h.rows.length,a=0;c>a;a++){h.weekNumbers.push(j(h.rows[a][e].date))}}},this.compare=function(f,e){var n=new Date(f.getFullYear(),f.getMonth(),f.getDate()),m=new Date(e.getFullYear(),e.getMonth(),e.getDate());return n.setFullYear(f.getFullYear()),m.setFullYear(e.getFullYear()),n-m},this.handleKeyDown=function(f,d){var n=this.activeDate.getDate();if("left"===f){n-=1}else{if("up"===f){n-=7}else{if("right"===f){n+=1}else{if("down"===f){n+=7}else{if("pageup"===f||"pagedown"===f){var m=this.activeDate.getMonth()+("pageup"===f?-1:1);this.activeDate.setMonth(m,1),n=Math.min(k(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else{"home"===f?n=1:"end"===f&&(n=k(this.activeDate.getFullYear(),this.activeDate.getMonth()))}}}}}this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,d,f){this.step={years:1},this.element=d,this.init=function(b){angular.extend(b,this),b.refreshView()},this._refreshView=function(){for(var a,h=new Array(12),g=this.activeDate.getFullYear(),c=0;12>c;c++){a=new Date(this.activeDate),a.setFullYear(g,c,1),h[c]=angular.extend(this.createDateObject(a,this.formatMonth),{uid:e.uniqueId+"-"+c})}e.title=f(this.activeDate,this.formatMonthTitle),e.rows=this.split(h,3)},this.compare=function(h,g){var j=new Date(h.getFullYear(),h.getMonth()),i=new Date(g.getFullYear(),g.getMonth());return j.setFullYear(h.getFullYear()),i.setFullYear(g.getFullYear()),j-i},this.handleKeyDown=function(h,g){var j=this.activeDate.getMonth();if("left"===h){j-=1}else{if("up"===h){j-=3}else{if("right"===h){j+=1}else{if("down"===h){j+=3}else{if("pageup"===h||"pagedown"===h){var i=this.activeDate.getFullYear()+("pageup"===h?-1:1);this.activeDate.setFullYear(i)}else{"home"===h?j=0:"end"===h&&(j=11)}}}}}this.activeDate.setMonth(j)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(h,g,l){function k(b){return parseInt((b-1)/i,10)*i+1}var j,i;this.element=g,this.yearpickerInit=function(){j=this.yearColumns,i=this.yearRows*j,this.step={years:i}},this._refreshView=function(){for(var a,f=new Array(i),e=0,d=k(this.activeDate.getFullYear());i>e;e++){a=new Date(this.activeDate),a.setFullYear(d+e,0,1),f[e]=angular.extend(this.createDateObject(a,this.formatYear),{uid:h.uniqueId+"-"+e})}h.title=[f[0].label,f[i-1].label].join(" - "),h.rows=this.split(f,j),h.columns=j},this.compare=function(d,c){return d.getFullYear()-c.getFullYear()},this.handleKeyDown=function(e,d){var f=this.activeDate.getFullYear();"left"===e?f-=1:"up"===e?f-=j:"right"===e?f+=1:"down"===e?f+=j:"pageup"===e||"pagedown"===e?f+=("pageup"===e?-1:1)*i:"home"===e?f=k(this.activeDate.getFullYear()):"end"===e&&(f=k(this.activeDate.getFullYear())+i-1),this.activeDate.setFullYear(f)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(d,c){return c.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",datepickerOptions:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(h,g,l,k){var j=k[0],i=k[1];j.init(i)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(d,c){return c.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],controller:"UibDaypickerController",link:function(h,g,l,k){var j=k[0],i=k[1];i.init(j)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(d,c){return c.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],controller:"UibMonthpickerController",link:function(h,g,l,k){var j=k[0],i=k[1];i.init(j)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(d,c){return c.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],controller:"UibYearpickerController",link:function(g,f,j,i){var h=i[0];angular.extend(h,i[1]),h.yearpickerInit(),h.refreshView()}}}).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepicker/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$parse","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig",function(ap,ao,an,am,al,ak,aj,ai,ah,ag,af,ae,ad){function ac(b){return b.replace(/([A-Z])/g,function(c){return"-"+c.toLowerCase()})}function ab(a){var f=ag.parse(a,S,ap.date);if(isNaN(f)){for(var e=0;e<R.length;e++){if(f=ag.parse(a,R[e],ap.date),!isNaN(f)){return f}}}return f}function aa(d){if(angular.isNumber(d)&&(d=new Date(d)),!d){return null}if(angular.isDate(d)&&!isNaN(d)){return d}if(angular.isString(d)){var c=ab(d);if(!isNaN(c)){return ag.toTimezone(c,V.timezone)}}return X.$options&&X.$options.allowInvalid?d:void 0}function Y(e,c){var f=e||c;return an.ngRequired||f?(angular.isNumber(f)&&(f=new Date(f)),f?angular.isDate(f)&&!isNaN(f)?!0:angular.isString(f)?!isNaN(ab(c)):!1:!0):!0}function W(h){if(ap.isOpen||!ap.disabled){var g=T[0],b=ao[0].contains(h.target),a=void 0!==g.contains&&g.contains(h.target);!ap.isOpen||b||a||ap.$apply(function(){ap.isOpen=!1})}}function U(a){27===a.which&&ap.isOpen?(a.preventDefault(),a.stopPropagation(),ap.$apply(function(){ap.isOpen=!1}),ao[0].focus()):40!==a.which||ap.isOpen||(a.preventDefault(),a.stopPropagation(),ap.$apply(function(){ap.isOpen=!0}))}var S,Q,O,M,K,J,I,Z,X,V,T,R,P={},N=!1,L=[];ap.watchData={},this.init=function(a){if(X=a,V=a.$options||ad.ngModelOptions,Q=angular.isDefined(an.closeOnDateSelection)?ap.$parent.$eval(an.closeOnDateSelection):af.closeOnDateSelection,O=angular.isDefined(an.datepickerAppendToBody)?ap.$parent.$eval(an.datepickerAppendToBody):af.appendToBody,M=angular.isDefined(an.onOpenFocus)?ap.$parent.$eval(an.onOpenFocus):af.onOpenFocus,K=angular.isDefined(an.datepickerPopupTemplateUrl)?an.datepickerPopupTemplateUrl:af.datepickerPopupTemplateUrl,J=angular.isDefined(an.datepickerTemplateUrl)?an.datepickerTemplateUrl:af.datepickerTemplateUrl,R=angular.isDefined(an.altInputFormats)?ap.$parent.$eval(an.altInputFormats):af.altInputFormats,ap.showButtonBar=angular.isDefined(an.showButtonBar)?ap.$parent.$eval(an.showButtonBar):af.showButtonBar,af.html5Types[an.type]?(S=af.html5Types[an.type],N=!0):(S=an.uibDatepickerPopup||af.datepickerPopup,an.$observe("uibDatepickerPopup",function(e,d){var f=e||af.datepickerPopup;if(f!==S&&(S=f,X.$modelValue=null,!S)){throw new Error("uibDatepickerPopup must have a date format specified.")}})),!S){throw new Error("uibDatepickerPopup must have a date format specified.")}if(N&&an.uibDatepickerPopup){throw new Error("HTML5 date input types do not support custom formats.")}I=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),ap.ngModelOptions=angular.copy(V),ap.ngModelOptions.timezone=null,I.attr({"ng-model":"date","ng-model-options":"ngModelOptions","ng-change":"dateSelection(date)","template-url":K}),Z=angular.element(I.children()[0]),Z.attr("template-url",J),N&&"month"===an.type&&(Z.attr("datepicker-mode",'"month"'),Z.attr("min-mode","month")),ap.datepickerOptions&&angular.forEach(ap.datepickerOptions,function(d,c){-1===["minDate","maxDate","minMode","maxMode","initDate","datepickerMode"].indexOf(c)?Z.attr(ac(c),d):Z.attr(ac(c),"datepickerOptions."+c)}),angular.forEach(["minMode","maxMode","datepickerMode","shortcutPropagation"],function(c){if(an[c]){var i=al(an[c]),h={get:function(){return i(ap.$parent)}};if(Z.attr(ac(c),"watchData."+c),"datepickerMode"===c){var e=i.assign;h.set=function(d){e(ap.$parent,d)}}Object.defineProperty(ap.watchData,c,h)}}),angular.forEach(["minDate","maxDate","initDate"],function(c){if(an[c]){var e=al(an[c]);L.push(ap.$parent.$watch(e,function(b){"minDate"===c||"maxDate"===c?(null===b?P[c]=null:angular.isDate(b)?P[c]=ag.fromTimezone(new Date(b),V.timezone):P[c]=new Date(ah(b,"medium")),ap.watchData[c]=null===b?null:P[c]):ap.watchData[c]=ag.fromTimezone(new Date(b),V.timezone)})),Z.attr(ac(c),"watchData."+c)}}),an.dateDisabled&&Z.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRows","yearColumns"],function(b){angular.isDefined(an[b])&&Z.attr(ac(b),an[b])}),an.customClass&&Z.attr("custom-class","customClass({ date: date, mode: mode })"),N?X.$formatters.push(function(c){return ap.date=ag.fromTimezone(c,V.timezone),c}):(X.$$parserName="date",X.$validators.date=Y,X.$parsers.unshift(aa),X.$formatters.push(function(c){return X.$isEmpty(c)?(ap.date=c,c):(ap.date=ag.fromTimezone(c,V.timezone),angular.isNumber(ap.date)&&(ap.date=new Date(ap.date)),ag.filter(ap.date,S))})),X.$viewChangeListeners.push(function(){ap.date=ab(X.$viewValue)}),ao.on("keydown",U),T=am(I)(ap),I.remove(),O?ak.find("body").append(T):ao.after(T),ap.$on("$destroy",function(){for(ap.isOpen===!0&&(aj.$$phase||ap.$apply(function(){ap.isOpen=!1})),T.remove(),ao.off("keydown",U),ak.off("click",W);L.length;){L.shift()()}})},ap.getText=function(a){return ap[a+"Text"]||af[a+"Text"]},ap.isDisabled=function(a){return"today"===a&&(a=new Date),ap.watchData.minDate&&ap.compare(a,P.minDate)<0||ap.watchData.maxDate&&ap.compare(a,P.maxDate)>0},ap.compare=function(d,c){return new Date(d.getFullYear(),d.getMonth(),d.getDate())-new Date(c.getFullYear(),c.getMonth(),c.getDate())},ap.dateSelection=function(b){angular.isDefined(b)&&(ap.date=b);var a=ap.date?ag.filter(ap.date,S):null;ao.val(a),X.$setViewValue(a),Q&&(ap.isOpen=!1,ao[0].focus())},ap.keydown=function(a){27===a.which&&(a.stopPropagation(),ap.isOpen=!1,ao[0].focus())},ap.select=function(a){if("today"===a){var d=new Date;angular.isDate(ap.date)?(a=new Date(ap.date),a.setFullYear(d.getFullYear(),d.getMonth(),d.getDate())):a=new Date(d.setHours(0,0,0,0))}ap.dateSelection(a)},ap.close=function(){ap.isOpen=!1,ao[0].focus()},ap.disabled=angular.isDefined(an.disabled)||!1,an.ngDisabled&&L.push(ap.$parent.$watch(al(an.ngDisabled),function(a){ap.disabled=a})),ap.$watch("isOpen",function(a){a?ap.disabled?ap.isOpen=!1:(ap.position=O?ai.offset(ao):ai.position(ao),ap.position.top=ap.position.top+ao.prop("offsetHeight"),ae(function(){M&&ap.$broadcast("uib:datepicker.focus"),ak.on("click",W)},0,!1)):ak.off("click",W)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(h,g,l,k){var j=k[0],i=k[1];i.init(j)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(d,c){return c.templateUrl||"uib/template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(b){return function(a,f){var e;return function(){var d=this,c=Array.prototype.slice.call(arguments);e&&b.cancel(e),e=b(function(){a.apply(d,c)},f)}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(g,f){var j=null;this.open=function(a){j||(g.on("click",i),g.on("keydown",h)),j&&j!==a&&(j.isOpen=!1),j=a},this.close=function(a){j===a&&(j=null,g.off("click",i),g.off("keydown",h))};var i=function(b){if(j&&!(b&&"disabled"===j.getAutoClose()||b&&3===b.which)){var k=j.getToggleElement();if(!(b&&k&&k[0].contains(b.target))){var c=j.getDropdownElement();b&&"outsideClick"===j.getAutoClose()&&c&&c[0].contains(b.target)||(j.isOpen=!1,f.$$phase||j.$apply())}}},h=function(b){27===b.which?(j.focusToggleElement(),i()):j.isKeynavEnabled()&&-1!==[38,40].indexOf(b.which)&&j.isOpen&&(b.preventDefault(),b.stopPropagation(),j.focusDropdownEntry(b.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(T,S,R,Q,P,O,N,M,L,K,J){var I,H,G=this,F=T.$new(),E=P.appendToOpenClass,D=P.openClass,C=angular.noop,B=R.onToggle?Q(R.onToggle):angular.noop,A=!1,z=null,y=!1,x=L.find("body");S.addClass("dropdown"),this.init=function(){if(R.isOpen&&(H=Q(R.isOpen),C=H.assign,T.$watch(H,function(b){F.isOpen=!!b})),angular.isDefined(R.dropdownAppendTo)){var a=Q(R.dropdownAppendTo)(F);a&&(z=angular.element(a))}A=angular.isDefined(R.dropdownAppendToBody),y=angular.isDefined(R.keyboardNav),A&&!z&&(z=x),z&&G.dropdownMenu&&(z.append(G.dropdownMenu),S.on("$destroy",function(){G.dropdownMenu.remove()}))},this.toggle=function(b){return F.isOpen=arguments.length?!!b:!F.isOpen},this.isOpen=function(){return F.isOpen},F.getToggleElement=function(){return G.toggleElement},F.getAutoClose=function(){return R.autoClose||"always"},F.getElement=function(){return S},F.isKeynavEnabled=function(){return y},F.focusDropdownEntry=function(b){var d=G.dropdownMenu?angular.element(G.dropdownMenu).find("a"):S.find("ul").eq(0).find("a");switch(b){case 40:angular.isNumber(G.selectedOption)?G.selectedOption=G.selectedOption===d.length-1?G.selectedOption:G.selectedOption+1:G.selectedOption=0;break;case 38:angular.isNumber(G.selectedOption)?G.selectedOption=0===G.selectedOption?0:G.selectedOption-1:G.selectedOption=d.length-1}d[G.selectedOption].focus()},F.getDropdownElement=function(){return G.dropdownMenu},F.focusToggleElement=function(){G.toggleElement&&G.toggleElement[0].focus()},F.$watch("isOpen",function(l,k){if(z&&G.dropdownMenu){var j,h,b=M.positionElements(S,G.dropdownMenu,"bottom-left",!0);if(j={top:b.top+"px",display:l?"block":"none"},h=G.dropdownMenu.hasClass("dropdown-menu-right"),h?(j.left="auto",j.right=window.innerWidth-(b.left+S.prop("offsetWidth"))+"px"):(j.left=b.left+"px",j.right="auto"),!A){var g=M.offset(z);j.top=b.top-g.top+"px",h?j.right=window.innerWidth-(b.left-g.left+S.prop("offsetWidth"))+"px":j.left=b.left-g.left+"px"}G.dropdownMenu.css(j)}var f=z?z:S;if(N[l?"addClass":"removeClass"](f,z?E:D).then(function(){angular.isDefined(l)&&l!==k&&B(T,{open:!!l})}),l){G.dropdownMenuTemplateUrl&&J(G.dropdownMenuTemplateUrl).then(function(c){I=F.$new(),K(c.trim())(I,function(e){var d=e;G.dropdownMenu.replaceWith(d),G.dropdownMenu=d})}),F.focusToggleElement(),O.open(F)}else{if(G.dropdownMenuTemplateUrl){I&&I.$destroy();var a=angular.element('<ul class="dropdown-menu"></ul>');G.dropdownMenu.replaceWith(a),G.dropdownMenu=a}O.close(F),G.selectedOption=null}angular.isFunction(C)&&C(T,l)}),T.$on("$locationChangeSuccess",function(){"disabled"!==F.getAutoClose()&&(F.isOpen=!1)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(f,e,h,g){g.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(g,f,j,i){if(i&&!angular.isDefined(j.dropdownNested)){f.addClass("dropdown-menu");var h=j.templateUrl;h&&(i.dropdownMenuTemplateUrl=h),i.dropdownMenu||(i.dropdownMenu=f)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(g,f,j,i){if(i){f.addClass("dropdown-toggle"),i.toggleElement=f;var h=function(a){a.preventDefault(),f.hasClass("disabled")||j.disabled||g.$apply(function(){i.toggle()})};f.bind("click",h),f.attr({"aria-haspopup":!0,"aria-expanded":!1}),g.$watch(i.isOpen,function(b){f.attr("aria-expanded",!!b)}),g.$on("$destroy",function(){f.unbind("click",h)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var b=[];return{add:function(a,d){b.push({key:a,value:d})},get:function(a){for(var d=0;d<b.length;d++){if(a===b[d].key){return b[d]}}},keys:function(){for(var a=[],d=0;d<b.length;d++){a.push(b[d].key)}return a},top:function(){return b[b.length-1]},remove:function(a){for(var f=-1,e=0;e<b.length;e++){if(a===b[e].key){f=e;break}}return b.splice(f,1)[0]},removeTop:function(){return b.splice(b.length-1,1)[0]},length:function(){return b.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",function(){return{createNew:function(){var b={};return{entries:function(){return Object.keys(b).map(function(a){return{key:a,value:b[a]}})},get:function(a){return b[a]},hasKey:function(a){return !!b[a]},keys:function(){return Object.keys(b)},put:function(a,d){b[a]||(b[a]=[]),b[a].push(d)},remove:function(a,h){var g=b[a];if(g){var f=g.indexOf(h);-1!==f&&g.splice(f,1),g.length||delete b[a]}}}}}}).provider("$uibResolve",function(){var b=this;this.resolver=null,this.setResolver=function(c){this.resolver=c},this.$get=["$injector","$q",function(a,f){var e=b.resolver?a.get(b.resolver):null;return{resolve:function(c,k,j,i){if(e){return e.resolve(c,k,j,i)}var d=[];return angular.forEach(c,function(g){angular.isFunction(g)||angular.isArray(g)?d.push(f.resolve(a.invoke(g))):angular.isString(g)?d.push(f.resolve(a.get(g))):d.push(f.resolve(g))}),f.all(d).then(function(g){var l={},h=0;return angular.forEach(c,function(m,n){l[n]=g[h++]}),l})}}}]}).directive("uibModalBackdrop",["$animateCss","$injector","$uibModalStack",function(f,e,h){function g(a,i,c){c.modalInClass&&(f(i,{addClass:c.modalInClass}).start(),a.$on(h.NOW_CLOSING_EVENT,function(j,d){var b=d();a.modalOptions.animation?f(i,{removeClass:c.modalInClass}).start().then(b):b()}))}return{replace:!0,templateUrl:"uib/template/modal/backdrop.html",compile:function(d,c){return d.addClass(c.backdropClass),g}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animate","$animateCss","$document",function(g,f,j,i,h){return{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(d,c){return c.templateUrl||"uib/template/modal/window.html"},link:function(d,c,b){c.addClass(b.windowClass||""),c.addClass(b.windowTopClass||""),d.size=b.size,d.close=function(e){var k=g.getTop();k&&k.value.backdrop&&"static"!==k.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),g.dismiss(k.key,"backdrop click"))},c.on("click",d.close),d.$isRendered=!0;var a=f.defer();b.$observe("modalRender",function(e){"true"===e&&a.resolve()}),a.promise.then(function(){var k=null;b.modalInClass&&(k=i(c,{addClass:b.modalInClass}).start(),d.$on(g.NOW_CLOSING_EVENT,function(m,l){var n=l();i?i(c,{removeClass:b.modalInClass}).start().then(n):j.removeClass(c,b.modalInClass).then(n)})),f.when(k).then(function(){if(!h[0].activeElement||!c[0].contains(h[0].activeElement)){var l=c[0].querySelector("[autofocus]");l?l.focus():c[0].focus()}});var e=g.getTop();e&&g.modalRendered(e.key)})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(d,c){c.modalAnimation&&d.addClass(c.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(g,f,j,i,h){h(g.$parent,function(b){f.empty(),f.append(b)})}}}).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap",function(V,U,T,S,R,Q,P,O){function N(){for(var e=-1,d=C.keys(),f=0;f<d.length;f++){C.get(d[f]).value.backdrop&&(e=f)}return e}function M(f,e){var h=C.get(f).value,g=h.appendTo;C.remove(f),J(h.modalDomEl,h.modalScope,function(){var a=h.openedClass||D;B.remove(a,f),g.toggleClass(a,B.hasKey(a)),L(!0)},h.closedDeferred),K(),e&&e.focus?e.focus():g.focus&&g.focus()}function L(d){var c;C.length()>0&&(c=C.top().value,c.modalDomEl.toggleClass(c.windowTopClass||"",d))}function K(){if(G&&-1===N()){var b=F;J(G,F,function(){b=null}),G=void 0,F=void 0}}function J(b,p,o,n){function m(){m.done||(m.done=!0,U(b,{event:"leave"}).start().then(function(){b.remove(),n&&n.resolve()}),p.$destroy(),o&&o())}var l,k=null,f=function(){return l||(l=Q.defer(),k=l.promise),function(){l.resolve()}};return p.$broadcast(A.NOW_CLOSING_EVENT,f),Q.when(k).then(m)}function I(e){if(e.isDefaultPrevented()){return e}var d=C.top();if(d){switch(e.which){case 27:d.value.keyboard&&(e.preventDefault(),R.$apply(function(){A.dismiss(d.key,"escape key press")}));break;case 9:A.loadFocusElementList(d);var f=!1;e.shiftKey?(A.isFocusInFirstItem(e)||A.isModalFocused(e,d))&&(f=A.focusLastFocusableElement()):A.isFocusInLastItem(e)&&(f=A.focusFirstFocusableElement()),f&&(e.preventDefault(),e.stopPropagation())}}}function H(e,d,f){return !e.value.modalScope.$broadcast("modal.closing",d,f).defaultPrevented}var G,F,E,D="modal-open",C=O.createNew(),B=P.createNew(),A={NOW_CLOSING_EVENT:"modal.stack.now-closing"},z=0,y="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return R.$watch(N,function(b){F&&(F.index=b)}),T.on("keydown",I),R.$on("$destroy",function(){T.off("keydown",I)}),A.open=function(c,n){var k=T[0].activeElement,i=n.openedClass||D;L(!1),C.add(c,{deferred:n.deferred,renderDeferred:n.renderDeferred,closedDeferred:n.closedDeferred,modalScope:n.scope,backdrop:n.backdrop,keyboard:n.keyboard,openedClass:n.openedClass,windowTopClass:n.windowTopClass,animation:n.animation,appendTo:n.appendTo}),B.put(i,c);var e=n.appendTo,d=N();if(!e.length){throw new Error("appendTo element not found. Make sure that the element passed is in DOM.")}d>=0&&!G&&(F=R.$new(!0),F.modalOptions=n,F.index=d,G=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),G.attr("backdrop-class",n.backdropClass),n.animation&&G.attr("modal-animation","true"),S(G)(F),V.enter(G,e));var a=angular.element('<div uib-modal-window="modal-window"></div>');a.attr({"template-url":n.windowTemplateUrl,"window-class":n.windowClass,"window-top-class":n.windowTopClass,size:n.size,index:C.length()-1,animate:"animate"}).html(n.content),n.animation&&a.attr("modal-animation","true"),V.enter(S(a)(n.scope),e).then(function(){V.addClass(e,i)}),C.top().value.modalDomEl=a,C.top().value.modalOpener=k,A.clearFocusListCache()},A.close=function(e,d){var f=C.get(e);return f&&H(f,d,!0)?(f.value.modalScope.$$uibDestructionScheduled=!0,f.value.deferred.resolve(d),M(e,f.value.modalOpener),!0):!f},A.dismiss=function(e,d){var f=C.get(e);return f&&H(f,d,!1)?(f.value.modalScope.$$uibDestructionScheduled=!0,f.value.deferred.reject(d),M(e,f.value.modalOpener),!0):!f},A.dismissAll=function(d){for(var c=this.getTop();c&&this.dismiss(c.key,d);){c=this.getTop()}},A.getTop=function(){return C.top()},A.modalRendered=function(d){var c=C.get(d);c&&c.value.renderDeferred.resolve()},A.focusFirstFocusableElement=function(){return E.length>0?(E[0].focus(),!0):!1},A.focusLastFocusableElement=function(){return E.length>0?(E[E.length-1].focus(),!0):!1},A.isModalFocused=function(e,d){if(e&&d){var f=d.value.modalDomEl;if(f&&f.length){return(e.target||e.srcElement)===f[0]}}return !1},A.isFocusInFirstItem=function(b){return E.length>0?(b.target||b.srcElement)===E[0]:!1},A.isFocusInLastItem=function(b){return E.length>0?(b.target||b.srcElement)===E[E.length-1]:!1},A.clearFocusListCache=function(){E=[],z=0},A.loadFocusElementList=function(d){if((void 0===E||!E.length)&&d){var c=d.value.modalDomEl;c&&c.length&&(E=c[0].querySelectorAll(y))}},A}]).provider("$uibModal",function(){var b={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,s,r,q,p,o,n){function m(c){return c.template?s.when(c.template):q(angular.isFunction(c.templateUrl)?c.templateUrl():c.templateUrl)}var l={},a=null;return l.getPromiseChain=function(){return a},l.open=function(v){function u(){return c}var k=s.defer(),i=s.defer(),h=s.defer(),g=s.defer(),f={result:k.promise,opened:i.promise,closed:h.promise,rendered:g.promise,close:function(e){return n.close(f,e)},dismiss:function(e){return n.dismiss(f,e)}};if(v=angular.extend({},b.options,v),v.resolve=v.resolve||{},v.appendTo=v.appendTo||r.find("body").eq(0),!v.template&&!v.templateUrl){throw new Error("One of template or templateUrl options is required.")}var d,c=s.all([m(v),o.resolve(v.resolve,{},null,null)]);return d=a=s.all([a]).then(u,u).then(function(e){var y=v.scope||t,x=y.$new();x.$close=f.close,x.$dismiss=f.dismiss,x.$on("$destroy",function(){x.$$uibDestructionScheduled||x.$dismiss("$uibUnscheduledDestruction")});var w,j={};v.controller&&(j.$scope=x,j.$uibModalInstance=f,angular.forEach(e[1],function(A,z){j[z]=A}),w=p(v.controller,j),v.controllerAs&&(v.bindToController&&(w.$close=x.$close,w.$dismiss=x.$dismiss,angular.extend(w,y)),x[v.controllerAs]=w)),n.open(f,{scope:x,deferred:k,renderDeferred:g,closedDeferred:h,content:e[0],animation:v.animation,backdrop:v.backdrop,keyboard:v.keyboard,backdropClass:v.backdropClass,windowTopClass:v.windowTopClass,windowClass:v.windowClass,windowTemplateUrl:v.windowTemplateUrl,size:v.size,openedClass:v.openedClass,appendTo:v.appendTo}),i.resolve(!0)},function(e){i.reject(e),k.reject(e)})["finally"](function(){a===d&&(a=null)}),f},l}]};return b}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(b){return{create:function(a,f,e){a.setNumPages=e.numPages?b(e.numPages).assign:angular.noop,a.ngModelCtrl={$setViewValue:angular.noop},a._watchers=[],a.init=function(d,c){a.ngModelCtrl=d,a.config=c,d.$render=function(){a.render()},e.itemsPerPage?a._watchers.push(f.$parent.$watch(b(e.itemsPerPage),function(g){a.itemsPerPage=parseInt(g,10),f.totalPages=a.calculateTotalPages(),a.updatePage()})):a.itemsPerPage=c.itemsPerPage,f.$watch("totalItems",function(g,h){(angular.isDefined(g)||g!==h)&&(f.totalPages=a.calculateTotalPages(),a.updatePage())})},a.calculateTotalPages=function(){var c=a.itemsPerPage<1?1:Math.ceil(f.totalItems/a.itemsPerPage);return Math.max(c||0,1)},a.render=function(){f.page=parseInt(a.ngModelCtrl.$viewValue,10)||1},f.selectPage=function(c,h){h&&h.preventDefault();var g=!f.ngDisabled||!h;g&&f.page!==c&&c>0&&c<=f.totalPages&&(h&&h.target&&h.target.blur(),a.ngModelCtrl.$setViewValue(c),a.ngModelCtrl.$render())},f.getText=function(c){return f[c+"Text"]||a.config[c+"Text"]},f.noPrevious=function(){return 1===f.page},f.noNext=function(){return f.page===f.totalPages},a.updatePage=function(){a.setNumPages(f.$parent,f.totalPages),f.page>f.totalPages?f.selectPage(f.totalPages):a.ngModelCtrl.$render()},f.$on("$destroy",function(){for(;a._watchers.length;){a._watchers.shift()()}})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(f,e,h,g){f.align=angular.isDefined(e.align)?f.$parent.$eval(e.align):g.align,h.create(this,f,e)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(b){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPagerController",controllerAs:"pager",templateUrl:function(d,c){return c.templateUrl||"uib/template/pager/pager.html"},replace:!0,link:function(a,l,k,j){var i=j[0],h=j[1];h&&i.init(h,b)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(z,y,x,w,v){function u(e,d,f){return{number:e,text:d,active:f}}function t(H,G){var F=[],E=1,D=G,C=angular.isDefined(r)&&G>r;C&&(q?(E=Math.max(H-Math.floor(r/2),1),D=E+r-1,D>G&&(D=G,E=D-r+1)):(E=(Math.ceil(H/r)-1)*r+1,D=Math.min(E+r-1,G)));for(var B=E;D>=B;B++){var A=u(B,B,B===H);F.push(A)}if(C&&r>0&&(!q||p||o)){if(E>1){if(!o||E>3){var l=u(E-1,"...",!1);F.unshift(l)}if(o){if(3===E){var k=u(2,"2",!1);F.unshift(k)}var j=u(1,"1",!1);F.unshift(j)}}if(G>D){if(!o||G-2>D){var i=u(D+1,"...",!1);F.push(i)}if(o){if(D===G-2){var f=u(G-1,G-1,!1);F.push(f)}var I=u(G,G,!1);F.push(I)}}}return F}var s=this,r=angular.isDefined(y.maxSize)?z.$parent.$eval(y.maxSize):v.maxSize,q=angular.isDefined(y.rotate)?z.$parent.$eval(y.rotate):v.rotate,p=angular.isDefined(y.forceEllipses)?z.$parent.$eval(y.forceEllipses):v.forceEllipses,o=angular.isDefined(y.boundaryLinkNumbers)?z.$parent.$eval(y.boundaryLinkNumbers):v.boundaryLinkNumbers;z.boundaryLinks=angular.isDefined(y.boundaryLinks)?z.$parent.$eval(y.boundaryLinks):v.boundaryLinks,z.directionLinks=angular.isDefined(y.directionLinks)?z.$parent.$eval(y.directionLinks):v.directionLinks,w.create(this,z,y),y.maxSize&&s._watchers.push(z.$parent.$watch(x(y.maxSize),function(b){r=parseInt(b,10),s.render()}));var n=this.render;this.render=function(){n(),z.page>0&&z.page<=z.totalPages&&(z.pages=t(z.page,z.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(d,c){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(f,e){return e.templateUrl||"uib/template/pagination/pagination.html"},replace:!0,link:function(b,l,k,j){var i=j[0],h=j[1];h&&i.init(h,c)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function f(i){var d=/[A-Z]/g,j="-";return i.replace(d,function(k,c){return(c?j:"")+k.toLowerCase()})}var e={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},h={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},g={};this.options=function(b){angular.extend(g,b)},this.setTriggers=function(b){angular.extend(h,b)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(v,u,t,s,r,q,p,d,c){function b(j){if(27===j.which){var i=a.top();i&&(i.value.close(),a.removeTop(),i=null)}}var a=c.createNew();return s.on("keypress",b),p.$on("$destroy",function(){s.off("keypress",b)}),function(y,x,w,o){function l(m){var k=(m||o.trigger||w).split(" "),n=k.map(function(B){return h[B]||B});return{show:k,hide:n}}o=angular.extend({},e,g,o);var j=f(y),i=q.startSymbol(),A=q.endSymbol(),z="<div "+j+'-popup title="'+i+"title"+A+'" '+(o.useContentExp?'content-exp="contentExp()" ':'content="'+i+"content"+A+'" ')+'placement="'+i+"placement"+A+'" popup-class="'+i+"popupClass"+A+'" animation="animation" is-open="isOpen"origin-scope="origScope" style="visibility: hidden; display: block; top: -9999px; left: -9999px;"></div>';return{compile:function(m,k){var n=u(z);return function(aI,aH,aG,aF){function aE(){af.isOpen?aC():aD()}function aD(){(!ag||aI.$eval(aG[x+"Enable"]))&&(ay(),av(),af.popupDelay?al||(al=t(aB,af.popupDelay,!1)):aB())}function aC(){aA(),af.popupCloseDelay?ak||(ak=t(az,af.popupCloseDelay,!1)):az()}function aB(){return aA(),ay(),af.content?(ax(),void af.$evalAsync(function(){af.isOpen=!0,au(!0),aa()})):angular.noop}function aA(){al&&(t.cancel(al),al=null),aj&&(t.cancel(aj),aj=null)}function az(){af&&af.$evalAsync(function(){af&&(af.isOpen=!1,au(!1),af.animation?am||(am=t(aw,150,!1)):aw())})}function ay(){ak&&(t.cancel(ak),ak=null),am&&(t.cancel(am),am=null)}function ax(){ao||(an=af.$new(),ao=n(an,function(B){ai?s.find("body").append(B):aH.after(B)}),at())}function aw(){aA(),ay(),ar(),ao&&(ao.remove(),ao=null),an&&(an.$destroy(),an=null)}function av(){af.title=aG[x+"Title"],ac?af.content=ac(aI):af.content=aG[y],af.popupClass=aG[x+"Class"],af.placement=angular.isDefined(aG[x+"Placement"])?aG[x+"Placement"]:o.placement;var B=parseInt(aG[x+"PopupDelay"],10),C=parseInt(aG[x+"PopupCloseDelay"],10);af.popupDelay=isNaN(B)?o.popupDelay:B,af.popupCloseDelay=isNaN(C)?o.popupCloseDelay:C}function au(B){ad&&angular.isFunction(ad.assign)&&ad.assign(aI,B)}function at(){ab.length=0,ac?(ab.push(aI.$watch(ac,function(B){af.content=B,!B&&af.isOpen&&az()})),ab.push(an.$watch(function(){ae||(ae=!0,an.$$postDigest(function(){ae=!1,af&&af.isOpen&&aa()}))}))):ab.push(aG.$observe(y,function(B){af.content=B,!B&&af.isOpen?az():aa()})),ab.push(aG.$observe(x+"Title",function(B){af.title=B,af.isOpen&&aa()})),ab.push(aG.$observe(x+"Placement",function(B){af.placement=B?B:o.placement,af.isOpen&&aa()}))}function ar(){ab.length&&(angular.forEach(ab,function(B){B()}),ab.length=0)}function aq(B){af&&af.isOpen&&ao&&(aH[0].contains(B.target)||ao[0].contains(B.target)||aC())}function ap(){var B=aG[x+"Trigger"];Z(),ah=l(B),"none"!==ah.show&&ah.show.forEach(function(C,D){"outsideClick"===C?(aH.on("click",aE),s.on("click",aq)):C===ah.hide[D]?aH.on(C,aE):C&&(aH.on(C,aD),aH.on(ah.hide[D],aC)),aH.on("keypress",function(E){27===E.which&&aC()})})}var ao,an,am,al,ak,aj,ai=angular.isDefined(o.appendToBody)?o.appendToBody:!1,ah=l(void 0),ag=angular.isDefined(aG[x+"Enable"]),af=aI.$new(!0),ae=!1,ad=angular.isDefined(aG[x+"IsOpen"])?d(aG[x+"IsOpen"]):!1,ac=o.useContentExp?d(aG[y]):!1,ab=[],aa=function(){ao&&ao.html()&&(aj||(aj=t(function(){ao.css({top:0,left:0});var B=r.positionElements(aH,ao,af.placement,ai);ao.css({top:B.top+"px",left:B.left+"px",visibility:"visible"}),o.placementClassPrefix&&ao.removeClass("top bottom left right"),ao.removeClass(o.placementClassPrefix+"top "+o.placementClassPrefix+"top-left "+o.placementClassPrefix+"top-right "+o.placementClassPrefix+"bottom "+o.placementClassPrefix+"bottom-left "+o.placementClassPrefix+"bottom-right "+o.placementClassPrefix+"left "+o.placementClassPrefix+"left-top "+o.placementClassPrefix+"left-bottom "+o.placementClassPrefix+"right "+o.placementClassPrefix+"right-top "+o.placementClassPrefix+"right-bottom");var C=B.placement.split("-");ao.addClass(C[0]+" "+o.placementClassPrefix+B.placement),r.positionArrow(ao,B.placement),aj=null},0,!1)))};af.origScope=aI,af.isOpen=!1,a.add(af,{close:az}),af.contentExp=function(){return af.content},aG.$observe("disabled",function(B){B&&aA(),B&&af.isOpen&&az()}),ad&&aI.$watch(ad,function(B){af&&!B===af.isOpen&&aE()});var Z=function(){ah.show.forEach(function(B){"outsideClick"===B?aH.off("click",aE):(aH.off(B,aD),aH.off(B,aE))}),ah.hide.forEach(function(B){"outsideClick"===B?s.off("click",aq):aH.off(B,aC)})};ap();var Y=aI.$eval(aG[x+"Animation"]);af.animation=angular.isDefined(Y)?!!Y:o.animation;var X,W=x+"AppendToBody";X=W in aG&&void 0===aG[W]?!0:aI.$eval(aG[W]),ai=angular.isDefined(X)?X:ai,aI.$on("$destroy",function(){Z(),aw(),a.remove(af),af=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(f,e,h,g){return{link:function(r,q,p){var o,n,d,c=r.$eval(p.tooltipTemplateTranscludeScope),b=0,a=function(){n&&(n.remove(),n=null),o&&(o.$destroy(),o=null),d&&(f.leave(d).then(function(){n=null}),n=d,d=null)};r.$watch(e.parseAsResourceUrl(p.uibTooltipTemplateTransclude),function(i){var j=++b;i?(g(i,!0).then(function(m){if(j===b){var l=c.$new(),k=m,s=h(k)(l,function(t){a(),f.enter(t,q)});o=l,d=s,o.$emit("$includeContentLoaded",i)}},function(){j===b&&(a(),r.$emit("$includeContentError",i))}),r.$emit("$includeContentRequested",i)):a()}),r.$on("$destroy",a)}}}]).directive("uibTooltipClasses",["$uibPosition",function(b){return{restrict:"A",link:function(a,h,g){if(a.placement){var f=b.parsePlacement(a.placement);h.addClass(f[0])}else{h.addClass("top")}a.popupClass&&h.addClass(a.popupClass),a.animation()&&h.addClass(g.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(b){return b("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(b){return b("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(b){return b("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(b){return b("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(b){return b("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(b){return b("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(g,f,j){var i=this,h=angular.isDefined(f.animate)?g.$parent.$eval(f.animate):j.animate;this.bars=[],g.max=angular.isDefined(g.max)?g.max:j.max,this.addBar=function(a,e,d){h||e.css({transition:"none"}),this.bars.push(a),a.max=g.max,a.title=d&&angular.isDefined(d.title)?d.title:"progressbar",a.$watch("value",function(b){a.recalculatePercentage()}),a.recalculatePercentage=function(){var b=i.bars.reduce(function(k,c){return c.percent=+(100*c.value/c.max).toFixed(2),k+c.percent},0);b>100&&(a.percent-=b-100)},a.$on("$destroy",function(){e=null,i.removeBar(a)})},this.removeBar=function(b){this.bars.splice(this.bars.indexOf(b),1),this.bars.forEach(function(c){c.recalculatePercentage()})},g.$watch("max",function(a){i.bars.forEach(function(c){c.max=g.max,c.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(f,e,h,g){g.addBar(f,e,h)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(f,e,h,g){g.addBar(f,angular.element(e.children()[0]),{title:h.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(f,e,h){var g={$setViewValue:angular.noop};this.init=function(c){g=c,g.$render=this.render,g.$formatters.push(function(d){return angular.isNumber(d)&&d<<0!==d&&(d=Math.round(d)),d}),this.stateOn=angular.isDefined(e.stateOn)?f.$parent.$eval(e.stateOn):h.stateOn,this.stateOff=angular.isDefined(e.stateOff)?f.$parent.$eval(e.stateOff):h.stateOff;var b=angular.isDefined(e.titles)?f.$parent.$eval(e.titles):h.titles;this.titles=angular.isArray(b)&&b.length>0?b:h.titles;var a=angular.isDefined(e.ratingStates)?f.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?f.$parent.$eval(e.max):h.max);f.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(i){for(var d=0,j=i.length;j>d;d++){i[d]=angular.extend({index:d},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(d)},i[d])}return i},this.getTitle=function(b){return b>=this.titles.length?b+1:this.titles[b]},f.rate=function(a){!f.readonly&&a>=0&&a<=f.range.length&&(g.$setViewValue(g.$viewValue===a?0:a),g.$render())},f.enter=function(a){f.readonly||(f.value=a),f.onHover({value:a})},f.reset=function(){f.value=g.$viewValue,f.onLeave()},f.onKeydown=function(a){/(37|38|39|40)/.test(a.which)&&(a.preventDefault(),a.stopPropagation(),f.rate(f.value+(38===a.which||39===a.which?1:-1)))},this.render=function(){f.value=g.$viewValue}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",replace:!0,link:function(h,g,l,k){var j=k[0],i=k[1];j.init(i)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(f){var e=this,h=e.tabs=f.tabs=[];e.select=function(b){angular.forEach(h,function(a){a.active&&a!==b&&(a.active=!1,a.onDeselect(),b.selectCalled=!1)}),b.active=!0,b.selectCalled||(b.onSelect(),b.selectCalled=!0)},e.addTab=function(b){h.push(b),1===h.length&&b.active!==!1?b.active=!0:b.active?e.select(b):b.active=!1},e.removeTab=function(b){var d=h.indexOf(b);if(b.active&&h.length>1&&!g){var c=d===h.length-1?d-1:d+1;e.select(h[c])}h.splice(d,1)};var g;f.$on("$destroy",function(){g=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{type:"@"},controller:"UibTabsetController",templateUrl:"uib/template/tabs/tabset.html",link:function(e,d,f){e.vertical=angular.isDefined(f.vertical)?e.$parent.$eval(f.vertical):!1,e.justified=angular.isDefined(f.justified)?e.$parent.$eval(f.justified):!1}}}).directive("uibTab",["$parse",function(b){return{require:"^uibTabset",replace:!0,templateUrl:"uib/template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(a,j,i,h,g){a.$watch("active",function(c){c&&h.select(a)}),a.disabled=!1,i.disable&&a.$parent.$watch(b(i.disable),function(c){a.disabled=!!c}),a.select=function(){a.disabled||(a.active=!0)},h.addTab(a),a.$on("$destroy",function(){h.removeTab(a)}),a.$transcludeFn=g}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(d,c){d.$watch("headingElement",function(b){b&&(c.html(""),c.append(b))})}}}).directive("uibTabContentTransclude",function(){function b(c){return c.tagName&&(c.hasAttribute("uib-tab-heading")||c.hasAttribute("data-uib-tab-heading")||c.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===c.tagName.toLowerCase()||"data-uib-tab-heading"===c.tagName.toLowerCase()||"x-uib-tab-heading"===c.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(a,h,g){var f=a.$eval(g.uibTabContentTransclude);f.$transcludeFn(f.$parent,function(c){angular.forEach(c,function(d){b(d)?f.headingElement=d:h.append(d)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(ab,aa,Z,Y,X,W,V){function U(){var a=+ab.hours,d=ab.showMeridian?a>0&&13>a:a>=0&&24>a;return d?(ab.showMeridian&&(12===a&&(a=0),ab.meridian===G[1]&&(a+=12)),a):void 0}function T(){var a=+ab.minutes;return a>=0&&60>a?a:void 0}function S(){var a=+ab.seconds;return a>=0&&60>a?a:void 0}function R(b){return null===b?"":angular.isDefined(b)&&b.toString().length<2?"0"+b:b.toString()}function Q(b){P(),H.$setViewValue(new Date(J)),O(b)}function P(){H.$setValidity("time",!0),ab.invalidHours=!1,ab.invalidMinutes=!1,ab.invalidSeconds=!1}function O(a){if(H.$modelValue){var h=J.getHours(),g=J.getMinutes(),f=J.getSeconds();ab.showMeridian&&(h=0===h||12===h?12:h%12),ab.hours="h"===a?h:R(h),"m"!==a&&(ab.minutes=R(g)),ab.meridian=J.getHours()<12?G[0]:G[1],"s"!==a&&(ab.seconds=R(f)),ab.meridian=J.getHours()<12?G[0]:G[1]}else{ab.hours=null,ab.minutes=null,ab.seconds=null,ab.meridian=G[0]}}function N(b){J=K(J,b),Q()}function M(d,c){return K(d,60*c)}function K(f,e){var h=new Date(f.getTime()+1000*e),g=new Date(f);return g.setHours(h.getHours(),h.getMinutes(),h.getSeconds()),g}var J=new Date,I=[],H={$setViewValue:angular.noop},G=angular.isDefined(Z.meridians)?ab.$parent.$eval(Z.meridians):V.meridians||W.DATETIME_FORMATS.AMPMS;ab.tabindex=angular.isDefined(Z.tabindex)?Z.tabindex:0,aa.removeAttr("tabindex"),this.init=function(a,n){H=a,H.$render=this.render,H.$formatters.unshift(function(b){return b?new Date(b):null});var m=n.eq(0),l=n.eq(1),k=n.eq(2),g=angular.isDefined(Z.mousewheel)?ab.$parent.$eval(Z.mousewheel):V.mousewheel;g&&this.setupMousewheelEvents(m,l,k);var c=angular.isDefined(Z.arrowkeys)?ab.$parent.$eval(Z.arrowkeys):V.arrowkeys;c&&this.setupArrowkeyEvents(m,l,k),ab.readonlyInput=angular.isDefined(Z.readonlyInput)?ab.$parent.$eval(Z.readonlyInput):V.readonlyInput,this.setupInputEvents(m,l,k)};var F=V.hourStep;Z.hourStep&&I.push(ab.$parent.$watch(Y(Z.hourStep),function(b){F=+b}));var E=V.minuteStep;Z.minuteStep&&I.push(ab.$parent.$watch(Y(Z.minuteStep),function(b){E=+b}));var D;I.push(ab.$parent.$watch(Y(Z.min),function(d){var c=new Date(d);D=isNaN(c)?void 0:c}));var C;I.push(ab.$parent.$watch(Y(Z.max),function(d){var c=new Date(d);C=isNaN(c)?void 0:c}));var B=!1;Z.ngDisabled&&I.push(ab.$parent.$watch(Y(Z.ngDisabled),function(b){B=b})),ab.noIncrementHours=function(){var b=M(J,60*F);return B||b>C||J>b&&D>b},ab.noDecrementHours=function(){var b=M(J,60*-F);return B||D>b||b>J&&b>C},ab.noIncrementMinutes=function(){var b=M(J,E);return B||b>C||J>b&&D>b},ab.noDecrementMinutes=function(){var b=M(J,-E);return B||D>b||b>J&&b>C},ab.noIncrementSeconds=function(){var b=K(J,L);return B||b>C||J>b&&D>b},ab.noDecrementSeconds=function(){var b=K(J,-L);return B||D>b||b>J&&b>C},ab.noToggleMeridian=function(){return J.getHours()<12?B||M(J,720)>C:B||M(J,-720)<D};var L=V.secondStep;Z.secondStep&&I.push(ab.$parent.$watch(Y(Z.secondStep),function(b){L=+b})),ab.showSeconds=V.showSeconds,Z.showSeconds&&I.push(ab.$parent.$watch(Y(Z.showSeconds),function(a){ab.showSeconds=!!a})),ab.showMeridian=V.showMeridian,Z.showMeridian&&I.push(ab.$parent.$watch(Y(Z.showMeridian),function(a){if(ab.showMeridian=!!a,H.$error.time){var f=U(),e=T();angular.isDefined(f)&&angular.isDefined(e)&&(J.setHours(f),Q())}else{O()}})),this.setupMousewheelEvents=function(a,h,g){var f=function(d){d.originalEvent&&(d=d.originalEvent);var c=d.wheelDelta?d.wheelDelta:-d.deltaY;return d.detail||c>0};a.bind("mousewheel wheel",function(c){B||ab.$apply(f(c)?ab.incrementHours():ab.decrementHours()),c.preventDefault()}),h.bind("mousewheel wheel",function(c){B||ab.$apply(f(c)?ab.incrementMinutes():ab.decrementMinutes()),c.preventDefault()}),g.bind("mousewheel wheel",function(c){B||ab.$apply(f(c)?ab.incrementSeconds():ab.decrementSeconds()),c.preventDefault()})},this.setupArrowkeyEvents=function(a,f,e){a.bind("keydown",function(c){B||(38===c.which?(c.preventDefault(),ab.incrementHours(),ab.$apply()):40===c.which&&(c.preventDefault(),ab.decrementHours(),ab.$apply()))}),f.bind("keydown",function(c){B||(38===c.which?(c.preventDefault(),ab.incrementMinutes(),ab.$apply()):40===c.which&&(c.preventDefault(),ab.decrementMinutes(),ab.$apply()))}),e.bind("keydown",function(c){B||(38===c.which?(c.preventDefault(),ab.incrementSeconds(),ab.$apply()):40===c.which&&(c.preventDefault(),ab.decrementSeconds(),ab.$apply()))})},this.setupInputEvents=function(a,h,g){if(ab.readonlyInput){return ab.updateHours=angular.noop,ab.updateMinutes=angular.noop,void (ab.updateSeconds=angular.noop)}var f=function(e,j,i){H.$setViewValue(null),H.$setValidity("time",!1),angular.isDefined(e)&&(ab.invalidHours=e),angular.isDefined(j)&&(ab.invalidMinutes=j),angular.isDefined(i)&&(ab.invalidSeconds=i)};ab.updateHours=function(){var d=U(),c=T();H.$setDirty(),angular.isDefined(d)&&angular.isDefined(c)?(J.setHours(d),J.setMinutes(c),D>J||J>C?f(!0):Q("h")):f(!0)},a.bind("blur",function(c){H.$setTouched(),null===ab.hours||""===ab.hours?f(!0):!ab.invalidHours&&ab.hours<10&&ab.$apply(function(){ab.hours=R(ab.hours)})}),ab.updateMinutes=function(){var d=T(),c=U();H.$setDirty(),angular.isDefined(d)&&angular.isDefined(c)?(J.setHours(c),J.setMinutes(d),D>J||J>C?f(void 0,!0):Q("m")):f(void 0,!0)},h.bind("blur",function(c){H.$setTouched(),null===ab.minutes?f(void 0,!0):!ab.invalidMinutes&&ab.minutes<10&&ab.$apply(function(){ab.minutes=R(ab.minutes)})}),ab.updateSeconds=function(){var b=S();H.$setDirty(),angular.isDefined(b)?(J.setSeconds(b),Q("s")):f(void 0,void 0,!0)},g.bind("blur",function(c){!ab.invalidSeconds&&ab.seconds<10&&ab.$apply(function(){ab.seconds=R(ab.seconds)})})},this.render=function(){var a=H.$viewValue;isNaN(a)?(H.$setValidity("time",!1),X.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(J=a),D>J||J>C?(H.$setValidity("time",!1),ab.invalidHours=!0,ab.invalidMinutes=!0):P(),O())},ab.showSpinners=angular.isDefined(Z.showSpinners)?ab.$parent.$eval(Z.showSpinners):V.showSpinners,ab.incrementHours=function(){ab.noIncrementHours()||N(60*F*60)},ab.decrementHours=function(){ab.noDecrementHours()||N(60*-F*60)},ab.incrementMinutes=function(){ab.noIncrementMinutes()||N(60*E)},ab.decrementMinutes=function(){ab.noDecrementMinutes()||N(60*-E)},ab.incrementSeconds=function(){ab.noIncrementSeconds()||N(L)},ab.decrementSeconds=function(){ab.noDecrementSeconds()||N(-L)},ab.toggleMeridian=function(){var a=T(),d=U();ab.noToggleMeridian()||(angular.isDefined(a)&&angular.isDefined(d)?N(720*(J.getHours()<12?60:-60)):ab.meridian=ab.meridian===G[0]?G[1]:G[0])},ab.blur=function(){H.$setTouched()},ab.$on("$destroy",function(){for(;I.length;){I.shift()()}})}]).directive("uibTimepicker",["uibTimepickerConfig",function(b){return{require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(a,d){return d.templateUrl||b.templateUrl},link:function(h,g,l,k){var j=k[0],i=k[1];i&&j.init(i,g.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(d){var c=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(b){var a=b.match(c);if(!a){throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+b+'".')}return{itemName:a[3],source:d(a[4]),viewMapper:d(a[2]||a[1]),modelMapper:d(a[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(a3,a2,a1,a0,aZ,aY,aX,aW,aV,aU,aT,aS,aR){function aQ(){an.moveInProgress||(an.moveInProgress=!0,an.$digest()),ac()}function aP(){an.position=ay?aS.offset(a2):aS.position(a2),an.position.top+=a2.prop("offsetHeight")}var aO,aN,aM=[9,13,27,38,40],aL=200,aK=a3.$eval(a1.typeaheadMinLength);aK||0===aK||(aK=1);var aJ=a3.$eval(a1.typeaheadWaitMs)||0,aI=a3.$eval(a1.typeaheadEditable)!==!1;a3.$watch(a1.typeaheadEditable,function(b){aI=b!==!1});var aH,aG,aF=aZ(a1.typeaheadLoading).assign||angular.noop,aE=aZ(a1.typeaheadOnSelect),aB=angular.isDefined(a1.typeaheadSelectOnBlur)?a3.$eval(a1.typeaheadSelectOnBlur):!1,aA=aZ(a1.typeaheadNoResults).assign||angular.noop,az=a1.typeaheadInputFormatter?aZ(a1.typeaheadInputFormatter):void 0,ay=a1.typeaheadAppendToBody?a3.$eval(a1.typeaheadAppendToBody):!1,ax=a1.typeaheadAppendTo?a3.$eval(a1.typeaheadAppendTo):null,aw=a3.$eval(a1.typeaheadFocusFirst)!==!1,av=a1.typeaheadSelectOnExact?a3.$eval(a1.typeaheadSelectOnExact):!1,au=aZ(a1.typeaheadIsOpen).assign||angular.noop,at=a3.$eval(a1.typeaheadShowHint)||!1,ar=aZ(a1.ngModel),aq=aZ(a1.ngModel+"($$$p)"),ap=function(a,d){return angular.isFunction(ar(a3))&&aN&&aN.$options&&aN.$options.getterSetter?aq(a,{$$$p:d}):ar.assign(a,d)},ao=aR.parse(a1.uibTypeahead),an=a3.$new(),am=a3.$on("$destroy",function(){an.$destroy()});an.$on("$destroy",am);var al="typeahead-"+an.$id+"-"+Math.floor(10000*Math.random());a2.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":al});var ak,aj;at&&(ak=angular.element("<div></div>"),ak.css("position","relative"),a2.after(ak),aj=a2.clone(),aj.attr("placeholder",""),aj.val(""),aj.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),a2.css({position:"relative","vertical-align":"top","background-color":"transparent"}),ak.append(aj),aj.after(a2));var ai=angular.element("<div uib-typeahead-popup></div>");ai.attr({id:al,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(a1.typeaheadTemplateUrl)&&ai.attr("template-url",a1.typeaheadTemplateUrl),angular.isDefined(a1.typeaheadPopupTemplateUrl)&&ai.attr("popup-template-url",a1.typeaheadPopupTemplateUrl);var ah=function(){at&&aj.val("")},ag=function(){an.matches=[],an.activeIdx=-1,a2.attr("aria-expanded",!1),ah()},af=function(b){return al+"-option-"+b};an.$watch("activeIdx",function(b){0>b?a2.removeAttr("aria-activedescendant"):a2.attr("aria-activedescendant",af(b))});var ae=function(d,c){return an.matches.length>c&&d?d.toUpperCase()===an.matches[c].label.toUpperCase():!1},ad=function(f,b){var a={$viewValue:f};aF(a3,!0),aA(a3,!1),aY.when(ao.source(a3,a)).then(function(j){var e=f===aO.$viewValue;if(e&&aH){if(j&&j.length>0){an.activeIdx=aw?0:-1,aA(a3,!1),an.matches.length=0;for(var d=0;d<j.length;d++){a[ao.itemName]=j[d],an.matches.push({id:af(d),label:ao.viewMapper(an,a),model:j[d]})}if(an.query=f,aP(),a2.attr("aria-expanded",!0),av&&1===an.matches.length&&ae(f,0)&&(angular.isNumber(an.debounceUpdate)||angular.isObject(an.debounceUpdate)?aT(function(){an.select(0,b)},angular.isNumber(an.debounceUpdate)?an.debounceUpdate:an.debounceUpdate["default"]):an.select(0,b)),at){var c=an.matches[0].label;angular.isString(f)&&f.length>0&&c.slice(0,f.length).toUpperCase()===f.toUpperCase()?aj.val(f+c.slice(f.length)):aj.val("")}}else{ag(),aA(a3,!0)}}e&&aF(a3,!1)},function(){ag(),aF(a3,!1),aA(a3,!0)})};ay&&(angular.element(aV).on("resize",aQ),aW.find("body").on("scroll",aQ));var ac=aT(function(){an.matches.length&&aP(),an.moveInProgress=!1},aL);an.moveInProgress=!1,an.query=void 0;var ab,aD=function(b){ab=aX(function(){ad(b)},aJ)},a5=function(){ab&&aX.cancel(ab)};ag(),an.assignIsOpen=function(a){au(a3,a)},an.select=function(j,g){var c,b,a={};aG=!0,a[ao.itemName]=b=an.matches[j].model,c=ao.modelMapper(a3,a),ap(a3,c),aO.$setValidity("editable",!0),aO.$setValidity("parse",!0),aE(a3,{$item:b,$model:c,$label:ao.viewMapper(a3,a),$event:g}),ag(),an.$eval(a1.typeaheadFocusOnSelect)!==!1&&aX(function(){a2[0].focus()},0,!1)},a2.on("keydown",function(d){if(0!==an.matches.length&&-1!==aM.indexOf(d.which)){if(-1===an.activeIdx&&(9===d.which||13===d.which)){return ag(),void an.$digest()}d.preventDefault();var c;switch(d.which){case 9:case 13:an.$apply(function(){angular.isNumber(an.debounceUpdate)||angular.isObject(an.debounceUpdate)?aT(function(){an.select(an.activeIdx,d)},angular.isNumber(an.debounceUpdate)?an.debounceUpdate:an.debounceUpdate["default"]):an.select(an.activeIdx,d)});break;case 27:d.stopPropagation(),ag(),an.$digest();break;case 38:an.activeIdx=(an.activeIdx>0?an.activeIdx:an.matches.length)-1,an.$digest(),c=ai.find("li")[an.activeIdx],c.parentNode.scrollTop=c.offsetTop;break;case 40:an.activeIdx=(an.activeIdx+1)%an.matches.length,an.$digest(),c=ai.find("li")[an.activeIdx],c.parentNode.scrollTop=c.offsetTop}}}),a2.bind("focus",function(b){aH=!0,0!==aK||aO.$viewValue||aX(function(){ad(aO.$viewValue,b)},0)}),a2.bind("blur",function(b){aB&&an.matches.length&&-1!==an.activeIdx&&!aG&&(aG=!0,an.$apply(function(){angular.isObject(an.debounceUpdate)&&angular.isNumber(an.debounceUpdate.blur)?aT(function(){an.select(an.activeIdx,b)},an.debounceUpdate.blur):an.select(an.activeIdx,b)})),!aI&&aO.$error.editable&&(aO.$viewValue="",a2.val("")),aH=!1,aG=!1});var aC=function(b){a2[0]!==b.target&&3!==b.which&&0!==an.matches.length&&(ag(),aU.$$phase||an.$digest())};aW.on("click",aC),a3.$on("$destroy",function(){aW.off("click",aC),(ay||ax)&&a4.remove(),ay&&(angular.element(aV).off("resize",aQ),aW.find("body").off("scroll",aQ)),ai.remove(),at&&ak.remove()});var a4=a0(ai)(an);ay?aW.find("body").append(a4):ax?angular.element(ax).eq(0).append(a4):a2.after(a4),this.init=function(a,d){aO=a,aN=d,an.debounceUpdate=aO.$options&&aZ(aO.$options.debounce)(a3),aO.$parsers.unshift(function(c){return aH=!0,0===aK||c&&c.length>=aK?aJ>0?(a5(),aD(c)):ad(c):(aF(a3,!1),a5(),ag()),aI?c:c?void aO.$setValidity("editable",!1):(aO.$setValidity("editable",!0),null)}),aO.$formatters.push(function(f){var i,h,g={};return aI||aO.$setValidity("editable",!0),az?(g.$model=f,az(a3,g)):(g[ao.itemName]=f,i=ao.viewMapper(a3,g),g[ao.itemName]=void 0,h=ao.viewMapper(a3,g),i!==h?i:f)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(f,e,h,g){g[2].init(g[0],g[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(b){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(d,c){return c.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(a,f,e){a.templateUrl=e.templateUrl,a.isOpen=function(){var c=a.matches.length>0;return a.assignIsOpen({isOpen:c}),c},a.isActive=function(c){return a.active===c},a.selectActive=function(c){a.active=c},a.selectMatch=function(i,h){var g=a.debounce();angular.isNumber(g)||angular.isObject(g)?b(function(){a.select({activeIdx:i,evt:h})},angular.isNumber(g)?g:g["default"]):a.select({activeIdx:i,evt:h})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,d,f){return{scope:{index:"=",match:"=",query:"="},link:function(h,c,b){var a=f(b.templateUrl)(h.$parent)||"uib/template/typeahead/typeahead-match.html";e(a).then(function(g){var i=angular.element(g.trim());c.replaceWith(i),d(i)(h)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(h,g,l){function k(b){return b.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function j(b){return/<.*>/g.test(b)}var i;return i=g.has("$sanitize"),function(a,c){return !i&&j(a)&&l.warn("Unsafe use of typeahead please use ngSanitize"),a=c?(""+a).replace(new RegExp(k(c),"gi"),"<strong>$&</strong>"):a,i||(a=h.trustAsHtml(a)),a}}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>')}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-datepicker-popup.dropdown-menu{display:block;}.uib-button-bar{padding:10px 9px 2px;}</style>')}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>')}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>')});(function(b,e,d){function a(c,f,i){var j=i.baseHref(),h=c[0];return function(k,o,n){var m,l;n=n||{};l=n.expires;m=e.isDefined(n.path)?n.path:j;e.isUndefined(o)&&(l="Thu, 01 Jan 1970 00:00:00 GMT",o="");e.isString(l)&&(l=new Date(l));o=encodeURIComponent(k)+"="+encodeURIComponent(o);o=o+(m?";path="+m:"")+(n.domain?";domain="+n.domain:"");o+=l?";expires="+l.toUTCString():"";o+=n.secure?";secure":"";n=o.length+1;4096<n&&f.warn("Cookie '"+k+"' possibly not set or overflowed because it was too large ("+n+" > 4096 bytes)!");h.cookie=o}}e.module("ngCookies",["ng"]).provider("$cookies",[function(){var c=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(f,h){return{get:function(g){return f()[g]},getObject:function(g){return(g=this.get(g))?e.fromJson(g):g},getAll:function(){return f()},put:function(j,i,g){h(j,i,g?e.extend({},c,g):c)},putObject:function(j,g,i){this.put(j,e.toJson(g),i)},remove:function(g,i){h(g,d,i?e.extend({},c,i):c)}}}]}]);e.module("ngCookies").factory("$cookieStore",["$cookies",function(c){return{get:function(f){return c.getObject(f)},put:function(f,g){c.putObject(f,g)},remove:function(f){c.remove(f)}}}]);a.$inject=["$document","$log","$browser"];e.module("ngCookies").provider("$$cookieWriter",function(){this.$get=a})})(window,window.angular);(function(b,g,i){function e(){return["$animate",function(d){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(s,j,z,y,t){var u=j[0],v,o=z.ngMessage||z.when;z=z.ngMessageExp||z.whenExp;var x=function(k){v=k?c(k)?k:k.split(/[\s,]+/):null;y.reRender()};z?(x(s.$eval(z)),s.$watchCollection(z,x)):x(o);var w,l;y.register(u,l={test:function(k){var m=v;k=m?c(m)?0<=m.indexOf(k):m.hasOwnProperty(k):void 0;return k},attach:function(){w||t(s,function(k){d.enter(k,null,j);w=k;var m=w.$$attachId=y.getAttachId();w.on("$destroy",function(){w&&w.$$attachId===m&&(y.deregister(u),l.detach())})})},detach:function(){if(w){var k=w;w=null;d.leave(k)}}})}}}]}var c=g.isArray,a=g.forEach,h=g.isString,f=g.element;g.module("ngMessages",[]).directive("ngMessages",["$animate",function(k){function l(m,d){return h(d)&&0===d.length||j(m.$eval(d))}function j(d){return h(d)?d.length:!!d}return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(x,w,o){function t(p,m){for(var z=m,s=[];z&&z!==p;){var q=z.$$ngMessageNode;if(q&&q.length){return v[q]}z.childNodes.length&&-1==s.indexOf(z)?(s.push(z),z=z.childNodes[z.childNodes.length-1]):z=z.previousSibling||z.parentNode}}var u=this,n=0,r=0;this.getAttachId=function(){return r++};var v=this.messages={},d,y;this.render=function(A){A=A||{};d=!1;y=A;for(var B=l(w,o.ngMessagesMultiple)||l(w,o.multiple),C=[],s={},z=u.head,m=!1,q=0;null!=z;){q++;var E=z.message,D=!1;m||a(A,function(p,F){!D&&j(p)&&E.test(F)&&!s[F]&&(D=s[F]=!0,E.attach())});D?m=!B:C.push(E);z=z.next}a(C,function(p){p.detach()});C.length!==q?k.setClass(x,"ng-active","ng-inactive"):k.setClass(x,"ng-inactive","ng-active")};w.$watchCollection(o.ngMessages||o["for"],u.render);this.reRender=function(){d||(d=!0,w.$evalAsync(function(){d&&y&&u.render(y)}))};this.register=function(q,m){var z=n.toString();v[z]={message:m};var s=x[0],p=v[z];u.head?(s=t(s,q))?(p.next=s.next,s.next=p):(p.next=u.head,u.head=p):u.head=p;q.$$ngMessageNode=z;n++;u.reRender()};this.deregister=function(m){var p=m.$$ngMessageNode;delete m.$$ngMessageNode;var q=v[p];(m=t(x[0],m))?m.next=q.next:u.head=q.next;delete v[p];u.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(k,m,j){return{restrict:"AE",require:"^^ngMessages",link:function(n,l,d){var o=d.ngMessagesInclude||d.src;k(o).then(function(p){j(p)(n,function(q){l.after(q);q=f(m[0].createComment(" ngMessagesInclude: "+o+" "));l.after(q);l.remove()})})}}}]).directive("ngMessage",e()).directive("ngMessageExp",e())})(window,window.angular);
/*!
 * angular-translate - v2.9.1 - 2016-02-13
 * 
 * Copyright (c) 2016 The angular-translate team, Pascal Precht; Licensed MIT
 */
;!function(d,c){"function"==typeof define&&define.amd?define([],function(){return c()}):"object"==typeof exports?module.exports=c():c()}(this,function(){function v(f){var e=f.storageKey(),h=f.storage(),g=function(){var a=f.preferredLanguage();angular.isString(a)?f.use(a):h.put(e,f.use())};g.displayName="fallbackFromIncorrectStorageValue",h?h.get(e)?f.use(h.get(e))["catch"](g):g():angular.isString(f.preferredLanguage())&&f.use(f.preferredLanguage())}function u(){var j,i,A=null,z=!1,y=!1;i={sanitize:function(d,c){return"text"===c&&(d=w(d)),d},escape:function(d,c){return"text"===c&&(d=x(d)),d},sanitizeParameters:function(d,c){return"params"===c&&(d=k(d,w)),d},escapeParameters:function(d,c){return"params"===c&&(d=k(d,x)),d}},i.escaped=i.escapeParameters,this.addStrategy=function(b,d){return i[b]=d,this},this.removeStrategy=function(b){return delete i[b],this},this.useStrategy=function(b){return z=!0,A=b,this},this.$get=["$injector","$log",function(e,d){var c={},b=function(f,h,g){return angular.forEach(g,function(C){if(angular.isFunction(C)){f=C(f,h)}else{if(angular.isFunction(i[C])){f=i[C](f,h)}else{if(!angular.isString(i[C])){throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+C+"'")}if(!c[i[C]]){try{c[i[C]]=e.get(i[C])}catch(B){throw c[i[C]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+C+"'")}}f=c[i[C]](f,h)}}}),f},a=function(){z||y||(d.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),y=!0)};return e.has("$sanitize")&&(j=e.get("$sanitize")),{useStrategy:function(f){return function(g){f.useStrategy(g)}}(this),sanitize:function(g,f,B){if(A||a(),arguments.length<3&&(B=A),!B){return g}var h=angular.isArray(B)?B:[B];return b(g,f,h)}}}];var x=function(d){var c=angular.element("<div></div>");return c.text(d),c.html()},w=function(a){if(!j){throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.")}return j(a)},k=function(e,d){if(angular.isObject(e)){var f=angular.isArray(e)?[]:{};return angular.forEach(e,function(b,c){f[c]=k(b,d)}),f}return angular.isNumber(e)?e:d(e)}}function t(aI,aH,aG,aF){var aE,aD,aC,aB,aA,az,ay,ax,aw,av,au,at,ar,aq,ap,ao={},an=[],am=aI,al=[],ak="translate-cloak",aj=!1,ai=!1,ah=".",ag=!1,af=0,ae=!0,ad="default",ac={"default":function(b){return(b||"").split("-").join("_")},java:function(e){var d=(e||"").split("-").join("_"),f=d.split("_");return f.length>1?f[0].toLowerCase()+"_"+f[1].toUpperCase():d},bcp47:function(e){var d=(e||"").split("_").join("-"),f=d.split("-");return f.length>1?f[0].toLowerCase()+"-"+f[1].toUpperCase():d}},ab="2.9.1",aa=function(){if(angular.isFunction(aF.getLocale)){return aF.getLocale()}var b,h,g=aH.$get().navigator,d=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(g.languages)){for(b=0;b<g.languages.length;b++){if(h=g.languages[b],h&&h.length){return h}}}for(b=0;b<d.length;b++){if(h=g[d[b]],h&&h.length){return h}}return null};aa.displayName="angular-translate/service: getFirstBrowserLanguage";var Z=function(){var b=aa()||"";return ac[ad]&&(b=ac[ad](b)),b};Z.displayName="angular-translate/service: getLocale";var Y=function(f,e){for(var h=0,g=f.length;g>h;h++){if(f[h]===e){return h}}return -1},X=function(){return this.toString().replace(/^\s+|\s+$/g,"")},W=function(E){if(E){for(var D=[],C=angular.lowercase(E),B=0,A=an.length;A>B;B++){D.push(angular.lowercase(an[B]))}if(Y(D,C)>-1){return E}if(aD){var z;for(var y in aD){var x=!1,w=Object.prototype.hasOwnProperty.call(aD,y)&&angular.lowercase(y)===angular.lowercase(E);if("*"===y.slice(-1)&&(x=y.slice(0,-1)===E.slice(0,y.length-1)),(w||x)&&(z=aD[y],Y(D,angular.lowercase(z))>-1)){return z}}}var f=E.split("_");return f.length>1&&Y(D,angular.lowercase(f[0]))>-1?f[0]:void 0}},V=function(d,c){if(!d&&!c){return ao}if(d&&!c){if(angular.isString(d)){return ao[d]}}else{angular.isObject(ao[d])||(ao[d]={}),angular.extend(ao[d],U(c))}return this};this.translations=V,this.cloakClassName=function(b){return b?(ak=b,this):ak},this.nestedObjectDelimeter=function(b){return b?(ah=b,this):ah};var U=function(j,i,A,z){var y,x,w,k;i||(i=[]),A||(A={});for(y in j){Object.prototype.hasOwnProperty.call(j,y)&&(k=j[y],angular.isObject(k)?U(k,i.concat(y),A,y):(x=i.length?""+i.join(ah)+ah+y:y,i.length&&y===z&&(w=""+i.join(ah),A[w]="@:"+x),A[x]=k))}return A};U.displayName="flatObject",this.addInterpolation=function(b){return al.push(b),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(b){return av=b,this},this.useSanitizeValueStrategy=function(b){return aG.useStrategy(b),this},this.preferredLanguage=function(b){return b?(T(b),this):aE};var T=function(b){return b&&(aE=b),aE};this.translationNotFoundIndicator=function(b){return this.translationNotFoundIndicatorLeft(b),this.translationNotFoundIndicatorRight(b),this},this.translationNotFoundIndicatorLeft=function(b){return b?(ar=b,this):ar},this.translationNotFoundIndicatorRight=function(b){return b?(aq=b,this):aq},this.fallbackLanguage=function(b){return S(b),this};var S=function(b){return b?(angular.isString(b)?(aB=!0,aC=[b]):angular.isArray(b)&&(aB=!1,aC=b),angular.isString(aE)&&Y(aC,aE)<0&&aC.push(aE),this):aB?aC[0]:aC};this.use=function(b){if(b){if(!ao[b]&&!au){throw new Error("$translateProvider couldn't find translationTable for langKey: '"+b+"'")}return aA=b,this}return aA};var R=function(b){return b?(am=b,this):ax?ax+am:am};this.storageKey=R,this.useUrlLoader=function(d,c){return this.useLoader("$translateUrlLoader",angular.extend({url:d},c))},this.useStaticFilesLoader=function(b){return this.useLoader("$translateStaticFilesLoader",b)},this.useLoader=function(d,c){return au=d,at=c||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(b){return ay=b,this},this.storagePrefix=function(b){return b?(ax=b,this):b},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(b){return aw=b,this},this.usePostCompiling=function(b){return aj=!!b,this},this.forceAsyncReload=function(b){return ai=!!b,this},this.uniformLanguageTag=function(b){return b?angular.isString(b)&&(b={standard:b}):b={},ad=b.standard,this},this.determinePreferredLanguage=function(d){var c=d&&angular.isFunction(d)?d():Z();return aE=an.length?W(c)||c:c,this},this.registerAvailableLanguageKeys=function(d,c){return d?(an=d,c&&(aD=c),this):an},this.useLoaderCache=function(b){return b===!1?ap=void 0:b===!0?ap=!0:"undefined"==typeof b?ap="$translationCache":b&&(ap=b),this},this.directivePriority=function(b){return void 0===b?af:(af=b,this)},this.statefulFilter=function(b){return void 0===b?ae:(ae=b,this)},this.$get=["$log","$injector","$rootScope","$q",function(aP,aO,aN,aM){var aL,aK,M,N=aO.get(av||"$translateDefaultInterpolation"),L=!1,K={},J={},A=function(aX,aW,aV,aU,I){var H=I&&I!==aA?W(I)||I:aA;if(angular.isArray(aX)){var F=function(b){for(var a1={},a0=[],aZ=function(a2){var a4=aM.defer(),a3=function(a){a1[a2]=a,a4.resolve([a2,a])};return A(a2,aW,aV,aU,I).then(a3,a3),a4.promise},aY=0,c=b.length;c>aY;aY++){a0.push(aZ(b[aY]))}return aM.all(a0).then(function(){return a1})};return F(aX)}var E=aM.defer();aX&&(aX=X.apply(aX));var f=function(){var aZ=aE?J[aE]:J[H];if(aK=0,ay&&!aZ){var aY=aL.get(am);if(aZ=J[aY],aC&&aC.length){var a0=Y(aC,aY);aK=0===a0?1:0,Y(aC,aE)<0&&aC.push(aE)}}return aZ}();if(f){var d=function(){I||(H=aA),O(aX,aW,aV,aU,H).then(E.resolve,E.reject)};d.displayName="promiseResolved",f["finally"](d,E.reject)}else{O(aX,aW,aV,aU,H).then(E.resolve,E.reject)}return E.promise},z=function(b){return ar&&(b=[ar,b].join(" ")),aq&&(b=[b,aq].join(" ")),b},x=function(d){aA=d,ay&&aL.put(A.storageKey(),aA),aN.$emit("$translateChangeSuccess",{language:d}),N.setLocale(aA);var c=function(E,f){K[f].setLocale(aA)};c.displayName="eachInterpolatorLocaleSetter",angular.forEach(K,c),aN.$emit("$translateChangeEnd",{language:d})},w=function(b){if(!b){throw"No language key specified for loading."}var H=aM.defer();aN.$emit("$translateLoadingStart",{language:b}),L=!0;var F=ap;"string"==typeof F&&(F=aO.get(F));var E=angular.extend({},at,{key:b,$http:angular.extend({},{cache:F},at.$http)}),d=function(a){var f={};aN.$emit("$translateLoadingSuccess",{language:b}),angular.isArray(a)?angular.forEach(a,function(I){angular.extend(f,U(I))}):angular.extend(f,U(a)),L=!1,H.resolve({key:b,table:f}),aN.$emit("$translateLoadingEnd",{language:b})};d.displayName="onLoaderSuccess";var c=function(f){aN.$emit("$translateLoadingError",{language:f}),H.reject(f),aN.$emit("$translateLoadingEnd",{language:f})};return c.displayName="onLoaderError",aO.get(au)(E).then(d,c),H.promise};if(ay&&(aL=aO.get(ay),!aL.get||!aL.put)){throw new Error("Couldn't use storage '"+ay+"', missing get() or put() method!")}if(al.length){var k=function(b){var d=aO.get(b);d.setLocale(aE||aA),K[d.getInterpolationIdentifier()]=d};k.displayName="interpolationFactoryAdder",angular.forEach(al,k)}var j=function(f){var d=aM.defer();if(Object.prototype.hasOwnProperty.call(ao,f)){d.resolve(ao[f])}else{if(J[f]){var E=function(b){V(b.key,b.table),d.resolve(b.table)};E.displayName="translationTableResolver",J[f].then(E,d.reject)}else{d.reject()}}return d.promise},i=function(E,d,aU,I){var H=aM.defer(),F=function(b){if(Object.prototype.hasOwnProperty.call(b,d)){I.setLocale(E);var a=b[d];"@:"===a.substr(0,2)?i(E,a.substr(2),aU,I).then(H.resolve,H.reject):H.resolve(I.interpolate(b[d],aU)),I.setLocale(aA)}else{H.reject()}};return F.displayName="fallbackTranslationResolver",j(E).then(F,H.reject),H.promise},h=function(F,E,aV,aU){var I,H=ao[F];if(H&&Object.prototype.hasOwnProperty.call(H,E)){if(aU.setLocale(F),I=aU.interpolate(H[E],aV),"@:"===I.substr(0,2)){return h(F,I.substr(2),aV,aU)}aU.setLocale(aA)}return I},g=function(b,E){if(aw){var f=aO.get(aw)(b,aA,E);return void 0!==f?f:b}return b},y=function(E,d,aV,aU,I){var H=aM.defer();if(E<aC.length){var F=aC[E];i(F,d,aV,aU).then(H.resolve,function(){y(E+1,d,aV,aU,I).then(H.resolve)})}else{I?H.resolve(I):H.resolve(g(d,aV))}return H.promise},aS=function(F,E,aV,aU){var I;if(F<aC.length){var H=aC[F];I=h(H,E,aV,aU),I||(I=aS(F+1,E,aV,aU))}return I},aQ=function(E,f,H,F){return y(M>0?M:aK,E,f,H,F)},B=function(f,d,E){return aS(M>0?M:aK,f,d,E)},O=function(aY,aX,aW,aV,aU){var I=aM.defer(),H=aU?ao[aU]:ao,F=aW?K[aW]:N;if(H&&Object.prototype.hasOwnProperty.call(H,aY)){var E=H[aY];"@:"===E.substr(0,2)?A(E.substr(2),aX,aW,aV,aU).then(I.resolve,I.reject):I.resolve(F.interpolate(E,aX))}else{var d;aw&&!L&&(d=g(aY,aX)),aU&&aC&&aC.length?aQ(aY,aX,F,aV).then(function(b){I.resolve(b)},function(b){I.reject(z(b))}):aw&&!L&&d?aV?I.resolve(aV):I.resolve(d):aV?I.resolve(aV):I.reject(z(aY))}return I.promise},aR=function(aY,aX,aW,aV){var aU,I=aV?ao[aV]:ao,H=N;if(K&&Object.prototype.hasOwnProperty.call(K,aW)&&(H=K[aW]),I&&Object.prototype.hasOwnProperty.call(I,aY)){var F=I[aY];aU="@:"===F.substr(0,2)?aR(F.substr(2),aX,aW,aV):H.interpolate(F,aX)}else{var E;aw&&!L&&(E=g(aY,aX)),aV&&aC&&aC.length?(aK=0,aU=B(aY,aX,H)):aU=aw&&!L&&E?E:z(aY)}return aU},C=function(b){az===b&&(az=void 0),J[b]=void 0};A.preferredLanguage=function(b){return b&&T(b),aE},A.cloakClassName=function(){return ak},A.nestedObjectDelimeter=function(){return ah},A.fallbackLanguage=function(f){if(void 0!==f&&null!==f){if(S(f),au&&aC&&aC.length){for(var d=0,E=aC.length;E>d;d++){J[aC[d]]||(J[aC[d]]=w(aC[d]))}}A.use(A.use())}return aB?aC[0]:aC},A.useFallbackLanguage=function(d){if(void 0!==d&&null!==d){if(d){var c=Y(aC,d);c>-1&&(M=c)}else{M=0}}},A.proposedLanguage=function(){return az},A.storage=function(){return aL},A.negotiateLocale=W,A.use=function(d){if(!d){return aA}var c=aM.defer();aN.$emit("$translateChangeStart",{language:d});var f=W(d);return f&&(d=f),!ai&&ao[d]||!au||J[d]?az===d&&J[d]?J[d].then(function(b){return c.resolve(b.key),b},function(b){return c.reject(b),aM.reject(b)}):(c.resolve(d),x(d)):(az=d,J[d]=w(d).then(function(a){return V(a.key,a.table),c.resolve(a.key),az===d&&x(a.key),a},function(b){return aN.$emit("$translateChangeError",{language:b}),c.reject(b),aN.$emit("$translateChangeEnd",{language:b}),aM.reject(b)}),J[d]["finally"](function(){C(d)})),c.promise},A.storageKey=function(){return R()},A.isPostCompilingEnabled=function(){return aj},A.isForceAsyncReloadEnabled=function(){return ai},A.refresh=function(aX){function aW(){aU.resolve(),aN.$emit("$translateRefreshEnd",{language:aX})}function aV(){aU.reject(),aN.$emit("$translateRefreshEnd",{language:aX})}if(!au){throw new Error("Couldn't refresh translation table, no loader registered!")}var aU=aM.defer();if(aN.$emit("$translateRefreshStart",{language:aX}),aX){if(ao[aX]){var I=function(a){V(a.key,a.table),aX===aA&&x(aA),aW()};I.displayName="refreshPostProcessor",w(aX).then(I,aV)}else{aV()}}else{var H=[],F={};if(aC&&aC.length){for(var E=0,d=aC.length;d>E;E++){H.push(w(aC[E])),F[aC[E]]=!0}}aA&&!F[aA]&&H.push(w(aA));var c=function(b){ao={},angular.forEach(b,function(f){V(f.key,f.table)}),aA&&x(aA),aW()};c.displayName="refreshPostProcessor",aM.all(H).then(c,aV)}return aU.promise},A.instant=function(a1,a0,aZ,aY){var aX=aY&&aY!==aA?W(aY)||aY:aA;if(null===a1||angular.isUndefined(a1)){return a1}if(angular.isArray(a1)){for(var aW={},aV=0,aU=a1.length;aU>aV;aV++){aW[a1[aV]]=A.instant(a1[aV],a0,aZ,aY)}return aW}if(angular.isString(a1)&&a1.length<1){return a1}a1&&(a1=X.apply(a1));var I,H=[];aE&&H.push(aE),aX&&H.push(aX),aC&&aC.length&&(H=H.concat(aC));for(var F=0,E=H.length;E>F;F++){var a2=H[F];if(ao[a2]&&"undefined"!=typeof ao[a2][a1]&&(I=aR(a1,a0,aZ,aX)),"undefined"!=typeof I){break}}return I||""===I||(ar||aq?I=z(a1):(I=N.interpolate(a1,a0),aw&&!L&&(I=g(a1,a0)))),I},A.versionInfo=function(){return ab},A.loaderCache=function(){return ap},A.directivePriority=function(){return af},A.statefulFilter=function(){return ae},A.isReady=function(){return ag};var P=aM.defer();P.promise.then(function(){ag=!0}),A.onReady=function(d){var c=aM.defer();return angular.isFunction(d)&&c.promise.then(d),ag?c.resolve():P.promise.then(c.resolve),c.promise};var aT=aN.$on("$translateReady",function(){P.resolve(),aT(),aT=null}),D=aN.$on("$translateChangeEnd",function(){P.resolve(),D(),D=null});if(au){if(angular.equals(ao,{})&&A.use()&&A.use(A.use()),aC&&aC.length){for(var Q=function(b){return V(b.key,b.table),aN.$emit("$translateChangeEnd",{language:b.key}),b},e=0,G=aC.length;G>e;e++){var aJ=aC[e];(ai||!ao[aJ])&&(J[aJ]=w(aJ).then(Q))}}}else{aN.$emit("$translateReady",{language:A.use()})}return A}]}function s(g,f){var j,i={},h="default";return i.setLocale=function(b){j=b},i.getInterpolationIdentifier=function(){return h},i.useSanitizeValueStrategy=function(b){return f.useStrategy(b),this},i.interpolate=function(k,b){b=b||{},b=f.sanitize(b,"params");var a=g(k)(b);return a=f.sanitize(a,"text")},i}function r(i,f,y,x,w,k){var j=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:i.directivePriority(),compile:function(c,h){var g=h.translateValues?h.translateValues:void 0,e=h.translateInterpolation?h.translateInterpolation:void 0,d=c[0].outerHTML.match(/translate-value-+/i),a="^(.*)("+y.startSymbol()+".*"+y.endSymbol()+")(.*)",z="^(.*)"+y.startSymbol()+"(.*)"+y.endSymbol()+"(.*)";return function(K,H,F){K.interpolateParams={},K.preText="",K.postText="",K.translateNamespace=q(K);var D={},C=function(b,S,R){if(S.translateValues&&angular.extend(b,w(S.translateValues)(K.$parent)),d){for(var B in R){if(Object.prototype.hasOwnProperty.call(S,B)&&"translateValue"===B.substr(0,14)&&"translateValues"!==B){var A=angular.lowercase(B.substr(14,1))+B.substr(15);b[A]=R[B]}}}},Q=function(b){if(angular.isFunction(Q._unwatchOld)&&(Q._unwatchOld(),Q._unwatchOld=void 0),angular.equals(b,"")||!angular.isDefined(b)){var R=j.apply(H.text()),B=R.match(a);if(angular.isArray(B)){K.preText=B[1],K.postText=B[3],D.translate=y(B[2])(K.$parent);var A=R.match(z);angular.isArray(A)&&A[2]&&A[2].length&&(Q._unwatchOld=K.$watch(A[2],function(S){D.translate=S,J()}))}else{D.translate=R?R:void 0}}else{D.translate=b}J()},P=function(b){F.$observe(b,function(A){D[b]=A,J()})};C(K.interpolateParams,F,h);var O=!0;F.$observe("translate",function(b){"undefined"==typeof b?Q(""):""===b&&O||(D.translate=b,J()),O=!1});for(var N in F){F.hasOwnProperty(N)&&"translateAttr"===N.substr(0,13)&&P(N)}if(F.$observe("translateDefault",function(b){K.defaultText=b,J()}),g&&F.$observe("translateValues",function(b){b&&K.$parent.$watch(function(){angular.extend(K.interpolateParams,w(b)(K.$parent))})}),d){var M=function(b){F.$observe(b,function(B){var A=angular.lowercase(b.substr(14,1))+b.substr(15);K.interpolateParams[A]=B})};for(var L in F){Object.prototype.hasOwnProperty.call(F,L)&&"translateValue"===L.substr(0,14)&&"translateValues"!==L&&M(L)}}var J=function(){for(var b in D){D.hasOwnProperty(b)&&void 0!==D[b]&&I(b,D[b],K,K.interpolateParams,K.defaultText,K.translateNamespace)}},I=function(A,U,T,S,R,B){U?(B&&"."===U.charAt(0)&&(U=B+U),i(U,S,e,R,T.translateLanguage).then(function(b){G(b,T,!0,A)},function(b){G(b,T,!1,A)})):G(U,T,!1,A)},G=function(A,W,V,U){if("translate"===U){V||"undefined"==typeof W.defaultText||(A=W.defaultText),H.empty().append(W.preText+A+W.postText);var T=i.isPostCompilingEnabled(),S="undefined"!=typeof h.translateCompile,R=S&&"false"!==h.translateCompile;(T&&!S||R)&&x(H.contents())(W)}else{V||"undefined"==typeof W.defaultText||(A=W.defaultText);var B=F.$attr[U];"data-"===B.substr(0,5)&&(B=B.substr(5)),B=B.substr(15),H.attr(B,A)}};(g||d||F.translateDefault)&&K.$watch("interpolateParams",J,!0),K.$watch("translateLanguage",J);var E=k.$on("$translateChangeSuccess",J);H.text().length?Q(F.translate?F.translate:""):F.translate&&Q(F.translate),J(),K.$on("$destroy",E)}}}}function q(b){return b.translateNamespace?b.translateNamespace:b.$parent?q(b.$parent):void 0}function p(d,c){return{compile:function(f){var b=function(){f.addClass(d.cloakClassName())},a=function(){f.removeClass(d.cloakClassName())};return d.onReady(function(){a()}),b(),function(i,h,e){e.translateCloak&&e.translateCloak.length&&(e.$observe("translateCloak",function(g){d(g).then(a,b)}),c.$on("$translateChangeSuccess",function(){d(e.translateCloak).then(a,b)}))}}}}function o(){return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,d,f){e.translateNamespace=q(e),e.translateNamespace&&"."===f.translateNamespace.charAt(0)?e.translateNamespace+=f.translateNamespace:e.translateNamespace=f.translateNamespace}}}}}function q(b){return b.translateNamespace?b.translateNamespace:b.$parent?q(b.$parent):void 0}function n(){return{restrict:"A",scope:!0,compile:function(){return function(e,d,f){f.$observe("translateLanguage",function(a){e.translateLanguage=a})}}}}function m(e,d){var f=function(h,g,b,a){return angular.isObject(g)||(g=e(g)(this)),d.instant(h,g,b,a)};return d.statefulFilter()&&(f.$stateful=!0),f}function l(b){return b("translations")}return angular.module("pascalprecht.translate",["ng"]).run(v),v.$inject=["$translate"],v.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",u),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",t),t.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],t.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",s),s.$inject=["$interpolate","$translateSanitization"],s.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",r),r.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],r.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",p),p.$inject=["$translate","$rootScope"],p.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",o),o.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",n),n.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",m),m.$inject=["$parse","$translate"],m.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",l),l.$inject=["$cacheFactory"],l.displayName="$translationCache","pascalprecht.translate"});
/*!
 * angular-translate - v2.9.1 - 2016-02-13
 * 
 * Copyright (c) 2016 The angular-translate team, Pascal Precht; Licensed MIT
 */
;!function(d,c){"function"==typeof define&&define.amd?define([],function(){return c()}):"object"==typeof exports?module.exports=c():c()}(this,function(){function b(d,c){return function(k){if(!(k&&(angular.isArray(k.files)||angular.isString(k.prefix)&&angular.isString(k.suffix)))){throw new Error("Couldn't load static files, no files and prefix or suffix specified!")}k.files||(k.files=[{prefix:k.prefix,suffix:k.suffix}]);for(var j=function(e){if(!e||!angular.isString(e.prefix)||!angular.isString(e.suffix)){throw new Error("Couldn't load static file, no prefix or suffix specified!")}return c(angular.extend({url:[e.prefix,k.key,e.suffix].join(""),method:"GET",params:""},k.$http)).then(function(f){return f.data},function(){return d.reject(k.key)})},i=[],h=k.files.length,a=0;h>a;a++){i.push(j({prefix:k.files[a].prefix,key:k.key,suffix:k.files[a].suffix}))}return d.all(i).then(function(g){for(var f=g.length,n={},m=0;f>m;m++){for(var l in g[m]){n[l]=g[m][l]}}return n})}}return angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",b),b.$inject=["$q","$http"],b.displayName="$translateStaticFilesLoader","pascalprecht.translate"});"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(aU,aT,aS){function aR(d,c){return ac(new (ac(function(){},{prototype:d})),c)}function aQ(b){return ad(arguments,function(a){a!==b&&ad(a,function(d,e){b.hasOwnProperty(e)||(b[e]=d)})}),b}function aP(f,e){var h=[];for(var g in f.path){if(f.path[g]!==e.path[g]){break}h.push(f.path[g])}return h}function aO(d){if(Object.keys){return Object.keys(d)}var c=[];return ad(d,function(b,e){c.push(e)}),c}function aN(f,e){if(Array.prototype.indexOf){return f.indexOf(e,Number(arguments[2])||0)}var h=f.length>>>0,g=Number(arguments[2])||0;for(g=0>g?Math.ceil(g):Math.floor(g),0>g&&(g+=h);h>g;g++){if(g in f&&f[g]===e){return g}}return -1}function aM(t,s,r,q){var p,o=aP(r,q),n={},h=[];for(var g in o){if(o[g]&&o[g].params&&(p=aO(o[g].params),p.length)){for(var f in p){aN(h,p[f])>=0||(h.push(p[f]),n[p[f]]=t[p[f]])}}}return ac({},n,s)}function aL(h,g,l){if(!l){l=[];for(var k in h){l.push(k)}}for(var j=0;j<l.length;j++){var i=l[j];if(h[i]!=g[i]){return !1}}return !0}function aK(e,d){var f={};return ad(e,function(b){f[b]=d[b]}),f}function aJ(e){var d={},f=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return ad(f,function(a){a in e&&(d[a]=e[a])}),d}function aI(f){var e={},h=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var g in f){-1==aN(h,g)&&(e[g]=f[g])}return e}function aH(f,e){var h=ae(f),g=h?[]:{};return ad(f,function(b,c){e(b,c)&&(g[h?g.length:c]=b)}),g}function aG(e,d){var f=ae(e)?[]:{};return ad(e,function(b,c){f[c]=d(b,c)}),f}function aF(g,c){var p=1,o=2,n={},m=[],h=n,e=ac(g.when(n),{$$promises:n,$$values:n});this.study=function(a){function l(i,r){if(b[r]!==o){if(d.push(r),b[r]===p){throw d.splice(0,aN(d,r)),new Error("Cyclic dependency: "+d.join(" -> "))}if(b[r]=p,ag(i)){f.push(r,[function(){return c.get(i)}],m)}else{var q=c.annotate(i);ad(q,function(s){s!==r&&a.hasOwnProperty(s)&&l(a[s],s)}),f.push(r,i,q)}d.pop(),b[r]=o}}function k(i){return af(i)&&i.then&&i.$$promises}if(!af(a)){throw new Error("'invocables' must be an object")}var j=aO(a||{}),f=[],d=[],b={};return ad(a,l),a=d=b=null,function(E,D,C){function B(){--I||(H||aQ(J,D.$$values),q.$$values=J,q.$$promises=q.$$promises||!0,delete q.$$inheritedValues,y.resolve(J))}function A(i){q.$$failure=i,y.reject(i)}function z(w,v,u){function t(x){r.reject(x),A(x)}function s(){if(!ai(q.$$failure)){try{r.resolve(c.invoke(v,C,J)),r.promise.then(function(L){J[w]=L,B()},t)}catch(x){t(x)}}}var r=g.defer(),i=0;ad(u,function(x){K.hasOwnProperty(x)&&!E.hasOwnProperty(x)&&(i++,K[x].then(function(L){J[x]=L,--i||s()},t))}),i||s(),K[w]=r.promise}if(k(E)&&C===aS&&(C=D,D=E,E=null),E){if(!af(E)){throw new Error("'locals' must be an object")}}else{E=h}if(D){if(!k(D)){throw new Error("'parent' must be a promise returned by $resolve.resolve()")}}else{D=e}var y=g.defer(),q=y.promise,K=q.$$promises={},J=ac({},E),I=1+f.length/3,H=!1;if(ai(D.$$failure)){return A(D.$$failure),q}D.$$inheritedValues&&aQ(J,aI(D.$$inheritedValues,j)),ac(K,D.$$promises),D.$$values?(H=aQ(J,aI(D.$$values,j)),q.$$inheritedValues=aI(D.$$values,j),B()):(D.$$inheritedValues&&(q.$$inheritedValues=aI(D.$$inheritedValues,j)),D.then(B,A));for(var G=0,F=f.length;F>G;G+=3){E.hasOwnProperty(f[G])?B():z(f[G],f[G+1],f[G+2])}return q}},this.resolve=function(i,f,k,j){return this.study(i)(f,k,j)}}function aE(e,d,f){this.fromConfig=function(h,g,i){return ai(h.template)?this.fromString(h.template,g):ai(h.templateUrl)?this.fromUrl(h.templateUrl,g):ai(h.templateProvider)?this.fromProvider(h.templateProvider,g,i):null},this.fromString=function(g,c){return ah(g)?g(c):g},this.fromUrl=function(b,a){return ah(b)&&(b=b(a)),null==b?null:e.get(b,{cache:d,headers:{Accept:"text/html"}}).then(function(c){return c.data})},this.fromProvider=function(g,c,h){return f.invoke(g,null,h||{params:c})}}function aD(N,M,L){function K(a,h,g,f){if(z.push(a),B[a]){return B[a]}if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(a)){throw new Error("Invalid parameter name '"+a+"' in pattern '"+N+"'")}if(A[a]){throw new Error("Duplicate parameter name '"+a+"' in pattern '"+N+"'")}return A[a]=new Z.Param(a,h,g,f),A[a]}function J(h,g,l,k){var j=["",""],i=h.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!g){return i}switch(l){case !1:j=["(",")"+(k?"?":"")];break;case !0:i=i.replace(/\/$/,""),j=["(?:/(",")|/)?"];break;default:j=["("+l+"|",")?"]}return i+j[0]+g+j[1]}function I(p,o){var n,m,l,b,a;return n=p[2]||p[3],a=M.params[n],l=N.substring(D,p.index),m=o?p[4]:p[4]||("*"==p[1]?".*":null),m&&(b=Z.type(m)||aR(Z.type("string"),{pattern:new RegExp(m,M.caseInsensitive?"i":aS)})),{id:n,regexp:m,segment:l,type:b,cfg:a}}M=ac({params:{}},af(M)?M:{});var H,G=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,F=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,E="^",D=0,C=this.segments=[],B=L?L.params:{},A=this.params=L?L.params.$$new():new Z.ParamSet,z=[];this.source=N;for(var y,x,w;(H=G.exec(N))&&(y=I(H,!1),!(y.segment.indexOf("?")>=0));){x=K(y.id,y.type,y.cfg,"path"),E+=J(y.segment,x.type.pattern.source,x.squash,x.isOptional),C.push(y.segment),D=G.lastIndex}w=N.substring(D);var d=w.indexOf("?");if(d>=0){var c=this.sourceSearch=w.substring(d);if(w=w.substring(0,d),this.sourcePath=N.substring(0,D+d),c.length>0){for(D=0;H=F.exec(c);){y=I(H,!0),x=K(y.id,y.type,y.cfg,"search"),D=G.lastIndex}}}else{this.sourcePath=N,this.sourceSearch=""}E+=J(w)+(M.strict===!1?"/?":"")+"$",C.push(w),this.regexp=new RegExp(E,M.caseInsensitive?"i":aS),this.prefix=C[0],this.$$paramNames=z}function aC(b){ac(this,b)}function aB(){function y(e){return null!=e?e.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):e}function s(e){return null!=e?e.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):e}function r(){return{strict:c,caseInsensitive:d}}function o(e){return ah(e)||ae(e)&&ah(e[e.length-1])}function n(){for(;z.length;){var e=z.shift();if(e.pattern){throw new Error("You cannot override a type's .pattern at runtime.")}aT.extend(B[e.name],g.invoke(e.def))}}function h(e){ac(this,e||{})}Z=this;var g,d=!1,c=!0,b=!1,B={},A=!0,z=[],t={string:{encode:y,decode:s,is:function(e){return null==e||!ai(e)||"string"==typeof e},pattern:/[^\/]*/},"int":{encode:y,decode:function(e){return parseInt(e,10)},is:function(e){return ai(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):aS},decode:function(f){if(this.is(f)){return f}var e=this.capture.exec(f);return e?new Date(e[1],e[2]-1,e[3]):aS},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(f,e){return this.is(f)&&this.is(e)&&f.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:aT.toJson,decode:aT.fromJson,is:aT.isObject,equals:aT.equals,pattern:/[^\/]*/},any:{encode:aT.identity,decode:aT.identity,equals:aT.equals,pattern:/.*/}};aB.$$getDefaultValue=function(e){if(!o(e.value)){return e.value}if(!g){throw new Error("Injectable functions cannot be called at configuration time")}return g.invoke(e.value)},this.caseInsensitive=function(e){return ai(e)&&(d=e),d},this.strictMode=function(e){return ai(e)&&(c=e),c},this.defaultSquashPolicy=function(e){if(!ai(e)){return b}if(e!==!0&&e!==!1&&!ag(e)){throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string")}return b=e,e},this.compile=function(f,e){return new aD(f,ac(r(),e))},this.isMatcher=function(f){if(!af(f)){return !1}var e=!0;return ad(aD.prototype,function(i,a){ah(i)&&(e=e&&ai(f[a])&&ah(f[a]))}),e},this.type=function(f,e,i){if(!ai(e)){return B[f]}if(B.hasOwnProperty(f)){throw new Error("A type named '"+f+"' has already been defined.")}return B[f]=new aC(ac({name:f},e)),i&&(z.push({name:f,def:i}),A||n()),this},ad(t,function(f,e){B[e]=new aC(ac({name:e},f))}),B=aR(B,{}),this.$get=["$injector",function(e){return g=e,A=!1,n(),ad(t,function(i,f){B[f]||(B[f]=new aC(i))}),this}],this.Param=function(L,H,G,F){function E(f){var e=af(f)?aO(f):[],j=-1===aN(e,"value")&&-1===aN(e,"type")&&-1===aN(e,"squash")&&-1===aN(e,"array");return j&&(f={value:f}),f.$$fn=o(f.value)?f.value:function(){return f.value},f}function D(j,f,a){if(j.type&&f){throw new Error("Param '"+L+"' has two type configurations.")}return f?f:j.type?aT.isString(j.type)?B[j.type]:j.type instanceof aC?j.type:new aC(j.type):"config"===a?B.any:B.string}function C(){var a={array:"search"===F?"auto":!1},e=L.match(/\[\]$/)?{array:!0}:{};return ac(a,e,G).array}function q(f,e){var j=f.squash;if(!e||j===!1){return !1}if(!ai(j)||null==j){return b}if(j===!0||ag(j)){return j}throw new Error("Invalid squash policy: '"+j+"'. Valid policies: false, true, or arbitrary string")}function i(k,j,x,w){var v,p,m=[{from:"",to:x||j?aS:""},{from:null,to:x||j?aS:""}];return v=ae(k.replace)?k.replace:[],ag(w)&&v.push({from:w,to:aS}),p=aG(v,function(e){return e.from}),aH(m,function(e){return -1===aN(p,e.from)}).concat(v)}function O(){if(!g){throw new Error("Injectable functions cannot be called at configuration time")}var e=g.invoke(G.$$fn);if(null!==e&&e!==aS&&!K.type.is(e)){throw new Error("Default value ("+e+") for parameter '"+K.id+"' is not an instance of Type ("+K.type.name+")")}return e}function N(f){function e(k){return function(a){return a.from===k}}function j(k){var m=aG(aH(K.replace,e(k)),function(p){return p.to});return m.length?m[0]:k}return f=j(f),ai(f)?K.type.$normalize(f):O()}function M(){return"{Param:"+L+" "+H+" squash: '"+u+"' optional: "+I+"}"}var K=this;G=E(G),H=D(G,H,F);var J=C();H=J?H.$asArray(J,"search"===F):H,"string"!==H.name||J||"path"!==F||G.value!==aS||(G.value="");var I=G.value!==aS,u=q(G,I),l=i(G,J,I,u);ac(this,{id:L,type:H,location:F,array:J,squash:u,replace:l,isOptional:I,value:N,dynamic:aS,config:G,toString:M})},h.prototype={$$new:function(){return aR(this,ac(new h,{$$parent:this}))},$$keys:function(){for(var f=[],e=[],j=this,i=aO(h.prototype);j;){e.push(j),j=j.$$parent}return e.reverse(),ad(e,function(a){ad(aO(a),function(k){-1===aN(f,k)&&-1===aN(i,k)&&f.push(k)})}),f},$$values:function(f){var e={},i=this;return ad(i.$$keys(),function(a){e[a]=i[a].value(f&&f[a])}),e},$$equals:function(f,e){var j=!0,i=this;return ad(i.$$keys(),function(l){var k=f&&f[l],a=e&&e[l];i[l].type.equals(k,a)||(j=!1)}),j},$$validates:function(j){var u,q,p,m,l,k=this.$$keys();for(u=0;u<k.length&&(q=this[k[u]],p=j[k[u]],p!==aS&&null!==p||!q.isOptional);u++){if(m=q.type.$normalize(p),!q.type.is(m)){return !1}if(l=q.type.encode(m),aT.isString(l)&&!q.type.pattern.exec(l)){return !1}}return !0},$$parent:aS},this.ParamSet=h}function aA(t,s){function r(e){var d=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=d?d[1].replace(/\\(.)/g,"$1"):""}function q(e,d){return e.replace(/\$(\$|\d{1,2})/,function(f,g){return d["$"===g?0:Number(g)]})}function p(f,e,h){if(!h){return !1}var g=f.invoke(e,e,{$match:h});return ai(g)?g:!0}function o(z,y,x,w,v){function u(e,d,f){return"/"===i?e:d?i.slice(0,-1)+e:f?i.slice(1)+e:e}function l(f){function d(g){var e=g(x,z);return e?(ag(e)&&z.replace().url(e),!0):!1}if(!f||!f.defaultPrevented){j&&z.url()===j;j=aS;var A,h=m.length;for(A=0;h>A;A++){if(d(m[A])){return}}c&&d(c)}}function k(){return n=n||y.$on("$locationChangeSuccess",l)}var j,i=w.baseHref(),a=z.url();return b||k(),{sync:function(){l()},listen:function(){return k()},update:function(d){return d?void (a=z.url()):void (z.url()!==a&&(z.url(a),z.replace()))},push:function(g,d,A){var h=g.format(d||{});null!==h&&d&&d["#"]&&(h+="#"+d["#"]),z.url(h),j=A&&A.$$avoidResync?z.url():aS,A&&A.replace&&z.replace()},href:function(E,D,C){if(!E.validates(D)){return null}var B=t.html5Mode();aT.isObject(B)&&(B=B.enabled),B=B&&v.history;var A=E.format(D);if(C=C||{},B||null===A||(A="#"+t.hashPrefix()+A),null!==A&&D&&D["#"]&&(A+="#"+D["#"]),A=u(A,B,C.absolute),!C.absolute||!A){return A}var h=!B&&A?"/":"",d=z.port();return d=80===d||443===d?"":":"+d,[z.protocol(),"://",z.host(),d,h,A].join("")}}}var n,m=[],c=null,b=!1;this.rule=function(d){if(!ah(d)){throw new Error("'rule' must be a function")}return m.push(d),this},this.otherwise=function(e){if(ag(e)){var d=e;e=function(){return d}}else{if(!ah(e)){throw new Error("'rule' must be a function")}}return c=e,this},this.when=function(e,d){var v,u=ag(d);if(ag(e)&&(e=s.compile(e)),!u&&!ah(d)&&!ae(d)){throw new Error("invalid 'handler' in when()")}var l={matcher:function(i,h){return u&&(v=s.compile(h),h=["$match",function(j){return v.format(j)}]),ac(function(j,a){return p(j,h,i.exec(a.path(),a.search()))},{prefix:ag(i.prefix)?i.prefix:""})},regex:function(i,h){if(i.global||i.sticky){throw new Error("when() RegExp must not be global or sticky")}return u&&(v=h,h=["$match",function(j){return q(v,j)}]),ac(function(j,a){return p(j,h,i.exec(a.path()))},{prefix:r(i)})}},g={matcher:s.isMatcher(e),regex:e instanceof RegExp};for(var f in g){if(g[f]){return this.rule(l[f](e,d))}}throw new Error("invalid 'what' in when()")},this.deferIntercept=function(d){d===aS&&(d=!0),b=d},this.$get=o,o.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function az(L,K){function J(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function I(v,u){if(!v){return aS}var t=ag(v),s=t?v:v.name,r=J(s);if(r){if(!u){throw new Error("No reference point given for path '"+s+"'")}u=I(u);for(var q=s.split("."),p=0,n=q.length,m=u;n>p;p++){if(""!==q[p]||0!==p){if("^"!==q[p]){break}if(!m.parent){throw new Error("Path '"+s+"' not valid for state '"+u.name+"'")}m=m.parent}else{m=u}}q=q.slice(p).join("."),s=m.name+(m.name&&q?".":"")+q}var f=b[s];return !f||!t&&(t||f!==v&&f.self!==v)?aS:f}function H(f,e){F[f]||(F[f]=[]),F[f].push(e)}function G(f){for(var e=F[f]||[];e.length;){E(e.shift())}}function E(a){a=aR(a,{self:a,resolve:a.resolve||{},toString:function(){return this.name}});var p=a.name;if(!ag(p)||p.indexOf("@")>=0){throw new Error("State must have a valid name")}if(b.hasOwnProperty(p)){throw new Error("State '"+p+"' is already defined")}var n=-1!==p.indexOf(".")?p.substring(0,p.lastIndexOf(".")):ag(a.parent)?a.parent:af(a.parent)&&ag(a.parent.name)?a.parent.name:"";if(n&&!b[n]){return H(n,a.self)}for(var m in l){ah(l[m])&&(a[m]=l[m](a,l.$delegates[m]))}return b[p]=a,!a[D]&&a.url&&L.when(a.url,["$match","$stateParams",function(e,f){c.$current.navigable==a&&aL(e,f)||c.transitionTo(a,e,{inherit:!0,location:!1})}]),G(p),a}function o(e){return e.indexOf("*")>-1}function k(m){for(var f=m.split("."),q=c.$current.name.split("."),p=0,n=f.length;n>p;p++){"*"===f[p]&&(q[p]="*")}return"**"===f[0]&&(q=q.slice(aN(q,f[1])),q.unshift("**")),"**"===f[f.length-1]&&(q.splice(aN(q,f[f.length-2])+1,Number.MAX_VALUE),q.push("**")),f.length!=q.length?!1:q.join("")===f.join("")}function j(f,e){return ag(f)&&!ai(e)?l[f]:ah(e)&&ag(f)?(l[f]&&!l.$delegates[f]&&(l.$delegates[f]=l[f]),l[f]=e,this):this}function i(f,e){return af(f)?e=f:e.name=f,E(e),this}function h(O,N,M,B,z,y,w,s,R){function Q(a,t,q,p){var n=O.$broadcast("$stateNotFound",a,t,q);if(n.defaultPrevented){return w.update(),m}if(!n.retry){return null}if(p.$retry){return w.update(),S}var e=c.transition=N.when(n.retry);return e.then(function(){return e!==c.transition?x:(a.options.$retry=!0,c.transitionTo(a.to,a.toParams,a.options))},function(){return m}),w.update(),e}function P(U,T,C,A,v,u){function t(){var a=[];return ad(U.views,function(V,p){var n=V.resolve&&V.resolve!==U.resolve?V.resolve:{};n.$template=[function(){return M.load(p,{view:V,locals:v.globals,params:q,notify:u.notify})||""}],a.push(z.resolve(n,v.globals,v.resolve,U).then(function(aV){if(ah(V.controllerProvider)||ae(V.controllerProvider)){var W=aT.extend({},n,v.globals);aV.$$controller=B.invoke(V.controllerProvider,null,W)}else{aV.$$controller=V.controller}aV.$$state=U,aV.$$controllerAs=V.controllerAs,v[p]=aV}))}),N.all(a).then(function(){return v.globals})}var q=C?T:aK(U.params.$$keys(),T),f={$stateParams:q};v.resolve=z.resolve(U.resolve,f,v.resolve,U);var e=[v.resolve.then(function(n){v.globals=n})];return A&&e.push(A),N.all(e).then(t).then(function(n){return v})}var x=N.reject(new Error("transition superseded")),r=N.reject(new Error("transition prevented")),m=N.reject(new Error("transition aborted")),S=N.reject(new Error("transition failed"));return d.locals={resolve:null,globals:{$stateParams:{}}},c={params:{},current:d.self,$current:d,transition:null},c.reload=function(e){return c.transitionTo(c.current,y,{reload:e||!0,inherit:!1,notify:!0})},c.go=function(f,e,n){return c.transitionTo(f,e,ac({inherit:!0,relative:c.$current},n))},c.transitionTo=function(a2,a1,a0){a1=a1||{},a0=ac({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},a0||{});var aZ,aY=c.$current,aX=c.params,aW=aY.path,aV=I(a2,a0.relative),W=a1["#"];if(!ai(aV)){var U={to:a2,toParams:a1,options:a0},T=Q(U,aY.self,aX,a0);if(T){return T}if(a2=U.to,a1=U.toParams,a0=U.options,aV=I(a2,a0.relative),!ai(aV)){if(!a0.relative){throw new Error("No such state '"+a2+"'")}throw new Error("Could not resolve '"+a2+"' from state '"+a0.relative+"'")}}if(aV[D]){throw new Error("Cannot transition to abstract state '"+a2+"'")}if(a0.inherit&&(a1=aM(y,a1||{},c.$current,aV)),!aV.params.$$validates(a1)){return S}a1=aV.params.$$values(a1),a2=aV;var n=a2.path,V=0,C=n[V],A=d.locals,v=[];if(a0.reload){if(ag(a0.reload)||af(a0.reload)){if(af(a0.reload)&&!a0.reload.name){throw new Error("Invalid reload state object")}var u=a0.reload===!0?aW[0]:I(a0.reload);if(a0.reload&&!u){throw new Error("No such reload state '"+(ag(a0.reload)?a0.reload:a0.reload.name)+"'")}for(;C&&C===aW[V]&&C!==u;){A=v[V]=C.locals,V++,C=n[V]}}}else{for(;C&&C===aW[V]&&C.ownParams.$$equals(a1,aX);){A=v[V]=C.locals,V++,C=n[V]}}if(g(a2,a1,aY,aX,A,a0)){return W&&(a1["#"]=W),c.params=a1,ab(c.params,y),ab(aK(a2.params.$$keys(),y),a2.locals.globals.$stateParams),a0.location&&a2.navigable&&a2.navigable.url&&(w.push(a2.navigable.url,a1,{$$avoidResync:!0,replace:"replace"===a0.location}),w.update(!0)),c.transition=null,N.when(c.current)}if(a1=aK(a2.params.$$keys(),a1||{}),W&&(a1["#"]=W),a0.notify&&O.$broadcast("$stateChangeStart",a2.self,a1,aY.self,aX,a0).defaultPrevented){return O.$broadcast("$stateChangeCancel",a2.self,a1,aY.self,aX),null==c.transition&&w.update(),r}for(var p=N.when(A),e=V;e<n.length;e++,C=n[e]){A=v[e]=aR(A),p=P(C,a1,C===a2,p,A,a0)}var a=c.transition=p.then(function(){var t,q,f;if(c.transition!==a){return x}for(t=aW.length-1;t>=V;t--){f=aW[t],f.self.onExit&&B.invoke(f.self.onExit,f.self,f.locals.globals),f.locals=null}for(t=V;t<n.length;t++){q=n[t],q.locals=v[t],q.self.onEnter&&B.invoke(q.self.onEnter,q.self,q.locals.globals)}return c.transition!==a?x:(c.$current=a2,c.current=a2.self,c.params=a1,ab(c.params,y),c.transition=null,a0.location&&a2.navigable&&w.push(a2.navigable.url,a2.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===a0.location}),a0.notify&&O.$broadcast("$stateChangeSuccess",a2.self,a1,aY.self,aX),w.update(!0),c.current)},function(f){return c.transition!==a?x:(c.transition=null,aZ=O.$broadcast("$stateChangeError",a2.self,a1,aY.self,aX,f),aZ.defaultPrevented||w.update(),N.reject(f))});return a},c.is=function(n,f,q){q=ac({relative:c.$current},q||{});var p=I(n,q.relative);return ai(p)?c.$current!==p?!1:f?aL(p.params.$$values(f),y):!0:aS},c.includes=function(n,f,q){if(q=ac({relative:c.$current},q||{}),ag(n)&&o(n)){if(!k(n)){return !1}n=c.$current.name}var p=I(n,q.relative);return ai(p)?ai(c.$current.includes[p.name])?f?aL(p.params.$$values(f),y,aO(f)):!0:!1:aS},c.href=function(p,n,u){u=ac({lossy:!0,inherit:!0,absolute:!1,relative:c.$current},u||{});var t=I(p,u.relative);if(!ai(t)){return null}u.inherit&&(n=aM(y,n||{},c.$current,t));var q=t&&u.lossy?t.navigable:t;return q&&q.url!==aS&&null!==q.url?w.href(q.url,aK(t.params.$$keys().concat("#"),n||{}),{absolute:u.absolute}):null},c.get=function(f,e){if(0===arguments.length){return aG(aO(b),function(p){return b[p].self})}var n=I(f,e||c.$current);return n&&n.self?n.self:null},c}function g(n,m,t,s,r,q){function p(v,u,A){function z(a){return"search"!=v.params[a].location}var y=v.params.$$keys().filter(z),x=aJ.apply({},[v.params].concat(y)),w=new Z.ParamSet(x);return w.$$equals(u,A)}return !q.reload&&n===t&&(r===t.locals||n.self.reloadOnSearch===!1&&p(t,s,m))?!0:void 0}var d,c,b={},F={},D="abstract",l={parent:function(f){if(ai(f.parent)&&f.parent){return I(f.parent)}var e=/^(.+)\.[^.]+$/.exec(f.name);return e?I(e[1]):d},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=aR(e.parent.data,e.data)),e.data},url:function(f){var e=f.url,m={params:f.params||{}};if(ag(e)){return"^"==e.charAt(0)?K.compile(e.substring(1),m):(f.parent.navigable||d).url.concat(e,m)}if(!e||K.isMatcher(e)){return e}throw new Error("Invalid url '"+e+"' in state '"+f+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(f){var e=f.url&&f.url.params||new Z.ParamSet;return ad(f.params||{},function(m,n){e[n]||(e[n]=new Z.Param(n,null,m,"config"))}),e},params:function(f){var e=aJ(f.ownParams,f.ownParams.$$keys());return f.parent&&f.parent.params?ac(f.parent.params.$$new(),e):new Z.ParamSet},views:function(f){var e={};return ad(ai(f.views)?f.views:{"":f},function(m,a){a.indexOf("@")<0&&(a+="@"+f.parent.name),e[a]=m}),e},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(f){var e=f.parent?ac({},f.parent.includes):{};return e[f.name]=!0,e},$delegates:{}};d=E({name:"",url:"^",views:null,"abstract":!0}),d.navigable=null,this.decorator=j,this.state=i,this.$get=h,h.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function ay(){function b(d,c){return{load:function(f,i){var h,g={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return i=ac(g,i),i.view&&(h=c.fromConfig(i.view,i.params,i.locals)),h}}}this.$get=b,b.$inject=["$rootScope","$templateFactory"]}function ax(){var b=!1;this.useAnchorScroll=function(){b=!0},this.$get=["$anchorScroll","$timeout",function(a,d){return b?a:function(c){return d(function(){c[0].scrollIntoView()},0,!1)}}]}function aw(t,s,r,q){function p(){return s.has?function(c){return s.has(c)?s.get(c):null}:function(d){try{return s.get(d)}catch(c){return null}}}function o(g,k){function j(c){return 1===Y&&X>=4?!!l.enabled(c):1===Y&&X>=2?!!l.enabled():!!m}var i={enter:function(e,d,f){d.after(e),f()},leave:function(d,c){d.remove(),c()}};if(g.noanimation){return i}if(l){return{enter:function(d,u,e){j(d)?aT.version.minor>2?l.enter(d,null,u).then(e):l.enter(d,null,u,e):i.enter(d,u,e)},leave:function(d,e){j(d)?aT.version.minor>2?l.leave(d).then(e):l.leave(d,e):i.leave(d,e)}}}if(m){var h=m&&m(k,g);return{enter:function(e,d,f){h.enter(e,null,d),f()},leave:function(d,c){h.leave(d),c()}}}return i}var n=p(),m=n("$animator"),l=n("$animate"),b={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,d,a){return function(D,C,B){function A(){function i(){f&&f.remove(),j&&j.$destroy()}var f=y,j=w;j&&(j._willBeDestroyed=!0),x?(g.leave(x,function(){i(),y=null}),y=x):(i(),y=null),x=null,w=null}function z(E){var f,c=au(D,B,C,q),j=c&&t.$current&&t.$current.locals[c];if((E||j!==v)&&!D._willBeDestroyed){f=D.$new(),v=t.$current.locals[c],f.$emit("$viewContentLoading",c);var i=a(f,function(k){g.enter(k,C,function(){w&&w.$emit("$viewContentAnimationEnded"),(aT.isDefined(h)&&!h||D.$eval(h))&&r(k)}),A()});x=i,w=f,w.$emit("$viewContentLoaded",c),w.$eval(u)}}var y,x,w,v,u=B.onload||"",h=B.autoscroll,g=o(B,D);D.$on("$stateChangeSuccess",function(){z(!1)}),z(!0)}}};return b}function av(f,e,h,g){return{restrict:"ECA",priority:-400,compile:function(b){var a=b.html();return function(s,r,q){var p=h.$current,o=au(s,q,r,g),n=p&&p.locals[o];if(n){r.data("$uiView",{name:o,state:n.$$state}),r.html(n.$template?n.$template:a);var d=f(r.contents());if(n.$$controller){n.$scope=s,n.$element=r;var c=e(n.$$controller,n);n.$$controllerAs&&(s[n.$$controllerAs]=c),r.data("$ngControllerController",c),r.children().data("$ngControllerController",c)}d(s)}}}}}function au(h,g,l,k){var j=k(g.uiView||g.name||"")(h),i=l.inheritedData("$uiView");return j.indexOf("@")>=0?j:j+"@"+(i?i.state.name:"")}function at(f,e){var h,g=f.match(/^\s*({[^}]*})\s*$/);if(g&&(f=e+"("+g[1]+")"),h=f.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!h||4!==h.length){throw new Error("Invalid state ref '"+f+"'")}return{state:h[1],paramExpr:h[3]||null}}function ar(d){var c=d.parent().inheritedData("$uiView");return c&&c.state&&c.state.name?c.state:void 0}function aq(e){var d="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),f="FORM"===e[0].nodeName;return{attr:f?"action":d?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!f}}function ap(g,f,j,i,h){return function(e){var d=e.which||e.button,c=h();if(!(d>1||e.ctrlKey||e.metaKey||e.shiftKey||g.attr("target"))){var b=j(function(){f.go(c.state,c.params,c.options)});e.preventDefault();var a=i.isAnchor&&!c.href?1:0;e.preventDefault=function(){a--<=0&&j.cancel(b)}}}}function ao(d,c){return{relative:ar(d)||c.$current,inherit:!0}}function an(b,d){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(s,r,q,p){var o=at(q.uiSref,b.current.name),n={state:o.state,href:null,params:null},m=aq(r),c=p[1]||p[0];n.options=ac(ao(r,b),q.uiSrefOpts?s.$eval(q.uiSrefOpts):{});var a=function(e){e&&(n.params=aT.copy(e)),n.href=b.href(o.state,n.params,n.options),c&&c.$$addStateInfo(o.state,n.params),null!==n.href&&q.$set(m.attr,n.href)};o.paramExpr&&(s.$watch(o.paramExpr,function(e){e!==n.params&&a(e)},!0),n.params=aT.copy(s.$eval(o.paramExpr))),a(),m.clickable&&r.bind("click",ap(r,b,d,m,function(){return n}))}}}function am(d,c){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(t,s,r,q){function p(e){a.state=e[0],a.params=e[1],a.options=e[2],a.href=d.href(a.state,a.params,a.options),n&&n.$$addStateInfo(a.state,a.params),a.href&&r.$set(o.attr,a.href)}var o=aq(s),n=q[1]||q[0],m=[r.uiState,r.uiStateParams||null,r.uiStateOpts||null],b="["+m.map(function(e){return e||"null"}).join(", ")+"]",a={state:null,params:null,options:null,href:null};t.$watch(b,p,!0),p(t.$eval(b)),o.clickable&&s.bind("click",ap(s,d,c,o,function(){return a}))}}}function al(e,d,f){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(F,E,D,C){function B(h,l,k){var j=e.get(h,ar(E)),i=A(h,l);s.push({state:j||{name:h},params:l,hash:i}),c[i]=k}function A(b,g){if(!ag(b)){throw new Error("state should be a string")}return af(g)?b+aa(g):(g=F.$eval(g),af(g)?b+aa(g):b)}function z(){for(var b=0;b<s.length;b++){w(s[b].state,s[b].params)?y(E,c[s[b].hash]):x(E,c[s[b].hash]),v(s[b].state,s[b].params)?y(E,u):x(E,u)}}function y(h,g){C(function(){h.addClass(g)})}function x(h,g){h.removeClass(g)}function w(g,h){return e.includes(g.name,h)}function v(g,h){return e.is(g.name,h)}var u,t,s=[],c={};u=f(D.uiSrefActiveEq||"",!1)(F);try{t=F.$eval(D.uiSrefActive)}catch(a){}t=t||f(D.uiSrefActive||"",!1)(F),af(t)&&ad(t,function(h,g){if(ag(h)){var b=at(h,e.current.name);B(b.state,F.$eval(b.paramExpr),g)}}),this.$$addStateInfo=function(h,g){af(t)&&s.length>0||(B(h,g,t),z())},F.$on("$stateChangeSuccess",z),z()}]}}function ak(d){var c=function(a,e){return d.is(a,e)};return c.$stateful=!0,c}function aj(d){var c=function(a,f,e){return d.includes(a,f,e)};return c.$stateful=!0,c}var ai=aT.isDefined,ah=aT.isFunction,ag=aT.isString,af=aT.isObject,ae=aT.isArray,ad=aT.forEach,ac=aT.extend,ab=aT.copy,aa=aT.toJson;aT.module("ui.router.util",["ng"]),aT.module("ui.router.router",["ui.router.util"]),aT.module("ui.router.state",["ui.router.router","ui.router.util"]),aT.module("ui.router",["ui.router.state"]),aT.module("ui.router.compat",["ui.router"]),aF.$inject=["$q","$injector"],aT.module("ui.router.util").service("$resolve",aF),aE.$inject=["$http","$templateCache","$injector"],aT.module("ui.router.util").service("$templateFactory",aE);var Z;aD.prototype.concat=function(e,d){var f={caseInsensitive:Z.caseInsensitive(),strict:Z.strictMode(),squash:Z.defaultSquashPolicy()};return new aD(this.sourcePath+e+this.sourceSearch,ac(f,d),this)},aD.prototype.toString=function(){return this.source},aD.prototype.exec=function(z,y){function x(g){function f(b){return b.split("").reverse().join("")}function j(b){return b.replace(/\\-/g,"-")}var i=f(g).split(/-(?!\\)/),h=aG(i,f);return aG(h,j).reverse()}var w=this.regexp.exec(z);if(!w){return null}y=y||{};var v,u,t,s=this.parameters(),r=s.length,q=this.segments.length-1,p={};if(q!==w.length-1){throw new Error("Unbalanced capture group in route '"+this.source+"'")}var o,n;for(v=0;q>v;v++){for(t=s[v],o=this.params[t],n=w[v+1],u=0;u<o.replace.length;u++){o.replace[u].from===n&&(n=o.replace[u].to)}n&&o.array===!0&&(n=x(n)),ai(n)&&(n=o.type.decode(n)),p[t]=o.value(n)}for(;r>v;v++){for(t=s[v],p[t]=this.params[t].value(y[t]),o=this.params[t],n=y[t],u=0;u<o.replace.length;u++){o.replace[u].from===n&&(n=o.replace[u].to)}ai(n)&&(n=o.type.decode(n)),p[t]=o.value(n)}return p},aD.prototype.parameters=function(b){return ai(b)?this.params[b]||null:this.$$paramNames},aD.prototype.validates=function(b){return this.params.$$validates(b)},aD.prototype.format=function(N){function M(b){return encodeURIComponent(b).replace(/-/g,function(c){return"%5C%"+c.charCodeAt(0).toString(16).toUpperCase()})}N=N||{};var L=this.segments,K=this.parameters(),J=this.params;if(!this.validates(N)){return null}var I,H=!1,G=L.length-1,F=K.length,E=L[0];for(I=0;F>I;I++){var D=G>I,C=K[I],B=J[C],A=B.value(N[C]),z=B.isOptional&&B.type.equals(B.value(),A),y=z?B.squash:!1,x=B.type.encode(A);if(D){var w=L[I+1],v=I+1===G;if(y===!1){null!=x&&(E+=ae(x)?aG(x,M).join("-"):encodeURIComponent(x)),E+=w}else{if(y===!0){var o=E.match(/\/$/)?/\/?(.*)/:/(.*)/;E+=w.match(o)[1]}else{ag(y)&&(E+=y+w)}}v&&B.squash===!0&&"/"===E.slice(-1)&&(E=E.slice(0,-1))}else{if(null==x||z&&y!==!1){continue}if(ae(x)||(x=[x]),0===x.length){continue}x=aG(x,encodeURIComponent).join("&"+C+"="),E+=(H?"&":"?")+(C+"="+x),H=!0}}return E},aC.prototype.is=function(d,c){return !0},aC.prototype.encode=function(d,c){return d},aC.prototype.decode=function(d,c){return d},aC.prototype.equals=function(d,c){return d==c},aC.prototype.$subPattern=function(){var b=this.pattern.toString();return b.substr(1,b.length-2)},aC.prototype.pattern=/.*/,aC.prototype.toString=function(){return"{Type:"+this.name+"}"},aC.prototype.$normalize=function(b){return this.is(b)?b:this.decode(b)},aC.prototype.$asArray=function(e,c){function f(k,j){function q(g,d){return function(){return g[d].apply(g,arguments)}}function p(b){return ae(b)?b:ai(b)?[b]:[]}function o(b){switch(b.length){case 0:return aS;case 1:return"auto"===j?b[0]:b;default:return b}}function n(b){return !b}function m(g,d){return function(b){if(ae(b)&&0===b.length){return b}b=p(b);var a=aG(b,g);return d===!0?0===aH(a,n).length:o(a)}}function l(b){return function(a,s){var r=p(a),i=p(s);if(r.length!==i.length){return !1}for(var h=0;h<r.length;h++){if(!b(r[h],i[h])){return !1}}return !0}}this.encode=m(q(k,"encode")),this.decode=m(q(k,"decode")),this.is=m(q(k,"is"),!0),this.equals=l(q(k,"equals")),this.pattern=k.pattern,this.$normalize=m(q(k,"$normalize")),this.name=k.name,this.$arrayMode=j}if(!e){return this}if("auto"===e&&!c){throw new Error("'auto' array mode is for query parameters only")}return new f(this,e)},aT.module("ui.router.util").provider("$urlMatcherFactory",aB),aT.module("ui.router.util").run(["$urlMatcherFactory",function(b){}]),aA.$inject=["$locationProvider","$urlMatcherFactoryProvider"],aT.module("ui.router.router").provider("$urlRouter",aA),az.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],aT.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",az),ay.$inject=[],aT.module("ui.router.state").provider("$view",ay),aT.module("ui.router.state").provider("$uiViewScroll",ax);var Y=aT.version.major,X=aT.version.minor;aw.$inject=["$state","$injector","$uiViewScroll","$interpolate"],av.$inject=["$compile","$controller","$state","$interpolate"],aT.module("ui.router.state").directive("uiView",aw),aT.module("ui.router.state").directive("uiView",av),an.$inject=["$state","$timeout"],am.$inject=["$state","$timeout"],al.$inject=["$state","$stateParams","$interpolate"],aT.module("ui.router.state").directive("uiSref",an).directive("uiSrefActive",al).directive("uiSrefActiveEq",al).directive("uiState",am),ak.$inject=["$state"],aj.$inject=["$state"],aT.module("ui.router.state").filter("isState",ak).filter("includedByState",aj)}(window,window.angular);(function(a){if(typeof exports=="object"&&typeof module=="object"){module.exports=a()}else{if(typeof define=="function"&&define.amd){return define([],a)}else{(this||window).CodeMirror=a()}}})(function(){var d1=navigator.userAgent;var ec=navigator.platform;var cn=/gecko\/\d/i.test(d1);var eO=/MSIE \d/.test(d1);var bI=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(d1);var dK=eO||bI;var k=dK&&(eO?document.documentMode||6:bI[1]);var cZ=/WebKit\//.test(d1);var dN=cZ&&/Qt\/\d+\.\d+/.test(d1);var dc=/Chrome\//.test(d1);var d4=/Opera\//.test(d1);var aB=/Apple Computer/.test(navigator.vendor);var c6=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(d1);var fz=/PhantomJS/.test(d1);var e5=/AppleWebKit/.test(d1)&&/Mobile\/\w+/.test(d1);var ei=e5||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(d1);var b6=e5||/Mac/.test(ec);var aO=/win/i.test(ec);var aY=d4&&d1.match(/Version\/(\d*\.\d*)/);if(aY){aY=Number(aY[1])}if(aY&&aY>=15){d4=false;cZ=true}var bP=b6&&(dN||d4&&(aY==null||aY<12.11));var gf=cn||(dK&&k>=9);var gi=false,a6=false;function H(gq,gs){if(!(this instanceof H)){return new H(gq,gs)}this.options=gs=gs?aM(gs):{};aM(e7,gs,false);cd(gs);var gw=gs.value;if(typeof gw=="string"){gw=new ar(gw,gs.mode,null,gs.lineSeparator)}this.doc=gw;var gr=new H.inputStyles[gs.inputStyle](this);var gv=this.display=new eL(gq,gw,gr);gv.wrapper.CodeMirror=this;ee(this);cN(this);if(gs.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}if(gs.autofocus&&!ei){gv.input.focus()}aC(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,delayingBlurEvent:false,focused:false,suppressEdits:false,pasteIncoming:false,cutIncoming:false,selectingText:false,draggingText:false,highlight:new go(),keySeq:null,specialChars:null};var gp=this;if(dK&&k<11){setTimeout(function(){gp.display.input.reset(true)},20)}fV(this);bi();cH(this);this.curOp.forceUpdate=true;ed(this,gw);if((gs.autofocus&&!ei)||gp.hasFocus()){setTimeout(cu(cA,this),20)}else{aU(this)}for(var gu in be){if(be.hasOwnProperty(gu)){be[gu](this,gs[gu],cb)}}d6(this);if(gs.finishInit){gs.finishInit(this)}for(var gt=0;gt<a7.length;++gt){a7[gt](this)}al(this);if(cZ&&gs.lineWrapping&&getComputedStyle(gv.lineDiv).textRendering=="optimizelegibility"){gv.lineDiv.style.textRendering="auto"}}function eL(gp,gr,gq){var gs=this;this.input=gq;gs.scrollbarFiller=f8("div",null,"CodeMirror-scrollbar-filler");gs.scrollbarFiller.setAttribute("cm-not-content","true");gs.gutterFiller=f8("div",null,"CodeMirror-gutter-filler");gs.gutterFiller.setAttribute("cm-not-content","true");gs.lineDiv=f8("div",null,"CodeMirror-code");gs.selectionDiv=f8("div",null,null,"position: relative; z-index: 1");gs.cursorDiv=f8("div",null,"CodeMirror-cursors");gs.measure=f8("div",null,"CodeMirror-measure");gs.lineMeasure=f8("div",null,"CodeMirror-measure");gs.lineSpace=f8("div",[gs.measure,gs.lineMeasure,gs.selectionDiv,gs.cursorDiv,gs.lineDiv],null,"position: relative; outline: none");gs.mover=f8("div",[f8("div",[gs.lineSpace],"CodeMirror-lines")],null,"position: relative");gs.sizer=f8("div",[gs.mover],"CodeMirror-sizer");gs.sizerWidth=null;gs.heightForcer=f8("div",null,null,"position: absolute; height: "+dJ+"px; width: 1px;");gs.gutters=f8("div",null,"CodeMirror-gutters");gs.lineGutter=null;gs.scroller=f8("div",[gs.sizer,gs.heightForcer,gs.gutters],"CodeMirror-scroll");gs.scroller.setAttribute("tabIndex","-1");gs.wrapper=f8("div",[gs.scrollbarFiller,gs.gutterFiller,gs.scroller],"CodeMirror");if(dK&&k<8){gs.gutters.style.zIndex=-1;gs.scroller.style.paddingRight=0}if(!cZ&&!(cn&&ei)){gs.scroller.draggable=true}if(gp){if(gp.appendChild){gp.appendChild(gs.wrapper)}else{gp(gs.wrapper)}}gs.viewFrom=gs.viewTo=gr.first;gs.reportedViewFrom=gs.reportedViewTo=gr.first;gs.view=[];gs.renderedView=null;gs.externalMeasured=null;gs.viewOffset=0;gs.lastWrapHeight=gs.lastWrapWidth=0;gs.updateLineNumbers=null;gs.nativeBarWidth=gs.barHeight=gs.barWidth=0;gs.scrollbarsClipped=false;gs.lineNumWidth=gs.lineNumInnerWidth=gs.lineNumChars=null;gs.alignWidgets=false;gs.cachedCharWidth=gs.cachedTextHeight=gs.cachedPaddingH=null;gs.maxLine=null;gs.maxLineLength=0;gs.maxLineChanged=false;gs.wheelDX=gs.wheelDY=gs.wheelStartX=gs.wheelStartY=null;gs.shift=false;gs.selForContextMenu=null;gs.activeTouch=null;gq.init(gs)}function bq(gp){gp.doc.mode=H.getMode(gp.options,gp.doc.modeOption);eo(gp)}function eo(gp){gp.doc.iter(function(gq){if(gq.stateAfter){gq.stateAfter=null}if(gq.styles){gq.styles=null}});gp.doc.frontier=gp.doc.first;eh(gp,100);gp.state.modeGen++;if(gp.curOp){ah(gp)}}function eJ(gp){if(gp.options.lineWrapping){fF(gp.display.wrapper,"CodeMirror-wrap");gp.display.sizer.style.minWidth="";gp.display.sizerWidth=null}else{f(gp.display.wrapper,"CodeMirror-wrap");h(gp)}X(gp);ah(gp);aj(gp);setTimeout(function(){e2(gp)},100)}function bd(gp){var gr=aX(gp.display),gq=gp.options.lineWrapping;var gs=gq&&Math.max(5,gp.display.scroller.clientWidth/dD(gp.display)-3);return function(gu){if(fB(gp.doc,gu)){return 0}var gt=0;if(gu.widgets){for(var gv=0;gv<gu.widgets.length;gv++){if(gu.widgets[gv].height){gt+=gu.widgets[gv].height}}}if(gq){return gt+(Math.ceil(gu.text.length/gs)||1)*gr}else{return gt+gr}}}function X(gp){var gr=gp.doc,gq=bd(gp);gr.iter(function(gs){var gt=gq(gs);if(gt!=gs.height){gb(gs,gt)}})}function cN(gp){gp.display.wrapper.className=gp.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+gp.options.theme.replace(/(^|\s)\s*/g," cm-s-");aj(gp)}function dw(gp){ee(gp);ah(gp);setTimeout(function(){eH(gp)},20)}function ee(gp){var gq=gp.display.gutters,gu=gp.options.gutters;d2(gq);for(var gr=0;gr<gu.length;++gr){var gs=gu[gr];var gt=gq.appendChild(f8("div",null,"CodeMirror-gutter "+gs));if(gs=="CodeMirror-linenumbers"){gp.display.lineGutter=gt;gt.style.width=(gp.display.lineNumWidth||1)+"px"}}gq.style.display=gr?"":"none";c3(gp)}function c3(gp){var gq=gp.display.gutters.offsetWidth;gp.display.sizer.style.marginLeft=gq+"px"}function eq(gr){if(gr.height==0){return 0}var gq=gr.text.length,gp,gt=gr;while(gp=eS(gt)){var gs=gp.find(0,true);gt=gs.from.line;gq+=gs.from.ch-gs.to.ch}gt=gr;while(gp=ex(gt)){var gs=gp.find(0,true);gq-=gt.text.length-gs.from.ch;gt=gs.to.line;gq+=gt.text.length-gs.to.ch}return gq}function h(gp){var gr=gp.display,gq=gp.doc;gr.maxLine=fk(gq,gq.first);gr.maxLineLength=eq(gr.maxLine);gr.maxLineChanged=true;gq.iter(function(gt){var gs=eq(gt);if(gs>gr.maxLineLength){gr.maxLineLength=gs;gr.maxLine=gt}})}function cd(gp){var gq=dh(gp.gutters,"CodeMirror-linenumbers");if(gq==-1&&gp.lineNumbers){gp.gutters=gp.gutters.concat(["CodeMirror-linenumbers"])}else{if(gq>-1&&!gp.lineNumbers){gp.gutters=gp.gutters.slice(0);gp.gutters.splice(gq,1)}}}function dA(gp){var gs=gp.display,gr=gs.gutters.offsetWidth;var gq=Math.round(gp.doc.height+bH(gp.display));return{clientHeight:gs.scroller.clientHeight,viewHeight:gs.wrapper.clientHeight,scrollWidth:gs.scroller.scrollWidth,clientWidth:gs.scroller.clientWidth,viewWidth:gs.wrapper.clientWidth,barLeft:gp.options.fixedGutter?gr:0,docHeight:gq,scrollHeight:gq+cS(gp)+gs.barHeight,nativeBarWidth:gs.nativeBarWidth,gutterWidth:gr}}function dk(gr,gq,gp){this.cm=gp;var gs=this.vert=f8("div",[f8("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");var gt=this.horiz=f8("div",[f8("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");gr(gs);gr(gt);bW(gs,"scroll",function(){if(gs.clientHeight){gq(gs.scrollTop,"vertical")}});bW(gt,"scroll",function(){if(gt.clientWidth){gq(gt.scrollLeft,"horizontal")}});this.checkedZeroWidth=false;if(dK&&k<8){this.horiz.style.minHeight=this.vert.style.minWidth="18px"}}dk.prototype=aM({update:function(gs){var gt=gs.scrollWidth>gs.clientWidth+1;var gr=gs.scrollHeight>gs.clientHeight+1;var gu=gs.nativeBarWidth;if(gr){this.vert.style.display="block";this.vert.style.bottom=gt?gu+"px":"0";var gq=gs.viewHeight-(gt?gu:0);this.vert.firstChild.style.height=Math.max(0,gs.scrollHeight-gs.clientHeight+gq)+"px"}else{this.vert.style.display="";this.vert.firstChild.style.height="0"}if(gt){this.horiz.style.display="block";this.horiz.style.right=gr?gu+"px":"0";this.horiz.style.left=gs.barLeft+"px";var gp=gs.viewWidth-gs.barLeft-(gr?gu:0);this.horiz.firstChild.style.width=(gs.scrollWidth-gs.clientWidth+gp)+"px"}else{this.horiz.style.display="";this.horiz.firstChild.style.width="0"}if(!this.checkedZeroWidth&&gs.clientHeight>0){if(gu==0){this.zeroWidthHack()}this.checkedZeroWidth=true}return{right:gr?gu:0,bottom:gt?gu:0}},setScrollLeft:function(gp){if(this.horiz.scrollLeft!=gp){this.horiz.scrollLeft=gp}if(this.disableHoriz){this.enableZeroWidthBar(this.horiz,this.disableHoriz)}},setScrollTop:function(gp){if(this.vert.scrollTop!=gp){this.vert.scrollTop=gp}if(this.disableVert){this.enableZeroWidthBar(this.vert,this.disableVert)}},zeroWidthHack:function(){var gp=b6&&!c6?"12px":"18px";this.horiz.style.height=this.vert.style.width=gp;this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new go;this.disableVert=new go},enableZeroWidthBar:function(gq,gp){gq.style.pointerEvents="auto";function gr(){var gt=gq.getBoundingClientRect();var gs=document.elementFromPoint(gt.left+1,gt.bottom-1);if(gs!=gq){gq.style.pointerEvents="none"}else{gp.set(1000,gr)}}gp.set(1000,gr)},clear:function(){var gp=this.horiz.parentNode;gp.removeChild(this.horiz);gp.removeChild(this.vert)}},dk.prototype);function e8(){}e8.prototype=aM({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},e8.prototype);H.scrollbarModel={"native":dk,"null":e8};function aC(gp){if(gp.display.scrollbars){gp.display.scrollbars.clear();if(gp.display.scrollbars.addClass){f(gp.display.wrapper,gp.display.scrollbars.addClass)}}gp.display.scrollbars=new H.scrollbarModel[gp.options.scrollbarStyle](function(gq){gp.display.wrapper.insertBefore(gq,gp.display.scrollbarFiller);bW(gq,"mousedown",function(){if(gp.state.focused){setTimeout(function(){gp.display.input.focus()},0)}});gq.setAttribute("cm-not-content","true")},function(gr,gq){if(gq=="horizontal"){bD(gp,gr)}else{N(gp,gr)}},gp);if(gp.display.scrollbars.addClass){fF(gp.display.wrapper,gp.display.scrollbars.addClass)}}function e2(gr,gt){if(!gt){gt=dA(gr)}var gq=gr.display.barWidth,gp=gr.display.barHeight;aT(gr,gt);for(var gs=0;gs<4&&gq!=gr.display.barWidth||gp!=gr.display.barHeight;gs++){if(gq!=gr.display.barWidth&&gr.options.lineWrapping){a8(gr)}aT(gr,dA(gr));gq=gr.display.barWidth;gp=gr.display.barHeight}}function aT(gp,gq){var gs=gp.display;var gr=gs.scrollbars.update(gq);gs.sizer.style.paddingRight=(gs.barWidth=gr.right)+"px";gs.sizer.style.paddingBottom=(gs.barHeight=gr.bottom)+"px";if(gr.right&&gr.bottom){gs.scrollbarFiller.style.display="block";gs.scrollbarFiller.style.height=gr.bottom+"px";gs.scrollbarFiller.style.width=gr.right+"px"}else{gs.scrollbarFiller.style.display=""}if(gr.bottom&&gp.options.coverGutterNextToScrollbar&&gp.options.fixedGutter){gs.gutterFiller.style.display="block";gs.gutterFiller.style.height=gr.bottom+"px";gs.gutterFiller.style.width=gq.gutterWidth+"px"}else{gs.gutterFiller.style.display=""}}function b5(gs,gw,gr){var gt=gr&&gr.top!=null?Math.max(0,gr.top):gs.scroller.scrollTop;gt=Math.floor(gt-fd(gs));var gp=gr&&gr.bottom!=null?gr.bottom:gt+gs.wrapper.clientHeight;var gu=bF(gw,gt),gv=bF(gw,gp);if(gr&&gr.ensure){var gq=gr.ensure.from.line,gx=gr.ensure.to.line;if(gq<gu){gu=gq;gv=bF(gw,bL(fk(gw,gq))+gs.wrapper.clientHeight)}else{if(Math.min(gx,gw.lastLine())>=gv){gu=bF(gw,bL(fk(gw,gx))-gs.wrapper.clientHeight);gv=gx}}}return{from:gu,to:Math.max(gv,gu+1)}}function eH(gx){var gv=gx.display,gw=gv.view;if(!gv.alignWidgets&&(!gv.gutters.firstChild||!gx.options.fixedGutter)){return}var gt=dX(gv)-gv.scroller.scrollLeft+gx.doc.scrollLeft;var gp=gv.gutters.offsetWidth,gq=gt+"px";for(var gs=0;gs<gw.length;gs++){if(!gw[gs].hidden){if(gx.options.fixedGutter&&gw[gs].gutter){gw[gs].gutter.style.left=gq}var gu=gw[gs].alignable;if(gu){for(var gr=0;gr<gu.length;gr++){gu[gr].style.left=gq}}}}if(gx.options.fixedGutter){gv.gutters.style.left=(gt+gp)+"px"}}function d6(gp){if(!gp.options.lineNumbers){return false}var gu=gp.doc,gq=ev(gp.options,gu.first+gu.size-1),gt=gp.display;if(gq.length!=gt.lineNumChars){var gv=gt.measure.appendChild(f8("div",[f8("div",gq)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var gr=gv.firstChild.offsetWidth,gs=gv.offsetWidth-gr;gt.lineGutter.style.width="";gt.lineNumInnerWidth=Math.max(gr,gt.lineGutter.offsetWidth-gs)+1;gt.lineNumWidth=gt.lineNumInnerWidth+gs;gt.lineNumChars=gt.lineNumInnerWidth?gq.length:-1;gt.lineGutter.style.width=gt.lineNumWidth+"px";c3(gp);return true}return false}function ev(gp,gq){return String(gp.lineNumberFormatter(gq+gp.firstLineNumber))}function dX(gp){return gp.scroller.getBoundingClientRect().left-gp.sizer.getBoundingClientRect().left}function aH(gq,gp,gr){var gs=gq.display;this.viewport=gp;this.visible=b5(gs,gq.doc,gp);this.editorIsHidden=!gs.wrapper.offsetWidth;this.wrapperHeight=gs.wrapper.clientHeight;this.wrapperWidth=gs.wrapper.clientWidth;this.oldDisplayWidth=dl(gq);this.force=gr;this.dims=fi(gq);this.events=[]}aH.prototype.signal=function(gq,gp){if(fn(gq,gp)){this.events.push(arguments)}};aH.prototype.finish=function(){for(var gp=0;gp<this.events.length;gp++){aD.apply(null,this.events[gp])}};function J(gp){var gq=gp.display;if(!gq.scrollbarsClipped&&gq.scroller.offsetWidth){gq.nativeBarWidth=gq.scroller.offsetWidth-gq.scroller.clientWidth;gq.heightForcer.style.height=cS(gp)+"px";gq.sizer.style.marginBottom=-gq.nativeBarWidth+"px";gq.sizer.style.borderRightWidth=cS(gp)+"px";gq.scrollbarsClipped=true}}function B(gy,gs){var gt=gy.display,gx=gy.doc;if(gs.editorIsHidden){eA(gy);return false}if(!gs.force&&gs.visible.from>=gt.viewFrom&&gs.visible.to<=gt.viewTo&&(gt.updateLineNumbers==null||gt.updateLineNumbers>=gt.viewTo)&&gt.renderedView==gt.view&&db(gy)==0){return false}if(d6(gy)){eA(gy);gs.dims=fi(gy)}var gr=gx.first+gx.size;var gv=Math.max(gs.visible.from-gy.options.viewportMargin,gx.first);var gw=Math.min(gr,gs.visible.to+gy.options.viewportMargin);if(gt.viewFrom<gv&&gv-gt.viewFrom<20){gv=Math.max(gx.first,gt.viewFrom)}if(gt.viewTo>gw&&gt.viewTo-gw<20){gw=Math.min(gr,gt.viewTo)}if(a6){gv=aV(gy.doc,gv);gw=d3(gy.doc,gw)}var gq=gv!=gt.viewFrom||gw!=gt.viewTo||gt.lastWrapHeight!=gs.wrapperHeight||gt.lastWrapWidth!=gs.wrapperWidth;cQ(gy,gv,gw);gt.viewOffset=bL(fk(gy.doc,gt.viewFrom));gy.display.mover.style.top=gt.viewOffset+"px";var gp=db(gy);if(!gq&&gp==0&&!gs.force&&gt.renderedView==gt.view&&(gt.updateLineNumbers==null||gt.updateLineNumbers>=gt.viewTo)){return false}var gu=dO();if(gp>4){gt.lineDiv.style.display="none"}cl(gy,gt.updateLineNumbers,gs.dims);if(gp>4){gt.lineDiv.style.display=""}gt.renderedView=gt.view;if(gu&&dO()!=gu&&gu.offsetHeight){gu.focus()}d2(gt.cursorDiv);d2(gt.selectionDiv);gt.gutters.style.height=gt.sizer.style.minHeight=0;if(gq){gt.lastWrapHeight=gs.wrapperHeight;gt.lastWrapWidth=gs.wrapperWidth;eh(gy,400)}gt.updateLineNumbers=null;return true}function ci(gq,gt){var gp=gt.viewport;for(var gs=true;;gs=false){if(!gs||!gq.options.lineWrapping||gt.oldDisplayWidth==dl(gq)){if(gp&&gp.top!=null){gp={top:Math.min(gq.doc.height+bH(gq.display)-cU(gq),gp.top)}}gt.visible=b5(gq.display,gq.doc,gp);if(gt.visible.from>=gq.display.viewFrom&&gt.visible.to<=gq.display.viewTo){break}}if(!B(gq,gt)){break}a8(gq);var gr=dA(gq);bB(gq);dz(gq,gr);e2(gq,gr)}gt.signal(gq,"update",gq);if(gq.display.viewFrom!=gq.display.reportedViewFrom||gq.display.viewTo!=gq.display.reportedViewTo){gt.signal(gq,"viewportChange",gq,gq.display.viewFrom,gq.display.viewTo);gq.display.reportedViewFrom=gq.display.viewFrom;gq.display.reportedViewTo=gq.display.viewTo}}function dT(gq,gp){var gs=new aH(gq,gp);if(B(gq,gs)){a8(gq);ci(gq,gs);var gr=dA(gq);bB(gq);dz(gq,gr);e2(gq,gr);gs.finish()}}function dz(gp,gq){gp.display.sizer.style.minHeight=gq.docHeight+"px";var gr=gq.docHeight+gp.display.barHeight;gp.display.heightForcer.style.top=gr+"px";gp.display.gutters.style.height=Math.max(gr+cS(gp),gq.clientHeight)+"px"}function a8(gw){var gu=gw.display;var gq=gu.lineDiv.offsetTop;for(var gr=0;gr<gu.view.length;gr++){var gx=gu.view[gr],gy;if(gx.hidden){continue}if(dK&&k<8){var gt=gx.node.offsetTop+gx.node.offsetHeight;gy=gt-gq;gq=gt}else{var gs=gx.node.getBoundingClientRect();gy=gs.bottom-gs.top}var gv=gx.line.height-gy;if(gy<2){gy=aX(gu)}if(gv>0.001||gv<-0.001){gb(gx.line,gy);ca(gx.line);if(gx.rest){for(var gp=0;gp<gx.rest.length;gp++){ca(gx.rest[gp])}}}}}function ca(gp){if(gp.widgets){for(var gq=0;gq<gp.widgets.length;++gq){gp.widgets[gq].height=gp.widgets[gq].node.parentNode.offsetHeight}}}function fi(gp){var gu=gp.display,gs={},gr={};var gt=gu.gutters.clientLeft;for(var gv=gu.gutters.firstChild,gq=0;gv;gv=gv.nextSibling,++gq){gs[gp.options.gutters[gq]]=gv.offsetLeft+gv.clientLeft+gt;gr[gp.options.gutters[gq]]=gv.clientWidth}return{fixedPos:dX(gu),gutterTotalWidth:gu.gutters.offsetWidth,gutterLeft:gs,gutterWidth:gr,wrapperWidth:gu.wrapper.clientWidth}}function cl(gA,gr,gz){var gw=gA.display,gC=gA.options.lineNumbers;var gp=gw.lineDiv,gB=gp.firstChild;function gv(gE){var gD=gE.nextSibling;if(cZ&&b6&&gA.display.currentWheelTarget==gE){gE.style.display="none"}else{gE.parentNode.removeChild(gE)}return gD}var gx=gw.view,gu=gw.viewFrom;for(var gs=0;gs<gx.length;gs++){var gt=gx[gs];if(gt.hidden){}else{if(!gt.node||gt.node.parentNode!=gp){var gq=aE(gA,gt,gu,gz);gp.insertBefore(gq,gB)}else{while(gB!=gt.node){gB=gv(gB)}var gy=gC&&gr!=null&&gr<=gu&&gt.lineNumber;if(gt.changes){if(dh(gt.changes,"gutter")>-1){gy=false}ab(gA,gt,gu,gz)}if(gy){d2(gt.lineNumber);gt.lineNumber.appendChild(document.createTextNode(ev(gA.options,gu)))}gB=gt.node.nextSibling}}gu+=gt.size}while(gB){gB=gv(gB)}}function ab(gp,gr,gt,gu){for(var gq=0;gq<gr.changes.length;gq++){var gs=gr.changes[gq];if(gs=="text"){fq(gp,gr)}else{if(gs=="gutter"){df(gp,gr,gt,gu)}else{if(gs=="class"){dG(gr)}else{if(gs=="widget"){an(gp,gr,gu)}}}}}gr.changes=null}function fM(gp){if(gp.node==gp.text){gp.node=f8("div",null,null,"position: relative");if(gp.text.parentNode){gp.text.parentNode.replaceChild(gp.node,gp.text)}gp.node.appendChild(gp.text);if(dK&&k<8){gp.node.style.zIndex=2}}return gp.node}function ez(gq){var gp=gq.bgClass?gq.bgClass+" "+(gq.line.bgClass||""):gq.line.bgClass;if(gp){gp+=" CodeMirror-linebackground"}if(gq.background){if(gp){gq.background.className=gp}else{gq.background.parentNode.removeChild(gq.background);gq.background=null}}else{if(gp){var gr=fM(gq);gq.background=gr.insertBefore(f8("div",null,gp),gr.firstChild)}}}function dV(gp,gq){var gr=gp.display.externalMeasured;if(gr&&gr.line==gq.line){gp.display.externalMeasured=null;gq.measure=gr.measure;return gr.built}return eV(gp,gq)}function fq(gp,gs){var gq=gs.text.className;var gr=dV(gp,gs);if(gs.text==gs.node){gs.node=gr.pre}gs.text.parentNode.replaceChild(gr.pre,gs.text);gs.text=gr.pre;if(gr.bgClass!=gs.bgClass||gr.textClass!=gs.textClass){gs.bgClass=gr.bgClass;gs.textClass=gr.textClass;dG(gs)}else{if(gq){gs.text.className=gq}}}function dG(gq){ez(gq);if(gq.line.wrapClass){fM(gq).className=gq.line.wrapClass}else{if(gq.node!=gq.text){gq.node.className=""}}var gp=gq.textClass?gq.textClass+" "+(gq.line.textClass||""):gq.line.textClass;gq.text.className=gp||""}function df(gx,gv,gu,gw){if(gv.gutter){gv.node.removeChild(gv.gutter);gv.gutter=null}if(gv.gutterBackground){gv.node.removeChild(gv.gutterBackground);gv.gutterBackground=null}if(gv.line.gutterClass){var gq=fM(gv);gv.gutterBackground=f8("div",null,"CodeMirror-gutter-background "+gv.line.gutterClass,"left: "+(gx.options.fixedGutter?gw.fixedPos:-gw.gutterTotalWidth)+"px; width: "+gw.gutterTotalWidth+"px");gq.insertBefore(gv.gutterBackground,gv.text)}var gs=gv.line.gutterMarkers;if(gx.options.lineNumbers||gs){var gq=fM(gv);var gt=gv.gutter=f8("div",null,"CodeMirror-gutter-wrapper","left: "+(gx.options.fixedGutter?gw.fixedPos:-gw.gutterTotalWidth)+"px");gx.display.input.setUneditable(gt);gq.insertBefore(gt,gv.text);if(gv.line.gutterClass){gt.className+=" "+gv.line.gutterClass}if(gx.options.lineNumbers&&(!gs||!gs["CodeMirror-linenumbers"])){gv.lineNumber=gt.appendChild(f8("div",ev(gx.options,gu),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+gw.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+gx.display.lineNumInnerWidth+"px"))}if(gs){for(var gr=0;gr<gx.options.gutters.length;++gr){var gp=gx.options.gutters[gr],gy=gs.hasOwnProperty(gp)&&gs[gp];if(gy){gt.appendChild(f8("div",[gy],"CodeMirror-gutter-elt","left: "+gw.gutterLeft[gp]+"px; width: "+gw.gutterWidth[gp]+"px"))}}}}}function an(gp,gq,gt){if(gq.alignable){gq.alignable=null}for(var gs=gq.node.firstChild,gr;gs;gs=gr){var gr=gs.nextSibling;if(gs.className=="CodeMirror-linewidget"){gq.node.removeChild(gs)}}fy(gp,gq,gt)}function aE(gp,gr,gs,gt){var gq=dV(gp,gr);gr.text=gr.node=gq.pre;if(gq.bgClass){gr.bgClass=gq.bgClass}if(gq.textClass){gr.textClass=gq.textClass}dG(gr);df(gp,gr,gs,gt);fy(gp,gr,gt);return gr.node}function fy(gp,gr,gs){gd(gp,gr.line,gr,gs,true);if(gr.rest){for(var gq=0;gq<gr.rest.length;gq++){gd(gp,gr.rest[gq],gr,gs,false)}}}function gd(gx,gy,gu,gw,gs){if(!gy.widgets){return}var gp=fM(gu);for(var gr=0,gv=gy.widgets;gr<gv.length;++gr){var gt=gv[gr],gq=f8("div",[gt.node],"CodeMirror-linewidget");if(!gt.handleMouseEvents){gq.setAttribute("cm-ignore-events","true")}bE(gt,gq,gu,gw);gx.display.input.setUneditable(gq);if(gs&&gt.above){gp.insertBefore(gq,gu.gutter||gu.text)}else{gp.appendChild(gq)}ae(gt,"redraw")}}function bE(gs,gr,gp,gt){if(gs.noHScroll){(gp.alignable||(gp.alignable=[])).push(gr);var gq=gt.wrapperWidth;gr.style.left=gt.fixedPos+"px";if(!gs.coverGutter){gq-=gt.gutterTotalWidth;gr.style.paddingLeft=gt.gutterTotalWidth+"px"}gr.style.width=gq+"px"}if(gs.coverGutter){gr.style.zIndex=5;gr.style.position="relative";if(!gs.noHScroll){gr.style.marginLeft=-gt.gutterTotalWidth+"px"}}}var W=H.Pos=function(gp,gq){if(!(this instanceof W)){return new W(gp,gq)}this.line=gp;this.ch=gq};var ce=H.cmpPos=function(gq,gp){return gq.line-gp.line||gq.ch-gp.ch};function ch(gp){return W(gp.line,gp.ch)}function bw(gq,gp){return ce(gq,gp)<0?gp:gq}function aq(gq,gp){return ce(gq,gp)<0?gq:gp}function r(gp){if(!gp.state.focused){gp.display.input.focus();cA(gp)}}var bl=null;function f4(gD,gt,gr,gq,gC){var gB=gD.doc;gD.display.shift=false;if(!gq){gq=gB.sel}var gs=gD.state.pasteIncoming||gC=="paste";var gw=gB.splitLines(gt),gp=null;if(gs&&gq.ranges.length>1){if(bl&&bl.join("\n")==gt){if(gq.ranges.length%bl.length==0){gp=[];for(var gu=0;gu<bl.length;gu++){gp.push(gB.splitLines(bl[gu]))}}}else{if(gw.length==gq.ranges.length){gp=bR(gw,function(gE){return[gE]})}}}for(var gu=gq.ranges.length-1;gu>=0;gu--){var gv=gq.ranges[gu];var gA=gv.from(),gz=gv.to();if(gv.empty()){if(gr&&gr>0){gA=W(gA.line,gA.ch-gr)}else{if(gD.state.overwrite&&!gs){gz=W(gz.line,Math.min(fk(gB,gz.line).text.length,gz.ch+fL(gw).length))}}}var gx=gD.curOp.updateInput;var gy={from:gA,to:gz,text:gp?gp[gu%gp.length]:gw,origin:gC||(gs?"paste":gD.state.cutIncoming?"cut":"+input")};bf(gD.doc,gy);ae(gD,"inputRead",gD,gy)}if(gt&&!gs){f1(gD,gt)}fK(gD);gD.curOp.updateInput=gx;gD.curOp.typing=true;gD.state.pasteIncoming=gD.state.cutIncoming=false}function a9(gr,gp){var gq=gr.clipboardData&&gr.clipboardData.getData("text/plain");if(gq){gr.preventDefault();if(!gp.isReadOnly()&&!gp.options.disableInput){cL(gp,function(){f4(gp,gq,0,null,"paste")})}return true}}function f1(gp,gt){if(!gp.options.electricChars||!gp.options.smartIndent){return}var gu=gp.doc.sel;for(var gs=gu.ranges.length-1;gs>=0;gs--){var gq=gu.ranges[gs];if(gq.head.ch>100||(gs&&gu.ranges[gs-1].head.line==gq.head.line)){continue}var gv=gp.getModeAt(gq.head);var gw=false;if(gv.electricChars){for(var gr=0;gr<gv.electricChars.length;gr++){if(gt.indexOf(gv.electricChars.charAt(gr))>-1){gw=ad(gp,gq.head.line,"smart");break}}}else{if(gv.electricInput){if(gv.electricInput.test(fk(gp.doc,gq.head.line).text.slice(0,gq.head.ch))){gw=ad(gp,gq.head.line,"smart")}}}if(gw){ae(gp,"electricInput",gp,gq.head.line)}}}function dj(gp){var gu=[],gr=[];for(var gs=0;gs<gp.doc.sel.ranges.length;gs++){var gq=gp.doc.sel.ranges[gs].head.line;var gt={anchor:W(gq,0),head:W(gq+1,0)};gr.push(gt);gu.push(gp.getRange(gt.anchor,gt.head))}return{text:gu,ranges:gr}}function fU(gp){gp.setAttribute("autocorrect","off");gp.setAttribute("autocapitalize","off");gp.setAttribute("spellcheck","false")}function Y(gp){this.cm=gp;this.prevInput="";this.pollingFast=false;this.polling=new go();this.inaccurateSelection=false;this.hasSelection=false;this.composing=null}function aW(){var gp=f8("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");var gq=f8("div",[gp],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");if(cZ){gp.style.width="1000px"}else{gp.setAttribute("wrap","off")}if(e5){gp.style.border="1px solid black"}fU(gp);return gq}Y.prototype=aM({init:function(gr){var gq=this,gp=this.cm;var gu=this.wrapper=aW();var gs=this.textarea=gu.firstChild;gr.wrapper.insertBefore(gu,gr.wrapper.firstChild);if(e5){gs.style.width="0px"}bW(gs,"input",function(){if(dK&&k>=9&&gq.hasSelection){gq.hasSelection=null}gq.poll()});bW(gs,"paste",function(gv){if(aQ(gp,gv)||a9(gv,gp)){return}gp.state.pasteIncoming=true;gq.fastPoll()});function gt(gw){if(aQ(gp,gw)){return}if(gp.somethingSelected()){bl=gp.getSelections();if(gq.inaccurateSelection){gq.prevInput="";gq.inaccurateSelection=false;gs.value=bl.join("\n");dL(gs)}}else{if(!gp.options.lineWiseCopyCut){return}else{var gv=dj(gp);bl=gv.text;if(gw.type=="cut"){gp.setSelections(gv.ranges,null,Z)}else{gq.prevInput="";gs.value=gv.text.join("\n");dL(gs)}}}if(gw.type=="cut"){gp.state.cutIncoming=true}}bW(gs,"cut",gt);bW(gs,"copy",gt);bW(gr.scroller,"paste",function(gv){if(ba(gr,gv)||aQ(gp,gv)){return}gp.state.pasteIncoming=true;gq.focus()});bW(gr.lineSpace,"selectstart",function(gv){if(!ba(gr,gv)){cF(gv)}});bW(gs,"compositionstart",function(){var gv=gp.getCursor("from");if(gq.composing){gq.composing.range.clear()}gq.composing={start:gv,range:gp.markText(gv,gp.getCursor("to"),{className:"CodeMirror-composing"})}});bW(gs,"compositionend",function(){if(gq.composing){gq.poll();gq.composing.range.clear();gq.composing=null}})},prepareSelection:function(){var gq=this.cm,gu=gq.display,gt=gq.doc;var gp=fN(gq);if(gq.options.moveInputWithCursor){var gv=dU(gq,gt.sel.primary().head,"div");var gr=gu.wrapper.getBoundingClientRect(),gs=gu.lineDiv.getBoundingClientRect();gp.teTop=Math.max(0,Math.min(gu.wrapper.clientHeight-10,gv.top+gs.top-gr.top));gp.teLeft=Math.max(0,Math.min(gu.wrapper.clientWidth-10,gv.left+gs.left-gr.left))}return gp},showSelection:function(gr){var gp=this.cm,gq=gp.display;bQ(gq.cursorDiv,gr.cursors);bQ(gq.selectionDiv,gr.selection);if(gr.teTop!=null){this.wrapper.style.top=gr.teTop+"px";this.wrapper.style.left=gr.teLeft+"px"}},reset:function(gt){if(this.contextMenuPending){return}var gq,gs,gp=this.cm,gv=gp.doc;if(gp.somethingSelected()){this.prevInput="";var gr=gv.sel.primary();gq=c9&&(gr.to().line-gr.from().line>100||(gs=gp.getSelection()).length>1000);var gu=gq?"-":gs||gp.getSelection();this.textarea.value=gu;if(gp.state.focused){dL(this.textarea)}if(dK&&k>=9){this.hasSelection=gu}}else{if(!gt){this.prevInput=this.textarea.value="";if(dK&&k>=9){this.hasSelection=null}}}this.inaccurateSelection=gq},getField:function(){return this.textarea},supportsTouch:function(){return false},focus:function(){if(this.cm.options.readOnly!="nocursor"&&(!ei||dO()!=this.textarea)){try{this.textarea.focus()}catch(gp){}}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var gp=this;if(gp.pollingFast){return}gp.polling.set(this.cm.options.pollInterval,function(){gp.poll();if(gp.cm.state.focused){gp.slowPoll()}})},fastPoll:function(){var gq=false,gp=this;gp.pollingFast=true;function gr(){var gs=gp.poll();if(!gs&&!gq){gq=true;gp.polling.set(60,gr)}else{gp.pollingFast=false;gp.slowPoll()}}gp.polling.set(20,gr)},poll:function(){var gp=this.cm,gs=this.textarea,gt=this.prevInput;if(this.contextMenuPending||!gp.state.focused||(br(gs)&&!gt&&!this.composing)||gp.isReadOnly()||gp.options.disableInput||gp.state.keySeq){return false}var gv=gs.value;if(gv==gt&&!gp.somethingSelected()){return false}if(dK&&k>=9&&this.hasSelection===gv||b6&&/[\uf700-\uf7ff]/.test(gv)){gp.display.input.reset();return false}if(gp.doc.sel==gp.display.selForContextMenu){var gu=gv.charCodeAt(0);if(gu==8203&&!gt){gt="\u200b"}if(gu==8666){this.reset();return this.cm.execCommand("undo")}}var gw=0,gq=Math.min(gt.length,gv.length);while(gw<gq&&gt.charCodeAt(gw)==gv.charCodeAt(gw)){++gw}var gr=this;cL(gp,function(){f4(gp,gv.slice(gw),gt.length-gw,null,gr.composing?"*compose":null);if(gv.length>1000||gv.indexOf("\n")>-1){gs.value=gr.prevInput=""}else{gr.prevInput=gv}if(gr.composing){gr.composing.range.clear();gr.composing.range=gp.markText(gr.composing.start,gp.getCursor("to"),{className:"CodeMirror-composing"})}});return true},ensurePolled:function(){if(this.pollingFast&&this.poll()){this.pollingFast=false}},onKeyPress:function(){if(dK&&k>=9){this.hasSelection=null}this.fastPoll()},onContextMenu:function(gu){var gz=this,gA=gz.cm,gw=gA.display,gq=gz.textarea;var gy=cm(gA,gu),gp=gw.scroller.scrollTop;if(!gy||d4){return}var gt=gA.options.resetSelectionOnContextMenu;if(gt&&gA.doc.sel.contains(gy)==-1){c1(gA,bT)(gA.doc,eW(gy),Z)}var gv=gq.style.cssText;gz.wrapper.style.position="absolute";gq.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(gu.clientY-5)+"px; left: "+(gu.clientX-5)+"px; z-index: 1000; background: "+(dK?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";if(cZ){var gB=window.scrollY}gw.input.focus();if(cZ){window.scrollTo(null,gB)}gw.input.reset();if(!gA.somethingSelected()){gq.value=gz.prevInput=" "}gz.contextMenuPending=true;gw.selForContextMenu=gA.doc.sel;clearTimeout(gw.detectingSelectAll);function gs(){if(gq.selectionStart!=null){var gC=gA.somethingSelected();var gD="\u200b"+(gC?gq.value:"");gq.value="\u21da";gq.value=gD;gz.prevInput=gC?"":"\u200b";gq.selectionStart=1;gq.selectionEnd=gD.length;gw.selForContextMenu=gA.doc.sel}}function gx(){gz.contextMenuPending=false;gz.wrapper.style.position="relative";gq.style.cssText=gv;if(dK&&k<9){gw.scrollbars.setScrollTop(gw.scroller.scrollTop=gp)}if(gq.selectionStart!=null){if(!dK||(dK&&k<9)){gs()}var gC=0,gD=function(){if(gw.selForContextMenu==gA.doc.sel&&gq.selectionStart==0&&gq.selectionEnd>0&&gz.prevInput=="\u200b"){c1(gA,eG.selectAll)(gA)}else{if(gC++<10){gw.detectingSelectAll=setTimeout(gD,500)}else{gw.input.reset()}}};gw.detectingSelectAll=setTimeout(gD,200)}}if(dK&&k>=9){gs()}if(gf){eu(gu);var gr=function(){ef(window,"mouseup",gr);setTimeout(gx,20)};bW(window,"mouseup",gr)}else{setTimeout(gx,50)}},readOnlyChanged:function(gp){if(!gp){this.reset()}},setUneditable:f0,needsContentAttribute:false},Y.prototype);function dv(gp){this.cm=gp;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new go();this.gracePeriod=false}dv.prototype=aM({init:function(gs){var gr=this,gp=gr.cm;var gt=gr.div=gs.lineDiv;fU(gt);bW(gt,"paste",function(gu){if(!aQ(gp,gu)){a9(gu,gp)}});bW(gt,"compositionstart",function(gy){var gx=gy.data;gr.composing={sel:gp.doc.sel,data:gx,startData:gx};if(!gx){return}var gv=gp.doc.sel.primary();var gu=gp.getLine(gv.head.line);var gw=gu.indexOf(gx,Math.max(0,gv.head.ch-gx.length));if(gw>-1&&gw<=gv.head.ch){gr.composing.sel=eW(W(gv.head.line,gw),W(gv.head.line,gw+gx.length))}});bW(gt,"compositionupdate",function(gu){gr.composing.data=gu.data});bW(gt,"compositionend",function(gv){var gu=gr.composing;if(!gu){return}if(gv.data!=gu.startData&&!/\u200b/.test(gv.data)){gu.data=gv.data}setTimeout(function(){if(!gu.handled){gr.applyComposition(gu)}if(gr.composing==gu){gr.composing=null}},50)});bW(gt,"touchstart",function(){gr.forceCompositionEnd()});bW(gt,"input",function(){if(gr.composing){return}if(gp.isReadOnly()||!gr.pollContent()){cL(gr.cm,function(){ah(gp)})}});function gq(gx){if(aQ(gp,gx)){return}if(gp.somethingSelected()){bl=gp.getSelections();if(gx.type=="cut"){gp.replaceSelection("",null,"cut")}}else{if(!gp.options.lineWiseCopyCut){return}else{var gv=dj(gp);bl=gv.text;if(gx.type=="cut"){gp.operation(function(){gp.setSelections(gv.ranges,0,Z);gp.replaceSelection("",null,"cut")})}}}if(gx.clipboardData&&!e5){gx.preventDefault();gx.clipboardData.clearData();gx.clipboardData.setData("text/plain",bl.join("\n"))}else{var gw=aW(),gy=gw.firstChild;gp.display.lineSpace.insertBefore(gw,gp.display.lineSpace.firstChild);gy.value=bl.join("\n");var gu=document.activeElement;dL(gy);setTimeout(function(){gp.display.lineSpace.removeChild(gw);gu.focus()},50)}}bW(gt,"copy",gq);bW(gt,"cut",gq)},prepareSelection:function(){var gp=fN(this.cm,false);gp.focus=this.cm.state.focused;return gp},showSelection:function(gp){if(!gp||!this.cm.display.view.length){return}if(gp.focus){this.showPrimarySelection()}this.showMultipleSelections(gp)},showPrimarySelection:function(){var gt=window.getSelection(),gw=this.cm.doc.sel.primary();var gu=ay(this.cm,gt.anchorNode,gt.anchorOffset);var gy=ay(this.cm,gt.focusNode,gt.focusOffset);if(gu&&!gu.bad&&gy&&!gy.bad&&ce(aq(gu,gy),gw.from())==0&&ce(bw(gu,gy),gw.to())==0){return}var gs=cy(this.cm,gw.from());var gx=cy(this.cm,gw.to());if(!gs&&!gx){return}var gA=this.cm.display.view;var gv=gt.rangeCount&&gt.getRangeAt(0);if(!gs){gs={node:gA[0].measure.map[2],offset:0}}else{if(!gx){var gr=gA[gA.length-1].measure;var gq=gr.maps?gr.maps[gr.maps.length-1]:gr.map;gx={node:gq[gq.length-1],offset:gq[gq.length-2]-gq[gq.length-3]}}}try{var gp=ck(gs.node,gs.offset,gx.offset,gx.node)}catch(gz){}if(gp){if(!cn&&this.cm.state.focused){gt.collapse(gs.node,gs.offset);if(!gp.collapsed){gt.addRange(gp)}}else{gt.removeAllRanges();gt.addRange(gp)}if(gv&&gt.anchorNode==null){gt.addRange(gv)}else{if(cn){this.startGracePeriod()}}}this.rememberSelection()},startGracePeriod:function(){var gp=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){gp.gracePeriod=false;if(gp.selectionChanged()){gp.cm.operation(function(){gp.cm.curOp.selectionChanged=true})}},20)},showMultipleSelections:function(gp){bQ(this.cm.display.cursorDiv,gp.cursors);bQ(this.cm.display.selectionDiv,gp.selection)},rememberSelection:function(){var gp=window.getSelection();this.lastAnchorNode=gp.anchorNode;this.lastAnchorOffset=gp.anchorOffset;this.lastFocusNode=gp.focusNode;this.lastFocusOffset=gp.focusOffset},selectionInEditor:function(){var gq=window.getSelection();if(!gq.rangeCount){return false}var gp=gq.getRangeAt(0).commonAncestorContainer;return gg(this.div,gp)},focus:function(){if(this.cm.options.readOnly!="nocursor"){this.div.focus()}},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return true},receivedFocus:function(){var gp=this;if(this.selectionInEditor()){this.pollSelection()}else{cL(this.cm,function(){gp.cm.curOp.selectionChanged=true})}function gq(){if(gp.cm.state.focused){gp.pollSelection();gp.polling.set(gp.cm.options.pollInterval,gq)}}this.polling.set(this.cm.options.pollInterval,gq)},selectionChanged:function(){var gp=window.getSelection();return gp.anchorNode!=this.lastAnchorNode||gp.anchorOffset!=this.lastAnchorOffset||gp.focusNode!=this.lastFocusNode||gp.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var gs=window.getSelection(),gp=this.cm;this.rememberSelection();var gq=ay(gp,gs.anchorNode,gs.anchorOffset);var gr=ay(gp,gs.focusNode,gs.focusOffset);if(gq&&gr){cL(gp,function(){bT(gp.doc,eW(gq,gr),Z);if(gq.bad||gr.bad){gp.curOp.selectionChanged=true}})}}},pollContent:function(){var gz=this.cm,gJ=gz.display,gH=gz.doc.sel.primary();var gI=gH.from(),gt=gH.to();if(gI.line<gJ.viewFrom||gt.line>gJ.viewTo-1){return false}var gw;if(gI.line==gJ.viewFrom||(gw=dr(gz,gI.line))==0){var gu=bM(gJ.view[0].line);var gy=gJ.view[0].node}else{var gu=bM(gJ.view[gw].line);var gy=gJ.view[gw-1].node.nextSibling}var gG=dr(gz,gt.line);if(gG==gJ.view.length-1){var gB=gJ.viewTo-1;var gE=gJ.lineDiv.lastChild}else{var gB=bM(gJ.view[gG+1].line)-1;var gE=gJ.view[gG+1].node.previousSibling}var gK=gz.doc.splitLines(f5(gz,gy,gE,gu,gB));var gD=ga(gz.doc,W(gu,0),W(gB,fk(gz.doc,gB).text.length));while(gK.length>1&&gD.length>1){if(fL(gK)==fL(gD)){gK.pop();gD.pop();gB--}else{if(gK[0]==gD[0]){gK.shift();gD.shift();gu++}else{break}}}var gF=0,gr=0;var gA=gK[0],gq=gD[0],gp=Math.min(gA.length,gq.length);while(gF<gp&&gA.charCodeAt(gF)==gq.charCodeAt(gF)){++gF}var gx=fL(gK),gL=fL(gD);var gs=Math.min(gx.length-(gK.length==1?gF:0),gL.length-(gD.length==1?gF:0));while(gr<gs&&gx.charCodeAt(gx.length-gr-1)==gL.charCodeAt(gL.length-gr-1)){++gr}gK[gK.length-1]=gx.slice(0,gx.length-gr);gK[0]=gK[0].slice(gF);var gv=W(gu,gF);var gC=W(gB,gD.length?fL(gD).length-gr:0);if(gK.length>1||gK[0]||ce(gv,gC)){a0(gz.doc,gK,gv,gC,"+input");return true}},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){if(!this.composing||this.composing.handled){return}this.applyComposition(this.composing);this.composing.handled=true;this.div.blur();this.div.focus()},applyComposition:function(gp){if(this.cm.isReadOnly()){c1(this.cm,ah)(this.cm)}else{if(gp.data&&gp.data!=gp.startData){c1(this.cm,f4)(this.cm,gp.data,0,gp.sel)}}},setUneditable:function(gp){gp.contentEditable="false"},onKeyPress:function(gp){gp.preventDefault();if(!this.cm.isReadOnly()){c1(this.cm,f4)(this.cm,String.fromCharCode(gp.charCode==null?gp.keyCode:gp.charCode),0)}},readOnlyChanged:function(gp){this.div.contentEditable=String(gp!="nocursor")},onContextMenu:f0,resetPosition:f0,needsContentAttribute:true},dv.prototype);function cy(gv,gt){var gu=fg(gv,gt.line);if(!gu||gu.hidden){return null}var gx=fk(gv.doc,gt.line);var gq=cs(gu,gx,gt.line);var gr=a(gx),gs="left";if(gr){var gp=aF(gr,gt.ch);gs=gp%2?"right":"left"}var gw=aK(gq.map,gt.ch,gs);gw.offset=gw.collapse=="right"?gw.end:gw.start;return gw}function ew(gq,gp){if(gp){gq.bad=true}return gq}function ay(gp,gs,gu){var gt;if(gs==gp.display.lineDiv){gt=gp.display.lineDiv.childNodes[gu];if(!gt){return ew(gp.clipPos(W(gp.display.viewTo-1)),true)}gs=null;gu=0}else{for(gt=gs;;gt=gt.parentNode){if(!gt||gt==gp.display.lineDiv){return null}if(gt.parentNode&&gt.parentNode==gp.display.lineDiv){break}}}for(var gr=0;gr<gp.display.view.length;gr++){var gq=gp.display.view[gr];if(gq.node==gt){return aa(gq,gs,gu)}}}function aa(gx,gt,gv){var gr=gx.text.firstChild,gs=false;if(!gt||!gg(gr,gt)){return ew(W(bM(gx.line),0),true)}if(gt==gr){gs=true;gt=gr.childNodes[gv];gv=0;if(!gt){var gD=gx.rest?fL(gx.rest):gx.line;return ew(W(bM(gD),gD.text.length),gs)}}var gu=gt.nodeType==3?gt:null,gB=gt;if(!gu&&gt.childNodes.length==1&&gt.firstChild.nodeType==3){gu=gt.firstChild;if(gv){gv=gu.nodeValue.length}}while(gB.parentNode!=gr){gB=gB.parentNode}var gq=gx.measure,gz=gq.maps;function gw(gG,gL,gI){for(var gK=-1;gK<(gz?gz.length:0);gK++){var gF=gK<0?gq.map:gz[gK];for(var gJ=0;gJ<gF.length;gJ+=3){var gH=gF[gJ+2];if(gH==gG||gH==gL){var gM=bM(gK<0?gx.line:gx.rest[gK]);var gE=gF[gJ]+gI;if(gI<0||gH!=gG){gE=gF[gJ+(gI?1:0)]}return W(gM,gE)}}}}var gC=gw(gu,gB,gv);if(gC){return ew(gC,gs)}for(var gp=gB.nextSibling,gy=gu?gu.nodeValue.length-gv:0;gp;gp=gp.nextSibling){gC=gw(gp,gp.firstChild,0);if(gC){return ew(W(gC.line,gC.ch-gy),gs)}else{gy+=gp.textContent.length}}for(var gA=gB.previousSibling,gy=gv;gA;gA=gA.previousSibling){gC=gw(gA,gA.firstChild,-1);if(gC){return ew(W(gC.line,gC.ch+gy),gs)}else{gy+=gp.textContent.length}}}function f5(gx,gv,gw,gs,gq){var gy="",gr=false,gp=gx.doc.lineSeparator();function gt(gz){return function(gA){return gA.id==gz}}function gu(gD){if(gD.nodeType==1){var gA=gD.getAttribute("cm-text");if(gA!=null){if(gA==""){gA=gD.textContent.replace(/\u200b/g,"")}gy+=gA;return}var gC=gD.getAttribute("cm-marker"),gz;if(gC){var gE=gx.findMarks(W(gs,0),W(gq+1,0),gt(+gC));if(gE.length&&(gz=gE[0].find())){gy+=ga(gx.doc,gz.from,gz.to).join(gp)}return}if(gD.getAttribute("contenteditable")=="false"){return}for(var gB=0;gB<gD.childNodes.length;gB++){gu(gD.childNodes[gB])}if(/^(pre|div|p)$/i.test(gD.nodeName)){gr=true}}else{if(gD.nodeType==3){var gF=gD.nodeValue;if(!gF){return}if(gr){gy+=gp;gr=false}gy+=gF}}}for(;;){gu(gv);if(gv==gw){break}gv=gv.nextSibling}return gy}H.inputStyles={textarea:Y,contenteditable:dv};function f9(gp,gq){this.ranges=gp;this.primIndex=gq}f9.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(gp){if(gp==this){return true}if(gp.primIndex!=this.primIndex||gp.ranges.length!=this.ranges.length){return false}for(var gr=0;gr<this.ranges.length;gr++){var gq=this.ranges[gr],gs=gp.ranges[gr];if(ce(gq.anchor,gs.anchor)!=0||ce(gq.head,gs.head)!=0){return false}}return true},deepCopy:function(){for(var gp=[],gq=0;gq<this.ranges.length;gq++){gp[gq]=new dY(ch(this.ranges[gq].anchor),ch(this.ranges[gq].head))}return new f9(gp,this.primIndex)},somethingSelected:function(){for(var gp=0;gp<this.ranges.length;gp++){if(!this.ranges[gp].empty()){return true}}return false},contains:function(gs,gp){if(!gp){gp=gs}for(var gr=0;gr<this.ranges.length;gr++){var gq=this.ranges[gr];if(ce(gp,gq.from())>=0&&ce(gs,gq.to())<=0){return gr}}return -1}};function dY(gp,gq){this.anchor=gp;this.head=gq}dY.prototype={from:function(){return aq(this.anchor,this.head)},to:function(){return bw(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};function cv(gp,gw){var gr=gp[gw];gp.sort(function(gz,gy){return ce(gz.from(),gy.from())});gw=dh(gp,gr);for(var gt=1;gt<gp.length;gt++){var gx=gp[gt],gq=gp[gt-1];if(ce(gq.to(),gx.from())>=0){var gu=aq(gq.from(),gx.from()),gv=bw(gq.to(),gx.to());var gs=gq.empty()?gx.from()==gx.head:gq.from()==gq.head;if(gt<=gw){--gw}gp.splice(--gt,2,new dY(gs?gv:gu,gs?gu:gv))}}return new f9(gp,gw)}function eW(gp,gq){return new f9([new dY(gp,gq||gp)],0)}function c4(gp,gq){return Math.max(gp.first,Math.min(gq,gp.first+gp.size-1))}function fO(gq,gr){if(gr.line<gq.first){return W(gq.first,0)}var gp=gq.first+gq.size-1;if(gr.line>gp){return W(gp,fk(gq,gp).text.length)}return fx(gr,fk(gq,gr.line).text.length)}function fx(gr,gq){var gp=gr.ch;if(gp==null||gp>gq){return W(gr.line,gq)}else{if(gp<0){return W(gr.line,0)}else{return gr}}}function b8(gq,gp){return gp>=gq.first&&gp<gq.first+gq.size}function d0(gr,gs){for(var gp=[],gq=0;gq<gs.length;gq++){gp[gq]=fO(gr,gs[gq])}return gp}function fA(gu,gq,gt,gp){if(gu.cm&&gu.cm.display.shift||gu.extend){var gs=gq.anchor;if(gp){var gr=ce(gt,gs)<0;if(gr!=(ce(gp,gs)<0)){gs=gt;gt=gp}else{if(gr!=(ce(gt,gp)<0)){gt=gp}}}return new dY(gs,gt)}else{return new dY(gp||gt,gt)}}function f2(gs,gr,gp,gq){bT(gs,new f9([fA(gs,gs.sel.primary(),gr,gp)],0),gq)}function av(gu,gt,gr){for(var gq=[],gs=0;gs<gu.sel.ranges.length;gs++){gq[gs]=fA(gu,gu.sel.ranges[gs],gt[gs],null)}var gp=cv(gq,gu.sel.primIndex);bT(gu,gp,gr)}function e(gt,gs,gq,gr){var gp=gt.sel.ranges.slice(0);gp[gs]=gq;bT(gt,cv(gp,gt.sel.primIndex),gr)}function F(gs,gq,gr,gp){bT(gs,eW(gq,gr),gp)}function c(gs,gq,gp){var gr={ranges:gq.ranges,update:function(gt){this.ranges=[];for(var gu=0;gu<gt.length;gu++){this.ranges[gu]=new dY(fO(gs,gt[gu].anchor),fO(gs,gt[gu].head))}},origin:gp&&gp.origin};aD(gs,"beforeSelectionChange",gs,gr);if(gs.cm){aD(gs.cm,"beforeSelectionChange",gs.cm,gr)}if(gr.ranges!=gq.ranges){return cv(gr.ranges,gr.ranges.length-1)}else{return gq}}function fc(gt,gs,gq){var gp=gt.history.done,gr=fL(gp);if(gr&&gr.ranges){gp[gp.length-1]=gs;es(gt,gs,gq)}else{bT(gt,gs,gq)}}function bT(gr,gq,gp){es(gr,gq,gp);gh(gr,gr.sel,gr.cm?gr.cm.curOp.id:NaN,gp)}function es(gs,gr,gq){if(fn(gs,"beforeSelectionChange")||gs.cm&&fn(gs.cm,"beforeSelectionChange")){gr=c(gs,gr,gq)}var gp=gq&&gq.bias||(ce(gr.primary().head,gs.sel.primary().head)<0?-1:1);c8(gs,n(gs,gr,gp,true));if(!(gq&&gq.scroll===false)&&gs.cm){fK(gs.cm)}}function c8(gq,gp){if(gp.equals(gq.sel)){return}gq.sel=gp;if(gq.cm){gq.cm.curOp.updateInput=gq.cm.curOp.selectionChanged=true;V(gq.cm)}ae(gq,"cursorActivity",gq)}function eB(gp){c8(gp,n(gp,gp.sel,null,false),Z)}function n(gy,gp,gv,gw){var gs;for(var gt=0;gt<gp.ranges.length;gt++){var gu=gp.ranges[gt];var gq=gp.ranges.length==gy.sel.ranges.length&&gy.sel.ranges[gt];var gx=bU(gy,gu.anchor,gq&&gq.anchor,gv,gw);var gr=bU(gy,gu.head,gq&&gq.head,gv,gw);if(gs||gx!=gu.anchor||gr!=gu.head){if(!gs){gs=gp.ranges.slice(0,gt)}gs[gt]=new dY(gx,gr)}}return gs?cv(gs,gp.primIndex):gp}function eM(gz,gx,gs,gr,gv){var gA=fk(gz,gx.line);if(gA.markedSpans){for(var gt=0;gt<gA.markedSpans.length;++gt){var gp=gA.markedSpans[gt],gq=gp.marker;if((gp.from==null||(gq.inclusiveLeft?gp.from<=gx.ch:gp.from<gx.ch))&&(gp.to==null||(gq.inclusiveRight?gp.to>=gx.ch:gp.to>gx.ch))){if(gv){aD(gq,"beforeCursorEnter");if(gq.explicitlyCleared){if(!gA.markedSpans){break}else{--gt;continue}}}if(!gq.atomic){continue}if(gs){var gw=gq.find(gr<0?1:-1),gy;if(gr<0?gq.inclusiveRight:gq.inclusiveLeft){gw=gl(gz,gw,-gr,gA)}if(gw&&gw.line==gx.line&&(gy=ce(gw,gs))&&(gr<0?gy<0:gy>0)){return eM(gz,gw,gx,gr,gv)}}var gu=gq.find(gr<0?-1:1);if(gr<0?gq.inclusiveLeft:gq.inclusiveRight){gu=gl(gz,gu,gr,gA)}return gu?eM(gz,gu,gx,gr,gv):null}}}return gx}function bU(gu,gv,gs,gq,gp){var gr=gq||1;var gt=eM(gu,gv,gs,gr,gp)||(!gp&&eM(gu,gv,gs,gr,true))||eM(gu,gv,gs,-gr,gp)||(!gp&&eM(gu,gv,gs,-gr,true));if(!gt){gu.cantEdit=true;return W(gu.first,0)}return gt}function gl(gr,gs,gq,gp){if(gq<0&&gs.ch==0){if(gs.line>gr.first){return fO(gr,W(gs.line-1))}else{return null}}else{if(gq>0&&gs.ch==(gp||fk(gr,gs.line)).text.length){if(gs.line<gr.first+gr.size-1){return W(gs.line+1,0)}else{return null}}else{return new W(gs.line,gs.ch+gq)}}}function bB(gp){gp.display.input.showSelection(gp.display.input.prepareSelection())}function fN(gw,gp){var gv=gw.doc,gx={};var gu=gx.cursors=document.createDocumentFragment();var gq=gx.selection=document.createDocumentFragment();for(var gs=0;gs<gv.sel.ranges.length;gs++){if(gp===false&&gs==gv.sel.primIndex){continue}var gt=gv.sel.ranges[gs];var gr=gt.empty();if(gr||gw.options.showCursorWhenSelecting){A(gw,gt.head,gu)}if(!gr){bC(gw,gt,gq)}}return gx}function A(gp,gs,gr){var gu=dU(gp,gs,"div",null,null,!gp.options.singleCursorHeightPerLine);var gt=gr.appendChild(f8("div","\u00a0","CodeMirror-cursor"));gt.style.left=gu.left+"px";gt.style.top=gu.top+"px";gt.style.height=Math.max(0,gu.bottom-gu.top)*gp.options.cursorHeight+"px";if(gu.other){var gq=gr.appendChild(f8("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor"));gq.style.display="";gq.style.left=gu.other.left+"px";gq.style.top=gu.other.top+"px";gq.style.height=(gu.other.bottom-gu.other.top)*0.85+"px"}}function bC(gt,gz,gu){var gC=gt.display,gG=gt.doc;var gp=document.createDocumentFragment();var gy=e9(gt.display),gs=gy.left;var gD=Math.max(gC.sizerWidth,dl(gt)-gC.sizer.offsetLeft)-gy.right;function gA(gK,gJ,gI,gH){if(gJ<0){gJ=0}gJ=Math.round(gJ);gH=Math.round(gH);gp.appendChild(f8("div",null,"CodeMirror-selected","position: absolute; left: "+gK+"px; top: "+gJ+"px; width: "+(gI==null?gD-gK:gI)+"px; height: "+(gH-gJ)+"px"))}function gq(gI,gK,gN){var gJ=fk(gG,gI);var gL=gJ.text.length;var gO,gH;function gM(gQ,gP){return cI(gt,W(gI,gQ),"div",gJ,gP)}d5(a(gJ),gK||0,gN==null?gL:gN,function(gW,gV,gP){var gS=gM(gW,"left"),gT,gU,gR;if(gW==gV){gT=gS;gU=gR=gS.left}else{gT=gM(gV-1,"right");if(gP=="rtl"){var gQ=gS;gS=gT;gT=gQ}gU=gS.left;gR=gT.right}if(gK==null&&gW==0){gU=gs}if(gT.top-gS.top>3){gA(gU,gS.top,null,gS.bottom);gU=gs;if(gS.bottom<gT.top){gA(gU,gS.bottom,null,gT.top)}}if(gN==null&&gV==gL){gR=gD}if(!gO||gS.top<gO.top||gS.top==gO.top&&gS.left<gO.left){gO=gS}if(!gH||gT.bottom>gH.bottom||gT.bottom==gH.bottom&&gT.right>gH.right){gH=gT}if(gU<gs+1){gU=gs}gA(gU,gT.top,gR-gU,gT.bottom)});return{start:gO,end:gH}}var gF=gz.from(),gE=gz.to();if(gF.line==gE.line){gq(gF.line,gF.ch,gE.ch)}else{var gr=fk(gG,gF.line),gw=fk(gG,gE.line);var gv=x(gr)==x(gw);var gx=gq(gF.line,gF.ch,gv?gr.text.length+1:null).end;var gB=gq(gE.line,gv?0:null,gE.ch).start;if(gv){if(gx.top<gB.top-2){gA(gx.right,gx.top,null,gx.bottom);gA(gs,gB.top,gB.left,gB.bottom)}else{gA(gx.right,gx.top,gB.left-gx.right,gx.bottom)}}if(gx.bottom<gB.top){gA(gs,gx.bottom,null,gB.top)}}gu.appendChild(gp)}function o(gp){if(!gp.state.focused){return}var gr=gp.display;clearInterval(gr.blinker);var gq=true;gr.cursorDiv.style.visibility="";if(gp.options.cursorBlinkRate>0){gr.blinker=setInterval(function(){gr.cursorDiv.style.visibility=(gq=!gq)?"":"hidden"},gp.options.cursorBlinkRate)}else{if(gp.options.cursorBlinkRate<0){gr.cursorDiv.style.visibility="hidden"}}}function eh(gp,gq){if(gp.doc.mode.startState&&gp.doc.frontier<gp.display.viewTo){gp.state.highlight.set(gq,cu(cO,gp))}}function cO(gp){var gt=gp.doc;if(gt.frontier<gt.first){gt.frontier=gt.first}if(gt.frontier>=gp.display.viewTo){return}var gr=+new Date+gp.options.workTime;var gs=b2(gt.mode,dC(gp,gt.frontier));var gq=[];gt.iter(gt.frontier,Math.min(gt.first+gt.size,gp.display.viewTo+500),function(gu){if(gt.frontier>=gp.display.viewFrom){var gx=gu.styles,gB=gu.text.length>gp.options.maxHighlightLength;var gz=fE(gp,gu,gB?b2(gt.mode,gs):gs,true);gu.styles=gz.styles;var gw=gu.styleClasses,gy=gz.classes;if(gy){gu.styleClasses=gy}else{if(gw){gu.styleClasses=null}}var gA=!gx||gx.length!=gu.styles.length||gw!=gy&&(!gw||!gy||gw.bgClass!=gy.bgClass||gw.textClass!=gy.textClass);for(var gv=0;!gA&&gv<gx.length;++gv){gA=gx[gv]!=gu.styles[gv]}if(gA){gq.push(gt.frontier)}gu.stateAfter=gB?gs:b2(gt.mode,gs)}else{if(gu.text.length<=gp.options.maxHighlightLength){dx(gp,gu.text,gs)}gu.stateAfter=gt.frontier%5==0?b2(gt.mode,gs):null}++gt.frontier;if(+new Date>gr){eh(gp,gp.options.workDelay);return true}});if(gq.length){cL(gp,function(){for(var gu=0;gu<gq.length;gu++){R(gp,gq[gu],"text")}})}}function cx(gv,gp,gs){var gq,gt,gu=gv.doc;var gr=gs?-1:gp-(gv.doc.mode.innerMode?1000:100);for(var gy=gp;gy>gr;--gy){if(gy<=gu.first){return gu.first}var gx=fk(gu,gy-1);if(gx.stateAfter&&(!gs||gy<=gu.frontier)){return gy}var gw=bS(gx.text,null,gv.options.tabSize);if(gt==null||gq>gw){gt=gy-1;gq=gw}}return gt}function dC(gp,gv,gq){var gt=gp.doc,gs=gp.display;if(!gt.mode.startState){return true}var gu=cx(gp,gv,gq),gr=gu>gt.first&&fk(gt,gu-1).stateAfter;if(!gr){gr=bZ(gt.mode)}else{gr=b2(gt.mode,gr)}gt.iter(gu,gv,function(gw){dx(gp,gw.text,gr);var gx=gu==gv-1||gu%5==0||gu>=gs.viewFrom&&gu<gs.viewTo;gw.stateAfter=gx?b2(gt.mode,gr):null;++gu});if(gq){gt.frontier=gu}return gr}function fd(gp){return gp.lineSpace.offsetTop}function bH(gp){return gp.mover.offsetHeight-gp.lineSpace.offsetHeight}function e9(gs){if(gs.cachedPaddingH){return gs.cachedPaddingH}var gr=bQ(gs.measure,f8("pre","x"));var gp=window.getComputedStyle?window.getComputedStyle(gr):gr.currentStyle;var gq={left:parseInt(gp.paddingLeft),right:parseInt(gp.paddingRight)};if(!isNaN(gq.left)&&!isNaN(gq.right)){gs.cachedPaddingH=gq}return gq}function cS(gp){return dJ-gp.display.nativeBarWidth}function dl(gp){return gp.display.scroller.clientWidth-cS(gp)-gp.display.barWidth}function cU(gp){return gp.display.scroller.clientHeight-cS(gp)-gp.display.barHeight}function cg(gw,gs,gv){var gr=gw.options.lineWrapping;var gt=gr&&dl(gw);if(!gs.measure.heights||gr&&gs.measure.width!=gt){var gu=gs.measure.heights=[];if(gr){gs.measure.width=gt;var gy=gs.text.firstChild.getClientRects();for(var gp=0;gp<gy.length-1;gp++){var gx=gy[gp],gq=gy[gp+1];if(Math.abs(gx.bottom-gq.bottom)>2){gu.push((gx.bottom+gq.top)/2-gv.top)}}}gu.push(gv.bottom-gv.top)}}function cs(gr,gp,gs){if(gr.line==gp){return{map:gr.measure.map,cache:gr.measure.cache}}for(var gq=0;gq<gr.rest.length;gq++){if(gr.rest[gq]==gp){return{map:gr.measure.maps[gq],cache:gr.measure.caches[gq]}}}for(var gq=0;gq<gr.rest.length;gq++){if(bM(gr.rest[gq])>gs){return{map:gr.measure.maps[gq],cache:gr.measure.caches[gq],before:true}}}}function c0(gp,gr){gr=x(gr);var gt=bM(gr);var gq=gp.display.externalMeasured=new bu(gp.doc,gr,gt);gq.lineN=gt;var gs=gq.built=eV(gp,gq);gq.text=gs.pre;bQ(gp.display.lineMeasure,gs.pre);return gq}function ej(gp,gq,gs,gr){return C(gp,a3(gp,gq),gs,gr)}function fg(gp,gr){if(gr>=gp.display.viewFrom&&gr<gp.display.viewTo){return gp.display.view[dr(gp,gr)]}var gq=gp.display.externalMeasured;if(gq&&gr>=gq.lineN&&gr<gq.lineN+gq.size){return gq}}function a3(gp,gr){var gs=bM(gr);var gq=fg(gp,gs);if(gq&&!gq.text){gq=null}else{if(gq&&gq.changes){ab(gp,gq,gs,fi(gp));gp.curOp.forceUpdate=true}}if(!gq){gq=c0(gp,gr)}var gt=cs(gq,gr,gs);return{line:gr,view:gq,rect:null,map:gt.map,cache:gt.cache,before:gt.before,hasHeights:false}}function C(gp,gv,gt,gq,gs){if(gv.before){gt=-1}var gr=gt+(gq||""),gu;if(gv.cache.hasOwnProperty(gr)){gu=gv.cache[gr]}else{if(!gv.rect){gv.rect=gv.view.text.getBoundingClientRect()}if(!gv.hasHeights){cg(gp,gv.view,gv.rect);gv.hasHeights=true}gu=j(gp,gv,gt,gq);if(!gu.bogus){gv.cache[gr]=gu}}return{left:gu.left,right:gu.right,top:gs?gu.rtop:gu.top,bottom:gs?gu.rbottom:gu.bottom}}var eE={left:0,right:0,top:0,bottom:0};function aK(gq,gp,gw){var gs,gr,gu,gx;for(var gv=0;gv<gq.length;gv+=3){var gt=gq[gv],gy=gq[gv+1];if(gp<gt){gr=0;gu=1;gx="left"}else{if(gp<gy){gr=gp-gt;gu=gr+1}else{if(gv==gq.length-3||gp==gy&&gq[gv+3]>gp){gu=gy-gt;gr=gu-1;if(gp>=gy){gx="right"}}}}if(gr!=null){gs=gq[gv+2];if(gt==gy&&gw==(gs.insertLeft?"left":"right")){gx=gw}if(gw=="left"&&gr==0){while(gv&&gq[gv-2]==gq[gv-3]&&gq[gv-1].insertLeft){gs=gq[(gv-=3)+2];gx="left"}}if(gw=="right"&&gr==gy-gt){while(gv<gq.length-3&&gq[gv+3]==gq[gv+4]&&!gq[gv+5].insertLeft){gs=gq[(gv+=3)+2];gx="right"}}break}}return{node:gs,start:gr,end:gu,collapse:gx,coverStart:gt,coverEnd:gy}}function j(gw,gG,gz,gu){var gx=aK(gG.map,gz,gu);var gE=gx.node,gt=gx.start,gs=gx.end,gp=gx.collapse;var gq;if(gE.nodeType==3){for(var gF=0;gF<4;gF++){while(gt&&fu(gG.line.text.charAt(gx.coverStart+gt))){--gt}while(gx.coverStart+gs<gx.coverEnd&&fu(gG.line.text.charAt(gx.coverStart+gs))){++gs}if(dK&&k<9&&gt==0&&gs==gx.coverEnd-gx.coverStart){gq=gE.parentNode.getBoundingClientRect()}else{if(dK&&gw.options.lineWrapping){var gr=ck(gE,gt,gs).getClientRects();if(gr.length){gq=gr[gu=="right"?gr.length-1:0]}else{gq=eE}}else{gq=ck(gE,gt,gs).getBoundingClientRect()||eE}}if(gq.left||gq.right||gt==0){break}gs=gt;gt=gt-1;gp="right"}if(dK&&k<11){gq=eR(gw.display.measure,gq)}}else{if(gt>0){gp=gu="right"}var gr;if(gw.options.lineWrapping&&(gr=gE.getClientRects()).length>1){gq=gr[gu=="right"?gr.length-1:0]}else{gq=gE.getBoundingClientRect()}}if(dK&&k<9&&!gt&&(!gq||!gq.left&&!gq.right)){var gv=gE.parentNode.getClientRects()[0];if(gv){gq={left:gv.left,right:gv.left+dD(gw.display),top:gv.top,bottom:gv.bottom}}else{gq=eE}}var gC=gq.top-gG.rect.top,gA=gq.bottom-gG.rect.top;var gI=(gC+gA)/2;var gH=gG.view.measure.heights;for(var gF=0;gF<gH.length-1;gF++){if(gI<gH[gF]){break}}var gD=gF?gH[gF-1]:0,gB=gH[gF];var gy={left:(gp=="right"?gq.right:gq.left)-gG.rect.left,right:(gp=="left"?gq.left:gq.right)-gG.rect.left,top:gD,bottom:gB};if(!gq.left&&!gq.right){gy.bogus=true}if(!gw.options.singleCursorHeightPerLine){gy.rtop=gC;gy.rbottom=gA}return gy}function eR(gr,gs){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!aJ(gr)){return gs}var gq=screen.logicalXDPI/screen.deviceXDPI;var gp=screen.logicalYDPI/screen.deviceYDPI;return{left:gs.left*gq,right:gs.right*gq,top:gs.top*gp,bottom:gs.bottom*gp}}function at(gq){if(gq.measure){gq.measure.cache={};gq.measure.heights=null;if(gq.rest){for(var gp=0;gp<gq.rest.length;gp++){gq.measure.caches[gp]={}}}}}function aN(gp){gp.display.externalMeasure=null;d2(gp.display.lineMeasure);for(var gq=0;gq<gp.display.view.length;gq++){at(gp.display.view[gq])}}function aj(gp){aN(gp);gp.display.cachedCharWidth=gp.display.cachedTextHeight=gp.display.cachedPaddingH=null;if(!gp.options.lineWrapping){gp.display.maxLineChanged=true}gp.display.lineNumChars=null}function ct(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function cr(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function eU(gv,gs,gu,gq){if(gs.widgets){for(var gr=0;gr<gs.widgets.length;++gr){if(gs.widgets[gr].above){var gx=cX(gs.widgets[gr]);gu.top+=gx;gu.bottom+=gx}}}if(gq=="line"){return gu}if(!gq){gq="local"}var gt=bL(gs);if(gq=="local"){gt+=fd(gv.display)}else{gt-=gv.display.viewOffset}if(gq=="page"||gq=="window"){var gp=gv.display.lineSpace.getBoundingClientRect();gt+=gp.top+(gq=="window"?0:cr());var gw=gp.left+(gq=="window"?0:ct());gu.left+=gw;gu.right+=gw}gu.top+=gt;gu.bottom+=gt;return gu}function gk(gq,gt,gr){if(gr=="div"){return gt}var gv=gt.left,gu=gt.top;if(gr=="page"){gv-=ct();gu-=cr()}else{if(gr=="local"||!gr){var gs=gq.display.sizer.getBoundingClientRect();gv+=gs.left;gu+=gs.top}}var gp=gq.display.lineSpace.getBoundingClientRect();return{left:gv-gp.left,top:gu-gp.top}}function cI(gp,gt,gs,gr,gq){if(!gr){gr=fk(gp.doc,gt.line)}return eU(gp,gr,ej(gp,gr,gt.ch,gq),gs)}function dU(gy,gx,gr,gv,gA,gw){gv=gv||fk(gy.doc,gx.line);if(!gA){gA=a3(gy,gv)}function gt(gD,gC){var gB=C(gy,gA,gD,gC?"right":"left",gw);if(gC){gB.left=gB.right}else{gB.right=gB.left}return eU(gy,gv,gB,gr)}function gz(gE,gB){var gC=gu[gB],gD=gC.level%2;if(gE==dy(gC)&&gB&&gC.level<gu[gB-1].level){gC=gu[--gB];gE=gj(gC)-(gC.level%2?0:1);gD=true}else{if(gE==gj(gC)&&gB<gu.length-1&&gC.level<gu[gB+1].level){gC=gu[++gB];gE=dy(gC)-gC.level%2;gD=false}}if(gD&&gE==gC.to&&gE>gC.from){return gt(gE-1)}return gt(gE,gD)}var gu=a(gv),gp=gx.ch;if(!gu){return gt(gp)}var gq=aF(gu,gp);var gs=gz(gp,gq);if(e6!=null){gs.other=gz(gp,e6)}return gs}function dH(gp,gt){var gs=0,gt=fO(gp.doc,gt);if(!gp.options.lineWrapping){gs=dD(gp.display)*gt.ch}var gq=fk(gp.doc,gt.line);var gr=bL(gq)+fd(gp.display);return{left:gs,right:gs,top:gr,bottom:gr+gq.height}}function f7(gp,gq,gr,gt){var gs=W(gp,gq);gs.xRel=gt;if(gr){gs.outside=true}return gs}function fT(gw,gt,gs){var gv=gw.doc;gs+=gw.display.viewOffset;if(gs<0){return f7(gv.first,0,true,-1)}var gr=bF(gv,gs),gx=gv.first+gv.size-1;if(gr>gx){return f7(gv.first+gv.size-1,fk(gv,gx).text.length,true,1)}if(gt<0){gt=0}var gq=fk(gv,gr);for(;;){var gy=cY(gw,gq,gr,gt,gs);var gu=ex(gq);var gp=gu&&gu.find(0,true);if(gu&&(gy.ch>gp.from.ch||gy.ch==gp.from.ch&&gy.xRel>0)){gr=bM(gq=gp.to.line)}else{return gy}}}function cY(gz,gr,gC,gB,gA){var gy=gA-bL(gr);var gv=false,gI=2*gz.display.wrapper.clientWidth;var gF=a3(gz,gr);function gM(gO){var gP=dU(gz,W(gC,gO),"line",gr,gF);gv=true;if(gy>gP.bottom){return gP.left-gI}else{if(gy<gP.top){return gP.left+gI}else{gv=false}}return gP.left}var gE=a(gr),gH=gr.text.length;var gJ=cD(gr),gs=cR(gr);var gG=gM(gJ),gp=gv,gq=gM(gs),gu=gv;if(gB>gq){return f7(gC,gs,gu,1)}for(;;){if(gE?gs==gJ||gs==u(gr,gJ,1):gs-gJ<=1){var gD=gB<gG||gB-gG<=gq-gB?gJ:gs;var gL=gB-(gD==gJ?gG:gq);while(fu(gr.text.charAt(gD))){++gD}var gx=f7(gC,gD,gD==gJ?gp:gu,gL<-1?-1:gL>1?1:0);return gx}var gw=Math.ceil(gH/2),gN=gJ+gw;if(gE){gN=gJ;for(var gK=0;gK<gw;++gK){gN=u(gr,gN,1)}}var gt=gM(gN);if(gt>gB){gs=gN;gq=gt;if(gu=gv){gq+=1000}gH=gw}else{gJ=gN;gG=gt;gp=gv;gH-=gw}}}var aG;function aX(gr){if(gr.cachedTextHeight!=null){return gr.cachedTextHeight}if(aG==null){aG=f8("pre");for(var gq=0;gq<49;++gq){aG.appendChild(document.createTextNode("x"));aG.appendChild(f8("br"))}aG.appendChild(document.createTextNode("x"))}bQ(gr.measure,aG);var gp=aG.offsetHeight/50;if(gp>3){gr.cachedTextHeight=gp}d2(gr.measure);return gp||1}function dD(gt){if(gt.cachedCharWidth!=null){return gt.cachedCharWidth}var gp=f8("span","xxxxxxxxxx");var gs=f8("pre",[gp]);bQ(gt.measure,gs);var gr=gp.getBoundingClientRect(),gq=(gr.right-gr.left)/10;if(gq>2){gt.cachedCharWidth=gq}return gq||10}var bo=null;var d9=0;function cH(gp){gp.curOp={cm:gp,viewChanged:false,startHeight:gp.doc.height,forceUpdate:false,updateInput:null,typing:false,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:false,id:++d9};if(bo){bo.ops.push(gp.curOp)}else{gp.curOp.ownsGroup=bo={ops:[gp.curOp],delayedCallbacks:[]}}}function cT(gs){var gr=gs.delayedCallbacks,gq=0;do{for(;gq<gr.length;gq++){gr[gq].call(null)}for(var gp=0;gp<gs.ops.length;gp++){var gt=gs.ops[gp];if(gt.cursorActivityHandlers){while(gt.cursorActivityCalled<gt.cursorActivityHandlers.length){gt.cursorActivityHandlers[gt.cursorActivityCalled++].call(null,gt.cm)}}}}while(gq<gr.length)}function al(gp){var gs=gp.curOp,gr=gs.ownsGroup;if(!gr){return}try{cT(gr)}finally{bo=null;for(var gq=0;gq<gr.ops.length;gq++){gr.ops[gq].cm.curOp=null}cJ(gr)}}function cJ(gr){var gq=gr.ops;for(var gp=0;gp<gq.length;gp++){b4(gq[gp])}for(var gp=0;gp<gq.length;gp++){ap(gq[gp])}for(var gp=0;gp<gq.length;gp++){b1(gq[gp])}for(var gp=0;gp<gq.length;gp++){ao(gq[gp])}for(var gp=0;gp<gq.length;gp++){e4(gq[gp])}}function b4(gr){var gp=gr.cm,gq=gp.display;J(gp);if(gr.updateMaxLine){h(gp)}gr.mustUpdate=gr.viewChanged||gr.forceUpdate||gr.scrollTop!=null||gr.scrollToPos&&(gr.scrollToPos.from.line<gq.viewFrom||gr.scrollToPos.to.line>=gq.viewTo)||gq.maxLineChanged&&gp.options.lineWrapping;gr.update=gr.mustUpdate&&new aH(gp,gr.mustUpdate&&{top:gr.scrollTop,ensure:gr.scrollToPos},gr.forceUpdate)}function ap(gp){gp.updatedDisplay=gp.mustUpdate&&B(gp.cm,gp.update)}function b1(gr){var gp=gr.cm,gq=gp.display;if(gr.updatedDisplay){a8(gp)}gr.barMeasure=dA(gp);if(gq.maxLineChanged&&!gp.options.lineWrapping){gr.adjustWidthTo=ej(gp,gq.maxLine,gq.maxLine.text.length).left+3;gp.display.sizerWidth=gr.adjustWidthTo;gr.barMeasure.scrollWidth=Math.max(gq.scroller.clientWidth,gq.sizer.offsetLeft+gr.adjustWidthTo+cS(gp)+gp.display.barWidth);gr.maxScrollLeft=Math.max(0,gq.sizer.offsetLeft+gr.adjustWidthTo-dl(gp))}if(gr.updatedDisplay||gr.selectionChanged){gr.preparedSelection=gq.input.prepareSelection()}}function ao(gq){var gp=gq.cm;if(gq.adjustWidthTo!=null){gp.display.sizer.style.minWidth=gq.adjustWidthTo+"px";if(gq.maxScrollLeft<gp.doc.scrollLeft){bD(gp,Math.min(gp.display.scroller.scrollLeft,gq.maxScrollLeft),true)}gp.display.maxLineChanged=false}if(gq.preparedSelection){gp.display.input.showSelection(gq.preparedSelection)}if(gq.updatedDisplay){dz(gp,gq.barMeasure)}if(gq.updatedDisplay||gq.startHeight!=gp.doc.height){e2(gp,gq.barMeasure)}if(gq.selectionChanged){o(gp)}if(gp.state.focused&&gq.updateInput){gp.display.input.reset(gq.typing)}if(gq.focus&&gq.focus==dO()&&(!document.hasFocus||document.hasFocus())){r(gq.cm)}}function e4(gw){var gp=gw.cm,gu=gp.display,gt=gp.doc;if(gw.updatedDisplay){ci(gp,gw.update)}if(gu.wheelStartX!=null&&(gw.scrollTop!=null||gw.scrollLeft!=null||gw.scrollToPos)){gu.wheelStartX=gu.wheelStartY=null}if(gw.scrollTop!=null&&(gu.scroller.scrollTop!=gw.scrollTop||gw.forceScroll)){gt.scrollTop=Math.max(0,Math.min(gu.scroller.scrollHeight-gu.scroller.clientHeight,gw.scrollTop));gu.scrollbars.setScrollTop(gt.scrollTop);gu.scroller.scrollTop=gt.scrollTop}if(gw.scrollLeft!=null&&(gu.scroller.scrollLeft!=gw.scrollLeft||gw.forceScroll)){gt.scrollLeft=Math.max(0,Math.min(gu.scroller.scrollWidth-dl(gp),gw.scrollLeft));gu.scrollbars.setScrollLeft(gt.scrollLeft);gu.scroller.scrollLeft=gt.scrollLeft;eH(gp)}if(gw.scrollToPos){var gs=D(gp,fO(gt,gw.scrollToPos.from),fO(gt,gw.scrollToPos.to),gw.scrollToPos.margin);if(gw.scrollToPos.isCursor&&gp.state.focused){d7(gp,gs)}}var gr=gw.maybeHiddenMarkers,gv=gw.maybeUnhiddenMarkers;if(gr){for(var gq=0;gq<gr.length;++gq){if(!gr[gq].lines.length){aD(gr[gq],"hide")}}}if(gv){for(var gq=0;gq<gv.length;++gq){if(gv[gq].lines.length){aD(gv[gq],"unhide")}}}if(gu.wrapper.offsetHeight){gt.scrollTop=gp.display.scroller.scrollTop}if(gw.changeObjs){aD(gp,"changes",gp,gw.changeObjs)}if(gw.update){gw.update.finish()}}function cL(gp,gq){if(gp.curOp){return gq()}cH(gp);try{return gq()}finally{al(gp)}}function c1(gp,gq){return function(){if(gp.curOp){return gq.apply(gp,arguments)}cH(gp);try{return gq.apply(gp,arguments)}finally{al(gp)}}}function c7(gp){return function(){if(this.curOp){return gp.apply(this,arguments)}cH(this);try{return gp.apply(this,arguments)}finally{al(this)}}}function cC(gp){return function(){var gq=this.cm;if(!gq||gq.curOp){return gp.apply(this,arguments)}cH(gq);try{return gp.apply(this,arguments)}finally{al(gq)}}}function bu(gr,gp,gq){this.line=gp;this.rest=g(gp);this.size=this.rest?bM(fL(this.rest))-gq+1:1;this.node=this.text=null;this.hidden=fB(gr,gp)}function eZ(gp,gv,gu){var gt=[],gr;for(var gs=gv;gs<gu;gs=gr){var gq=new bu(gp.doc,fk(gp.doc,gs),gs);gr=gs+gq.size;gt.push(gq)}return gt}function ah(gw,gu,gv,gx){if(gu==null){gu=gw.doc.first}if(gv==null){gv=gw.doc.first+gw.doc.size}if(!gx){gx=0}var gr=gw.display;if(gx&&gv<gr.viewTo&&(gr.updateLineNumbers==null||gr.updateLineNumbers>gu)){gr.updateLineNumbers=gu}gw.curOp.viewChanged=true;if(gu>=gr.viewTo){if(a6&&aV(gw.doc,gu)<gr.viewTo){eA(gw)}}else{if(gv<=gr.viewFrom){if(a6&&d3(gw.doc,gv+gx)>gr.viewFrom){eA(gw)}else{gr.viewFrom+=gx;gr.viewTo+=gx}}else{if(gu<=gr.viewFrom&&gv>=gr.viewTo){eA(gw)}else{if(gu<=gr.viewFrom){var gt=de(gw,gv,gv+gx,1);if(gt){gr.view=gr.view.slice(gt.index);gr.viewFrom=gt.lineN;gr.viewTo+=gx}else{eA(gw)}}else{if(gv>=gr.viewTo){var gt=de(gw,gu,gu,-1);if(gt){gr.view=gr.view.slice(0,gt.index);gr.viewTo=gt.lineN}else{eA(gw)}}else{var gs=de(gw,gu,gu,-1);var gq=de(gw,gv,gv+gx,1);if(gs&&gq){gr.view=gr.view.slice(0,gs.index).concat(eZ(gw,gs.lineN,gq.lineN)).concat(gr.view.slice(gq.index));gr.viewTo+=gx}else{eA(gw)}}}}}}var gp=gr.externalMeasured;if(gp){if(gv<gp.lineN){gp.lineN+=gx}else{if(gu<gp.lineN+gp.size){gr.externalMeasured=null}}}}function R(gq,gr,gu){gq.curOp.viewChanged=true;var gv=gq.display,gt=gq.display.externalMeasured;if(gt&&gr>=gt.lineN&&gr<gt.lineN+gt.size){gv.externalMeasured=null}if(gr<gv.viewFrom||gr>=gv.viewTo){return}var gs=gv.view[dr(gq,gr)];if(gs.node==null){return}var gp=gs.changes||(gs.changes=[]);if(dh(gp,gu)==-1){gp.push(gu)}}function eA(gp){gp.display.viewFrom=gp.display.viewTo=gp.doc.first;gp.display.view=[];gp.display.viewOffset=0}function dr(gp,gs){if(gs>=gp.display.viewTo){return null}gs-=gp.display.viewFrom;if(gs<0){return null}var gq=gp.display.view;for(var gr=0;gr<gq.length;gr++){gs-=gq[gr].size;if(gs<0){return gr}}}function de(gx,gr,gt,gq){var gu=dr(gx,gr),gw,gv=gx.display.view;if(!a6||gt==gx.doc.first+gx.doc.size){return{index:gu,lineN:gt}}for(var gs=0,gp=gx.display.viewFrom;gs<gu;gs++){gp+=gv[gs].size}if(gp!=gr){if(gq>0){if(gu==gv.length-1){return null}gw=(gp+gv[gu].size)-gr;gu++}else{gw=gp-gr}gr+=gw;gt+=gw}while(aV(gx.doc,gt)!=gt){if(gu==(gq<0?0:gv.length-1)){return null}gt+=gq*gv[gu-(gq<0?1:0)].size;gu+=gq}return{index:gu,lineN:gt}}function cQ(gp,gt,gs){var gr=gp.display,gq=gr.view;if(gq.length==0||gt>=gr.viewTo||gs<=gr.viewFrom){gr.view=eZ(gp,gt,gs);gr.viewFrom=gt}else{if(gr.viewFrom>gt){gr.view=eZ(gp,gt,gr.viewFrom).concat(gr.view)}else{if(gr.viewFrom<gt){gr.view=gr.view.slice(dr(gp,gt))}}gr.viewFrom=gt;if(gr.viewTo<gs){gr.view=gr.view.concat(eZ(gp,gr.viewTo,gs))}else{if(gr.viewTo>gs){gr.view=gr.view.slice(0,dr(gp,gs))}}}gr.viewTo=gs}function db(gp){var gq=gp.display.view,gt=0;for(var gs=0;gs<gq.length;gs++){var gr=gq[gs];if(!gr.hidden&&(!gr.node||gr.changes)){++gt}}return gt}function fV(gq){var gu=gq.display;bW(gu.scroller,"mousedown",c1(gq,ey));if(dK&&k<11){bW(gu.scroller,"dblclick",c1(gq,function(gy){if(aQ(gq,gy)){return}var gz=cm(gq,gy);if(!gz||l(gq,gy)||ba(gq.display,gy)){return}cF(gy);var gx=gq.findWordAt(gz);f2(gq.doc,gx.anchor,gx.head)}))}else{bW(gu.scroller,"dblclick",function(gx){aQ(gq,gx)||cF(gx)})}if(!gf){bW(gu.scroller,"contextmenu",function(gx){ax(gq,gx)})}var gw,gp={end:0};function gv(){if(gu.activeTouch){gw=setTimeout(function(){gu.activeTouch=null},1000);gp=gu.activeTouch;gp.end=+new Date}}function gs(gx){if(gx.touches.length!=1){return false}var gy=gx.touches[0];return gy.radiusX<=1&&gy.radiusY<=1}function gr(gA,gx){if(gx.left==null){return true}var gz=gx.left-gA.left,gy=gx.top-gA.top;return gz*gz+gy*gy>20*20}bW(gu.scroller,"touchstart",function(gy){if(!aQ(gq,gy)&&!gs(gy)){clearTimeout(gw);var gx=+new Date;gu.activeTouch={start:gx,moved:false,prev:gx-gp.end<=300?gp:null};if(gy.touches.length==1){gu.activeTouch.left=gy.touches[0].pageX;gu.activeTouch.top=gy.touches[0].pageY}}});bW(gu.scroller,"touchmove",function(){if(gu.activeTouch){gu.activeTouch.moved=true}});bW(gu.scroller,"touchend",function(gy){var gA=gu.activeTouch;if(gA&&!ba(gu,gy)&&gA.left!=null&&!gA.moved&&new Date-gA.start<300){var gz=gq.coordsChar(gu.activeTouch,"page"),gx;if(!gA.prev||gr(gA,gA.prev)){gx=new dY(gz,gz)}else{if(!gA.prev.prev||gr(gA,gA.prev.prev)){gx=gq.findWordAt(gz)}else{gx=new dY(W(gz.line,0),fO(gq.doc,W(gz.line+1,0)))}}gq.setSelection(gx.anchor,gx.head);gq.focus();cF(gy)}gv()});bW(gu.scroller,"touchcancel",gv);bW(gu.scroller,"scroll",function(){if(gu.scroller.clientHeight){N(gq,gu.scroller.scrollTop);bD(gq,gu.scroller.scrollLeft,true);aD(gq,"scroll",gq)}});bW(gu.scroller,"mousewheel",function(gx){b(gq,gx)});bW(gu.scroller,"DOMMouseScroll",function(gx){b(gq,gx)});bW(gu.wrapper,"scroll",function(){gu.wrapper.scrollTop=gu.wrapper.scrollLeft=0});gu.dragFunctions={enter:function(gx){if(!aQ(gq,gx)){eu(gx)}},over:function(gx){if(!aQ(gq,gx)){gm(gq,gx);eu(gx)}},start:function(gx){Q(gq,gx)},drop:c1(gq,bj),leave:function(){da(gq)}};var gt=gu.input.getField();bW(gt,"keyup",function(gx){bh.call(gq,gx)});bW(gt,"keydown",c1(gq,p));bW(gt,"keypress",c1(gq,cw));bW(gt,"focus",cu(cA,gq));bW(gt,"blur",cu(aU,gq))}function f6(gq,gt,gr){var gu=gr&&gr!=H.Init;if(!gt!=!gu){var gs=gq.display.dragFunctions;var gp=gt?bW:ef;gp(gq.display.scroller,"dragstart",gs.start);gp(gq.display.scroller,"dragenter",gs.enter);gp(gq.display.scroller,"dragover",gs.over);gp(gq.display.scroller,"dragleave",gs.leave);gp(gq.display.scroller,"drop",gs.drop)}}function aS(gp){var gq=gp.display;if(gq.lastWrapHeight==gq.wrapper.clientHeight&&gq.lastWrapWidth==gq.wrapper.clientWidth){return}gq.cachedCharWidth=gq.cachedTextHeight=gq.cachedPaddingH=null;gq.scrollbarsClipped=false;gp.setSize()}function ba(gq,gp){for(var gr=L(gp);gr!=gq.wrapper;gr=gr.parentNode){if(!gr||(gr.nodeType==1&&gr.getAttribute("cm-ignore-events")=="true")||(gr.parentNode==gq.sizer&&gr!=gq.mover)){return true}}}function cm(gy,gt,gq,gr){var gu=gy.display;if(!gq&&L(gt).getAttribute("cm-not-content")=="true"){return null}var gx,gv,gp=gu.lineSpace.getBoundingClientRect();try{gx=gt.clientX-gp.left;gv=gt.clientY-gp.top}catch(gt){return null}var gw=fT(gy,gx,gv),gz;if(gr&&gw.xRel==1&&(gz=fk(gy.doc,gw.line).text).length==gw.ch){var gs=bS(gz,gz.length,gy.options.tabSize)-gz.length;gw=W(gw.line,Math.max(0,Math.round((gx-e9(gy.display).left)/dD(gy.display))-gs))}return gw}function ey(gr){var gp=this,gq=gp.display;if(aQ(gp,gr)||gq.activeTouch&&gq.input.supportsTouch()){return}gq.shift=gr.shiftKey;if(ba(gq,gr)){if(!cZ){gq.scroller.draggable=false;setTimeout(function(){gq.scroller.draggable=true},100)}return}if(l(gp,gr)){return}var gs=cm(gp,gr);window.focus();switch(fS(gr)){case 1:if(gp.state.selectingText){gp.state.selectingText(gr)}else{if(gs){aw(gp,gr,gs)}else{if(L(gr)==gq.scroller){cF(gr)}}}break;case 2:if(cZ){gp.state.lastMiddleDown=+new Date}if(gs){f2(gp.doc,gs)}setTimeout(function(){gq.input.focus()},20);cF(gr);break;case 3:if(gf){ax(gp,gr)}else{ak(gp)}break}}var dn,dd;function aw(gq,gv,gw){if(dK){setTimeout(cu(r,gq),0)}else{gq.curOp.focus=dO()}var gr=+new Date,gt;if(dd&&dd.time>gr-400&&ce(dd.pos,gw)==0){gt="triple"}else{if(dn&&dn.time>gr-400&&ce(dn.pos,gw)==0){gt="double";dd={time:gr,pos:gw}}else{gt="single";dn={time:gr,pos:gw}}}var gu=gq.doc.sel,gp=b6?gv.metaKey:gv.ctrlKey,gs;if(gq.options.dragDrop&&eP&&!gq.isReadOnly()&&gt=="single"&&(gs=gu.contains(gw))>-1&&(ce((gs=gu.ranges[gs]).from(),gw)<0||gw.xRel>0)&&(ce(gs.to(),gw)>0||gw.xRel<0)){a2(gq,gv,gw,gp)}else{m(gq,gv,gw,gt,gp)}}function a2(gr,gu,gv,gq){var gt=gr.display,gs=+new Date;var gp=c1(gr,function(gw){if(cZ){gt.scroller.draggable=false}gr.state.draggingText=false;ef(document,"mouseup",gp);ef(gt.scroller,"drop",gp);if(Math.abs(gu.clientX-gw.clientX)+Math.abs(gu.clientY-gw.clientY)<10){cF(gw);if(!gq&&+new Date-200<gs){f2(gr.doc,gv)}if(cZ||dK&&k==9){setTimeout(function(){document.body.focus();gt.input.focus()},20)}else{gt.input.focus()}}});if(cZ){gt.scroller.draggable=true}gr.state.draggingText=gp;if(gt.scroller.dragDrop){gt.scroller.dragDrop()}bW(document,"mouseup",gp);bW(gt.scroller,"drop",gp)}function m(gt,gH,gs,gq,gv){var gE=gt.display,gJ=gt.doc;cF(gH);var gr,gI,gu=gJ.sel,gp=gu.ranges;if(gv&&!gH.shiftKey){gI=gJ.sel.contains(gs);if(gI>-1){gr=gp[gI]}else{gr=new dY(gs,gs)}}else{gr=gJ.sel.primary();gI=gJ.sel.primIndex}if(gH.altKey){gq="rect";if(!gv){gr=new dY(gs,gs)}gs=cm(gt,gH,true,true);gI=-1}else{if(gq=="double"){var gF=gt.findWordAt(gs);if(gt.display.shift||gJ.extend){gr=fA(gJ,gr,gF.anchor,gF.head)}else{gr=gF}}else{if(gq=="triple"){var gy=new dY(W(gs.line,0),fO(gJ,W(gs.line+1,0)));if(gt.display.shift||gJ.extend){gr=fA(gJ,gr,gy.anchor,gy.head)}else{gr=gy}}else{gr=fA(gJ,gr,gs)}}}if(!gv){gI=0;bT(gJ,new f9([gr],0),M);gu=gJ.sel}else{if(gI==-1){gI=gp.length;bT(gJ,cv(gp.concat([gr]),gI),{scroll:false,origin:"*mouse"})}else{if(gp.length>1&&gp[gI].empty()&&gq=="single"&&!gH.shiftKey){bT(gJ,cv(gp.slice(0,gI).concat(gp.slice(gI+1)),0),{scroll:false,origin:"*mouse"});gu=gJ.sel}else{e(gJ,gI,gr,M)}}}var gD=gs;function gC(gU){if(ce(gD,gU)==0){return}gD=gU;if(gq=="rect"){var gL=[],gR=gt.options.tabSize;var gK=bS(fk(gJ,gs.line).text,gs.ch,gR);var gX=bS(fk(gJ,gU.line).text,gU.ch,gR);var gM=Math.min(gK,gX),gV=Math.max(gK,gX);for(var gY=Math.min(gs.line,gU.line),gO=Math.min(gt.lastLine(),Math.max(gs.line,gU.line));gY<=gO;gY++){var gW=fk(gJ,gY).text,gN=et(gW,gM,gR);if(gM==gV){gL.push(new dY(W(gY,gN),W(gY,gN)))}else{if(gW.length>gN){gL.push(new dY(W(gY,gN),W(gY,et(gW,gV,gR))))}}}if(!gL.length){gL.push(new dY(gs,gs))}bT(gJ,cv(gu.ranges.slice(0,gI).concat(gL),gI),{origin:"*mouse",scroll:false});gt.scrollIntoView(gU)}else{var gS=gr;var gP=gS.anchor,gT=gU;if(gq!="single"){if(gq=="double"){var gQ=gt.findWordAt(gU)}else{var gQ=new dY(W(gU.line,0),fO(gJ,W(gU.line+1,0)))}if(ce(gQ.anchor,gP)>0){gT=gQ.head;gP=aq(gS.from(),gQ.anchor)}else{gT=gQ.anchor;gP=bw(gS.to(),gQ.head)}}var gL=gu.ranges.slice(0);gL[gI]=new dY(fO(gJ,gP),gT);bT(gJ,cv(gL,gI),M)}}var gA=gE.wrapper.getBoundingClientRect();var gw=0;function gG(gM){var gK=++gw;var gO=cm(gt,gM,true,gq=="rect");if(!gO){return}if(ce(gO,gD)!=0){gt.curOp.focus=dO();gC(gO);var gN=b5(gE,gJ);if(gO.line>=gN.to||gO.line<gN.from){setTimeout(c1(gt,function(){if(gw==gK){gG(gM)}}),150)}}else{var gL=gM.clientY<gA.top?-20:gM.clientY>gA.bottom?20:0;if(gL){setTimeout(c1(gt,function(){if(gw!=gK){return}gE.scroller.scrollTop+=gL;gG(gM)}),50)}}}function gz(gK){gt.state.selectingText=false;gw=Infinity;cF(gK);gE.input.focus();ef(document,"mousemove",gB);ef(document,"mouseup",gx);gJ.history.lastSelOrigin=null}var gB=c1(gt,function(gK){if(!fS(gK)){gz(gK)}else{gG(gK)}});var gx=c1(gt,gz);gt.state.selectingText=gx;bW(document,"mousemove",gB);bW(document,"mouseup",gx)}function gn(gz,gv,gx,gy){try{var gq=gv.clientX,gp=gv.clientY}catch(gv){return false}if(gq>=Math.floor(gz.display.gutters.getBoundingClientRect().right)){return false}if(gy){cF(gv)}var gw=gz.display;var gu=gw.lineDiv.getBoundingClientRect();if(gp>gu.bottom||!fn(gz,gx)){return bK(gv)}gp-=gu.top-gw.viewOffset;for(var gs=0;gs<gz.options.gutters.length;++gs){var gt=gw.gutters.childNodes[gs];if(gt&&gt.getBoundingClientRect().right>=gq){var gA=bF(gz.doc,gp);var gr=gz.options.gutters[gs];aD(gz,gx,gz,gA,gr,gv);return bK(gv)}}}function l(gp,gq){return gn(gp,gq,"gutterClick",true)}var ag=0;function bj(gv){var gx=this;da(gx);if(aQ(gx,gv)||ba(gx.display,gv)){return}cF(gv);if(dK){ag=+new Date}var gw=cm(gx,gv,true),gp=gv.dataTransfer.files;if(!gw||gx.isReadOnly()){return}if(gp&&gp.length&&window.FileReader&&window.File){var gr=gp.length,gy=Array(gr),gq=0;var gt=function(gB,gA){if(gx.options.allowDropFileTypes&&dh(gx.options.allowDropFileTypes,gB.type)==-1){return}var gz=new FileReader;gz.onload=c1(gx,function(){var gC=gz.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(gC)){gC=""}gy[gA]=gC;if(++gq==gr){gw=fO(gx.doc,gw);var gD={from:gw,to:gw,text:gx.doc.splitLines(gy.join(gx.doc.lineSeparator())),origin:"paste"};bf(gx.doc,gD);fc(gx.doc,eW(gw,cW(gD)))}});gz.readAsText(gB)};for(var gu=0;gu<gr;++gu){gt(gp[gu],gu)}}else{if(gx.state.draggingText&&gx.doc.sel.contains(gw)>-1){gx.state.draggingText(gv);setTimeout(function(){gx.display.input.focus()},20);return}try{var gy=gv.dataTransfer.getData("Text");if(gy){if(gx.state.draggingText&&!(b6?gv.altKey:gv.ctrlKey)){var gs=gx.listSelections()}es(gx.doc,eW(gw,gw));if(gs){for(var gu=0;gu<gs.length;++gu){a0(gx.doc,"",gs[gu].anchor,gs[gu].head,"drag")}}gx.replaceSelection(gy,"around","paste");gx.display.input.focus()}}catch(gv){}}}function Q(gp,gr){if(dK&&(!gp.state.draggingText||+new Date-ag<100)){eu(gr);return}if(aQ(gp,gr)||ba(gp.display,gr)){return}gr.dataTransfer.setData("Text",gp.getSelection());if(gr.dataTransfer.setDragImage&&!aB){var gq=f8("img",null,null,"position: fixed; left: 0; top: 0;");gq.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(d4){gq.width=gq.height=1;gp.display.wrapper.appendChild(gq);gq._top=gq.offsetTop}gr.dataTransfer.setDragImage(gq,0,0);if(d4){gq.parentNode.removeChild(gq)}}}function gm(gp,gq){var gs=cm(gp,gq);if(!gs){return}var gr=document.createDocumentFragment();A(gp,gs,gr);if(!gp.display.dragCursor){gp.display.dragCursor=f8("div",null,"CodeMirror-cursors CodeMirror-dragcursors");gp.display.lineSpace.insertBefore(gp.display.dragCursor,gp.display.cursorDiv)}bQ(gp.display.dragCursor,gr)}function da(gp){if(gp.display.dragCursor){gp.display.lineSpace.removeChild(gp.display.dragCursor);gp.display.dragCursor=null}}function N(gp,gq){if(Math.abs(gp.doc.scrollTop-gq)<2){return}gp.doc.scrollTop=gq;if(!cn){dT(gp,{top:gq})}if(gp.display.scroller.scrollTop!=gq){gp.display.scroller.scrollTop=gq}gp.display.scrollbars.setScrollTop(gq);if(cn){dT(gp)}eh(gp,100)}function bD(gp,gr,gq){if(gq?gr==gp.doc.scrollLeft:Math.abs(gp.doc.scrollLeft-gr)<2){return}gr=Math.min(gr,gp.display.scroller.scrollWidth-gp.display.scroller.clientWidth);gp.doc.scrollLeft=gr;eH(gp);if(gp.display.scroller.scrollLeft!=gr){gp.display.scroller.scrollLeft=gr}gp.display.scrollbars.setScrollLeft(gr)}var fr=0,cf=null;if(dK){cf=-0.53}else{if(cn){cf=15}else{if(dc){cf=-0.7}else{if(aB){cf=-1/3}}}}var cP=function(gr){var gq=gr.wheelDeltaX,gp=gr.wheelDeltaY;if(gq==null&&gr.detail&&gr.axis==gr.HORIZONTAL_AXIS){gq=gr.detail}if(gp==null&&gr.detail&&gr.axis==gr.VERTICAL_AXIS){gp=gr.detail}else{if(gp==null){gp=gr.wheelDelta}}return{x:gq,y:gp}};H.wheelEventPixels=function(gp){var gq=cP(gp);gq.x*=cf;gq.y*=cf;return gq};function b(gz,gt){var gB=cP(gt),gD=gB.x,gC=gB.y;var gv=gz.display,gy=gv.scroller;var gs=gy.scrollWidth>gy.clientWidth;var gr=gy.scrollHeight>gy.clientHeight;if(!(gD&&gs||gC&&gr)){return}if(gC&&b6&&cZ){outer:for(var gA=gt.target,gx=gv.view;gA!=gy;gA=gA.parentNode){for(var gq=0;gq<gx.length;gq++){if(gx[gq].node==gA){gz.display.currentWheelTarget=gA;break outer}}}}if(gD&&!cn&&!d4&&cf!=null){if(gC&&gr){N(gz,Math.max(0,Math.min(gy.scrollTop+gC*cf,gy.scrollHeight-gy.clientHeight)))}bD(gz,Math.max(0,Math.min(gy.scrollLeft+gD*cf,gy.scrollWidth-gy.clientWidth)));if(!gC||(gC&&gr)){cF(gt)}gv.wheelStartX=null;return}if(gC&&cf!=null){var gp=gC*cf;var gw=gz.doc.scrollTop,gu=gw+gv.wrapper.clientHeight;if(gp<0){gw=Math.max(0,gw+gp-50)}else{gu=Math.min(gz.doc.height,gu+gp+50)}dT(gz,{top:gw,bottom:gu})}if(fr<20){if(gv.wheelStartX==null){gv.wheelStartX=gy.scrollLeft;gv.wheelStartY=gy.scrollTop;gv.wheelDX=gD;gv.wheelDY=gC;setTimeout(function(){if(gv.wheelStartX==null){return}var gE=gy.scrollLeft-gv.wheelStartX;var gG=gy.scrollTop-gv.wheelStartY;var gF=(gG&&gv.wheelDY&&gG/gv.wheelDY)||(gE&&gv.wheelDX&&gE/gv.wheelDX);gv.wheelStartX=gv.wheelStartY=null;if(!gF){return}cf=(cf*fr+gF)/(fr+1);++fr},200)}else{gv.wheelDX+=gD;gv.wheelDY+=gC}}}function fW(gq,gt,gp){if(typeof gt=="string"){gt=eG[gt];if(!gt){return false}}gq.display.input.ensurePolled();var gs=gq.display.shift,gr=false;try{if(gq.isReadOnly()){gq.state.suppressEdits=true}if(gp){gq.display.shift=false}gr=gt(gq)!=b9}finally{gq.display.shift=gs;gq.state.suppressEdits=false}return gr}function eb(gq,gr,gt){for(var gs=0;gs<gq.state.keyMaps.length;gs++){var gp=i(gr,gq.state.keyMaps[gs],gt,gq);if(gp){return gp}}return(gq.options.extraKeys&&i(gr,gq.options.extraKeys,gt,gq))||i(gr,gq.options.keyMap,gt,gq)}var dM=new go;function bc(gq,gs,gu,gt){var gr=gq.state.keySeq;if(gr){if(eF(gs)){return"handled"}dM.set(50,function(){if(gq.state.keySeq==gr){gq.state.keySeq=null;gq.display.input.reset()}});gs=gr+" "+gs}var gp=eb(gq,gs,gt);if(gp=="multi"){gq.state.keySeq=gs}if(gp=="handled"){ae(gq,"keyHandled",gq,gs,gu)}if(gp=="handled"||gp=="multi"){cF(gu);o(gq)}if(gr&&!gp&&/\'$/.test(gs)){cF(gu);return true}return !!gp}function fo(gp,gr){var gq=fw(gr,true);if(!gq){return false}if(gr.shiftKey&&!gp.state.keySeq){return bc(gp,"Shift-"+gq,gr,function(gs){return fW(gp,gs,true)})||bc(gp,gq,gr,function(gs){if(typeof gs=="string"?/^go[A-Z]/.test(gs):gs.motion){return fW(gp,gs)}})}else{return bc(gp,gq,gr,function(gs){return fW(gp,gs)})}}function el(gp,gr,gq){return bc(gp,"'"+gq+"'",gr,function(gs){return fW(gp,gs,true)})}var dm=null;function p(gs){var gp=this;gp.curOp.focus=dO();if(aQ(gp,gs)){return}if(dK&&k<11&&gs.keyCode==27){gs.returnValue=false}var gq=gs.keyCode;gp.display.shift=gq==16||gs.shiftKey;var gr=fo(gp,gs);if(d4){dm=gr?gq:null;if(!gr&&gq==88&&!c9&&(b6?gs.metaKey:gs.ctrlKey)){gp.replaceSelection("",null,"cut")}}if(gq==18&&!/\bCodeMirror-crosshair\b/.test(gp.display.lineDiv.className)){au(gp)}}function au(gq){var gr=gq.display.lineDiv;fF(gr,"CodeMirror-crosshair");function gp(gs){if(gs.keyCode==18||!gs.altKey){f(gr,"CodeMirror-crosshair");ef(document,"keyup",gp);ef(document,"mouseover",gp)}}bW(document,"keyup",gp);bW(document,"mouseover",gp)}function bh(gp){if(gp.keyCode==16){this.doc.sel.shift=false}aQ(this,gp)}function cw(gt){var gp=this;if(ba(gp.display,gt)||aQ(gp,gt)||gt.ctrlKey&&!gt.altKey||b6&&gt.metaKey){return}var gs=gt.keyCode,gq=gt.charCode;if(d4&&gs==dm){dm=null;cF(gt);return}if((d4&&(!gt.which||gt.which<10))&&fo(gp,gt)){return}var gr=String.fromCharCode(gq==null?gs:gq);if(el(gp,gt,gr)){return}gp.display.input.onKeyPress(gt)}function ak(gp){gp.state.delayingBlurEvent=true;setTimeout(function(){if(gp.state.delayingBlurEvent){gp.state.delayingBlurEvent=false;aU(gp)}},100)}function cA(gp){if(gp.state.delayingBlurEvent){gp.state.delayingBlurEvent=false}if(gp.options.readOnly=="nocursor"){return}if(!gp.state.focused){aD(gp,"focus",gp);gp.state.focused=true;fF(gp.display.wrapper,"CodeMirror-focused");if(!gp.curOp&&gp.display.selForContextMenu!=gp.doc.sel){gp.display.input.reset();if(cZ){setTimeout(function(){gp.display.input.reset(true)},20)}}gp.display.input.receivedFocus()}o(gp)}function aU(gp){if(gp.state.delayingBlurEvent){return}if(gp.state.focused){aD(gp,"blur",gp);gp.state.focused=false;f(gp.display.wrapper,"CodeMirror-focused")}clearInterval(gp.display.blinker);setTimeout(function(){if(!gp.state.focused){gp.display.shift=false}},150)}function ax(gp,gq){if(ba(gp.display,gq)||dg(gp,gq)){return}if(aQ(gp,gq,"contextmenu")){return}gp.display.input.onContextMenu(gq)}function dg(gp,gq){if(!fn(gp,"gutterContextMenu")){return false}return gn(gp,gq,"gutterContextMenu",false)}var cW=H.changeEnd=function(gp){if(!gp.text){return gp.to}return W(gp.from.line+gp.text.length-1,fL(gp.text).length+(gp.text.length==1?gp.from.ch:0))};function bY(gs,gr){if(ce(gs,gr.from)<0){return gs}if(ce(gs,gr.to)<=0){return cW(gr)}var gp=gs.line+gr.text.length-(gr.to.line-gr.from.line)-1,gq=gs.ch;if(gs.line==gr.to.line){gq+=cW(gr).ch-gr.to.ch}return W(gp,gq)}function fp(gs,gt){var gq=[];for(var gr=0;gr<gs.sel.ranges.length;gr++){var gp=gs.sel.ranges[gr];gq.push(new dY(bY(gp.anchor,gt),bY(gp.head,gt)))}return cv(gq,gs.sel.primIndex)}function bt(gr,gq,gp){if(gr.line==gq.line){return W(gp.line,gr.ch-gq.ch+gp.ch)}else{return W(gp.line+(gr.line-gq.line),gr.ch)}}function af(gz,gw,gq){var gr=[];var gp=W(gz.first,0),gA=gp;for(var gt=0;gt<gw.length;gt++){var gv=gw[gt];var gy=bt(gv.from,gp,gA);var gx=bt(cW(gv),gp,gA);gp=gv.to;gA=gx;if(gq=="around"){var gu=gz.sel.ranges[gt],gs=ce(gu.head,gu.anchor)<0;gr[gt]=new dY(gs?gx:gy,gs?gy:gx)}else{gr[gt]=new dY(gy,gy)}}return new f9(gr,gz.sel.primIndex)}function dR(gq,gs,gr){var gp={canceled:false,from:gs.from,to:gs.to,text:gs.text,origin:gs.origin,cancel:function(){this.canceled=true}};if(gr){gp.update=function(gw,gv,gu,gt){if(gw){this.from=fO(gq,gw)}if(gv){this.to=fO(gq,gv)}if(gu){this.text=gu}if(gt!==undefined){this.origin=gt}}}aD(gq,"beforeChange",gq,gp);if(gq.cm){aD(gq.cm,"beforeChange",gq.cm,gp)}if(gp.canceled){return null}return{from:gp.from,to:gp.to,text:gp.text,origin:gp.origin}}function bf(gs,gt,gr){if(gs.cm){if(!gs.cm.curOp){return c1(gs.cm,bf)(gs,gt,gr)}if(gs.cm.state.suppressEdits){return}}if(fn(gs,"beforeChange")||gs.cm&&fn(gs.cm,"beforeChange")){gt=dR(gs,gt,true);if(!gt){return}}var gq=gi&&!gr&&cG(gs,gt.from,gt.to);if(gq){for(var gp=gq.length-1;gp>=0;--gp){K(gs,{from:gq[gp].from,to:gq[gp].to,text:gp?[""]:gt.text})}}else{K(gs,gt)}}function K(gr,gs){if(gs.text.length==1&&gs.text[0]==""&&ce(gs.from,gs.to)==0){return}var gq=fp(gr,gs);fR(gr,gs,gq,gr.cm?gr.cm.curOp.id:NaN);eg(gr,gs,gq,em(gr,gs));var gp=[];d8(gr,function(gu,gt){if(!gt&&dh(gp,gu.history)==-1){dE(gu.history,gs);gp.push(gu.history)}eg(gu,gs,null,em(gu,gs))})}function b7(gA,gy,gC){if(gA.cm&&gA.cm.state.suppressEdits){return}var gx=gA.history,gr,gt=gA.sel;var gp=gy=="undo"?gx.done:gx.undone,gB=gy=="undo"?gx.undone:gx.done;for(var gu=0;gu<gp.length;gu++){gr=gp[gu];if(gC?gr.ranges&&!gr.equals(gA.sel):!gr.ranges){break}}if(gu==gp.length){return}gx.lastOrigin=gx.lastSelOrigin=null;for(;;){gr=gp.pop();if(gr.ranges){cM(gr,gB);if(gC&&!gr.equals(gA.sel)){bT(gA,gr,{clearRedo:false});return}gt=gr}else{break}}var gw=[];cM(gt,gB);gB.push({changes:gw,generation:gx.generation});gx.generation=gr.generation||++gx.maxGeneration;var gs=fn(gA,"beforeChange")||gA.cm&&fn(gA.cm,"beforeChange");for(var gu=gr.changes.length-1;gu>=0;--gu){var gz=gr.changes[gu];gz.origin=gy;if(gs&&!dR(gA,gz,false)){gp.length=0;return}gw.push(du(gA,gz));var gq=gu?fp(gA,gz):fL(gp);eg(gA,gz,gq,ea(gA,gz));if(!gu&&gA.cm){gA.cm.scrollIntoView({from:gz.from,to:cW(gz)})}var gv=[];d8(gA,function(gE,gD){if(!gD&&dh(gv,gE.history)==-1){dE(gE.history,gz);gv.push(gE.history)}eg(gE,gz,null,ea(gE,gz))})}}function fs(gq,gs){if(gs==0){return}gq.first+=gs;gq.sel=new f9(bR(gq.sel.ranges,function(gt){return new dY(W(gt.anchor.line+gs,gt.anchor.ch),W(gt.head.line+gs,gt.head.ch))}),gq.sel.primIndex);if(gq.cm){ah(gq.cm,gq.first,gq.first-gs,gs);for(var gr=gq.cm.display,gp=gr.viewFrom;gp<gr.viewTo;gp++){R(gq.cm,gp,"gutter")}}}function eg(gt,gu,gs,gq){if(gt.cm&&!gt.cm.curOp){return c1(gt.cm,eg)(gt,gu,gs,gq)}if(gu.to.line<gt.first){fs(gt,gu.text.length-1-(gu.to.line-gu.from.line));return}if(gu.from.line>gt.lastLine()){return}if(gu.from.line<gt.first){var gp=gu.text.length-1-(gt.first-gu.from.line);fs(gt,gp);gu={from:W(gt.first,0),to:W(gu.to.line+gp,gu.to.ch),text:[fL(gu.text)],origin:gu.origin}}var gr=gt.lastLine();if(gu.to.line>gr){gu={from:gu.from,to:W(gr,fk(gt,gr).text.length),text:[gu.text[0]],origin:gu.origin}}gu.removed=ga(gt,gu.from,gu.to);if(!gs){gs=fp(gt,gu)}if(gt.cm){aI(gt.cm,gu,gq)}else{fD(gt,gu,gq)}es(gt,gs,Z)}function aI(gA,gw,gu){var gz=gA.doc,gv=gA.display,gx=gw.from,gy=gw.to;var gp=false,gt=gx.line;if(!gA.options.lineWrapping){gt=bM(x(fk(gz,gx.line)));gz.iter(gt,gy.line+1,function(gC){if(gC==gv.maxLine){gp=true;return true}})}if(gz.sel.contains(gw.from,gw.to)>-1){V(gA)}fD(gz,gw,gu,bd(gA));if(!gA.options.lineWrapping){gz.iter(gt,gx.line+gw.text.length,function(gD){var gC=eq(gD);if(gC>gv.maxLineLength){gv.maxLine=gD;gv.maxLineLength=gC;gv.maxLineChanged=true;gp=false}});if(gp){gA.curOp.updateMaxLine=true}}gz.frontier=Math.min(gz.frontier,gx.line);eh(gA,400);var gB=gw.text.length-(gy.line-gx.line)-1;if(gw.full){ah(gA)}else{if(gx.line==gy.line&&gw.text.length==1&&!dS(gA.doc,gw)){R(gA,gx.line,"text")}else{ah(gA,gx.line,gy.line+1,gB)}}var gr=fn(gA,"changes"),gs=fn(gA,"change");if(gs||gr){var gq={from:gx,to:gy,text:gw.text,removed:gw.removed,origin:gw.origin};if(gs){ae(gA,"change",gA,gq)}if(gr){(gA.curOp.changeObjs||(gA.curOp.changeObjs=[])).push(gq)}}gA.display.selForContextMenu=null}function a0(gs,gr,gu,gt,gp){if(!gt){gt=gu}if(ce(gt,gu)<0){var gq=gt;gt=gu;gu=gq}if(typeof gr=="string"){gr=gs.splitLines(gr)}bf(gs,{from:gu,to:gt,text:gr,origin:gp})}function d7(gq,gt){if(aQ(gq,"scrollCursorIntoView")){return}var gu=gq.display,gr=gu.sizer.getBoundingClientRect(),gp=null;if(gt.top+gr.top<0){gp=true}else{if(gt.bottom+gr.top>(window.innerHeight||document.documentElement.clientHeight)){gp=false}}if(gp!=null&&!fz){var gs=f8("div","\u200b",null,"position: absolute; top: "+(gt.top-gu.viewOffset-fd(gq.display))+"px; height: "+(gt.bottom-gt.top+cS(gq)+gu.barHeight)+"px; left: "+gt.left+"px; width: 2px;");gq.display.lineSpace.appendChild(gs);gs.scrollIntoView(gp);gq.display.lineSpace.removeChild(gs)}}function D(gz,gx,gt,gs){if(gs==null){gs=0}for(var gu=0;gu<5;gu++){var gv=false,gy=dU(gz,gx);var gp=!gt||gt==gx?gy:dU(gz,gt);var gr=G(gz,Math.min(gy.left,gp.left),Math.min(gy.top,gp.top)-gs,Math.max(gy.left,gp.left),Math.max(gy.bottom,gp.bottom)+gs);var gw=gz.doc.scrollTop,gq=gz.doc.scrollLeft;if(gr.scrollTop!=null){N(gz,gr.scrollTop);if(Math.abs(gz.doc.scrollTop-gw)>1){gv=true}}if(gr.scrollLeft!=null){bD(gz,gr.scrollLeft);if(Math.abs(gz.doc.scrollLeft-gq)>1){gv=true}}if(!gv){break}}return gy}function E(gp,gr,gt,gq,gs){var gu=G(gp,gr,gt,gq,gs);if(gu.scrollTop!=null){N(gp,gu.scrollTop)}if(gu.scrollLeft!=null){bD(gp,gu.scrollLeft)}}function G(gB,gs,gA,gq,gz){var gx=gB.display,gv=aX(gB.display);if(gA<0){gA=0}var gt=gB.curOp&&gB.curOp.scrollTop!=null?gB.curOp.scrollTop:gx.scroller.scrollTop;var gD=cU(gB),gF={};if(gz-gA>gD){gz=gA+gD}var gr=gB.doc.height+bH(gx);var gp=gA<gv,gw=gz>gr-gv;if(gA<gt){gF.scrollTop=gp?0:gA}else{if(gz>gt+gD){var gy=Math.min(gA,(gw?gr:gz)-gD);if(gy!=gt){gF.scrollTop=gy}}}var gE=gB.curOp&&gB.curOp.scrollLeft!=null?gB.curOp.scrollLeft:gx.scroller.scrollLeft;var gC=dl(gB)-(gB.options.fixedGutter?gx.gutters.offsetWidth:0);var gu=gq-gs>gC;if(gu){gq=gs+gC}if(gs<10){gF.scrollLeft=0}else{if(gs<gE){gF.scrollLeft=Math.max(0,gs-(gu?0:10))}else{if(gq>gC+gE-3){gF.scrollLeft=gq+(gu?0:10)-gC}}}return gF}function cK(gp,gr,gq){if(gr!=null||gq!=null){fH(gp)}if(gr!=null){gp.curOp.scrollLeft=(gp.curOp.scrollLeft==null?gp.doc.scrollLeft:gp.curOp.scrollLeft)+gr}if(gq!=null){gp.curOp.scrollTop=(gp.curOp.scrollTop==null?gp.doc.scrollTop:gp.curOp.scrollTop)+gq}}function fK(gp){fH(gp);var gq=gp.getCursor(),gs=gq,gr=gq;if(!gp.options.lineWrapping){gs=gq.ch?W(gq.line,gq.ch-1):gq;gr=W(gq.line,gq.ch+1)}gp.curOp.scrollToPos={from:gs,to:gr,margin:gp.options.cursorScrollMargin,isCursor:true}}function fH(gp){var gr=gp.curOp.scrollToPos;if(gr){gp.curOp.scrollToPos=null;var gt=dH(gp,gr.from),gs=dH(gp,gr.to);var gq=G(gp,Math.min(gt.left,gs.left),Math.min(gt.top,gs.top)-gr.margin,Math.max(gt.right,gs.right),Math.max(gt.bottom,gs.bottom)+gr.margin);gp.scrollTo(gq.scrollLeft,gq.scrollTop)}}function ad(gC,gs,gB,gr){var gA=gC.doc,gq;if(gB==null){gB="add"}if(gB=="smart"){if(!gA.mode.indent){gB="prev"}else{gq=dC(gC,gs)}}var gw=gC.options.tabSize;var gD=fk(gA,gs),gv=bS(gD.text,null,gw);if(gD.stateAfter){gD.stateAfter=null}var gp=gD.text.match(/^\s*/)[0],gy;if(!gr&&!/\S/.test(gD.text)){gy=0;gB="not"}else{if(gB=="smart"){gy=gA.mode.indent(gq,gD.text.slice(gp.length),gD.text);if(gy==b9||gy>150){if(!gr){return}gB="prev"}}}if(gB=="prev"){if(gs>gA.first){gy=bS(fk(gA,gs-1).text,null,gw)}else{gy=0}}else{if(gB=="add"){gy=gv+gC.options.indentUnit}else{if(gB=="subtract"){gy=gv-gC.options.indentUnit}else{if(typeof gB=="number"){gy=gv+gB}}}}gy=Math.max(0,gy);var gz="",gx=0;if(gC.options.indentWithTabs){for(var gt=Math.floor(gy/gw);gt;--gt){gx+=gw;gz+="\t"}}if(gx<gy){gz+=co(gy-gx)}if(gz!=gp){a0(gA,gz,W(gs,0),W(gs,gp.length),"+input");gD.stateAfter=null;return true}else{for(var gt=0;gt<gA.sel.ranges.length;gt++){var gu=gA.sel.ranges[gt];if(gu.head.line==gs&&gu.head.ch<gp.length){var gx=W(gs,gp.length);e(gA,gt,new dY(gx,gx));break}}}}function eC(gs,gr,gp,gu){var gt=gr,gq=gr;if(typeof gr=="number"){gq=fk(gs,c4(gs,gr))}else{gt=bM(gr)}if(gt==null){return null}if(gu(gq,gt)&&gs.cm){R(gs.cm,gt,gp)}return gq}function e1(gp,gv){var gq=gp.doc.sel.ranges,gt=[];for(var gs=0;gs<gq.length;gs++){var gr=gv(gq[gs]);while(gt.length&&ce(gr.from,fL(gt).to)<=0){var gu=gt.pop();if(ce(gu.from,gr.from)<0){gr.from=gu.from;break}}gt.push(gr)}cL(gp,function(){for(var gw=gt.length-1;gw>=0;gw--){a0(gp.doc,"",gt[gw].from,gt[gw].to,"+delete")}fK(gp)})}function bv(gG,gt,gB,gA,gv){var gy=gt.line,gz=gt.ch,gF=gB;var gq=fk(gG,gy);function gE(){var gH=gy+gB;if(gH<gG.first||gH>=gG.first+gG.size){return false}gy=gH;return gq=fk(gG,gH)}function gD(gI){var gH=(gv?u:ai)(gq,gz,gB,true);if(gH==null){if(!gI&&gE()){if(gv){gz=(gB<0?cR:cD)(gq)}else{gz=gB<0?gq.text.length:0}}else{return false}}else{gz=gH}return true}if(gA=="char"){gD()}else{if(gA=="column"){gD(true)}else{if(gA=="word"||gA=="group"){var gC=null,gw=gA=="group";var gp=gG.cm&&gG.cm.getHelper(gt,"wordChars");for(var gu=true;;gu=false){if(gB<0&&!gD(!gu)){break}var gr=gq.text.charAt(gz)||"\n";var gs=cz(gr,gp)?"w":gw&&gr=="\n"?"n":!gw||/\s/.test(gr)?null:"p";if(gw&&!gu&&!gs){gs="s"}if(gC&&gC!=gs){if(gB<0){gB=1;gD()}break}if(gs){gC=gs}if(gB>0&&!gD(!gu)){break}}}}}var gx=bU(gG,W(gy,gz),gt,gF,true);if(!ce(gt,gx)){gx.hitSide=true}return gx}function bp(gx,gs,gp,gw){var gv=gx.doc,gu=gs.left,gt;if(gw=="page"){var gr=Math.min(gx.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);gt=gs.top+gp*(gr-(gp<0?1.5:0.5)*aX(gx.display))}else{if(gw=="line"){gt=gp>0?gs.bottom+3:gs.top-3}}for(;;){var gq=fT(gx,gu,gt);if(!gq.outside){break}if(gp<0?gt<=0:gt>=gv.height){gq.hitSide=true;break}gt+=gp*5}return gq}H.prototype={constructor:H,focus:function(){window.focus();this.display.input.focus()},setOption:function(gr,gs){var gq=this.options,gp=gq[gr];if(gq[gr]==gs&&gr!="mode"){return}gq[gr]=gs;if(be.hasOwnProperty(gr)){c1(this,be[gr])(this,gs,gp)}},getOption:function(gp){return this.options[gp]},getDoc:function(){return this.doc},addKeyMap:function(gq,gp){this.state.keyMaps[gp?"push":"unshift"](f3(gq))},removeKeyMap:function(gq){var gr=this.state.keyMaps;for(var gp=0;gp<gr.length;++gp){if(gr[gp]==gq||gr[gp].name==gq){gr.splice(gp,1);return true}}},addOverlay:c7(function(gp,gq){var gr=gp.token?gp:H.getMode(this.options,gp);if(gr.startState){throw new Error("Overlays may not be stateful.")}this.state.overlays.push({mode:gr,modeSpec:gp,opaque:gq&&gq.opaque});this.state.modeGen++;ah(this)}),removeOverlay:c7(function(gp){var gr=this.state.overlays;for(var gq=0;gq<gr.length;++gq){var gs=gr[gq].modeSpec;if(gs==gp||typeof gp=="string"&&gs.name==gp){gr.splice(gq,1);this.state.modeGen++;ah(this);return}}}),indentLine:c7(function(gr,gp,gq){if(typeof gp!="string"&&typeof gp!="number"){if(gp==null){gp=this.options.smartIndent?"smart":"prev"}else{gp=gp?"add":"subtract"}}if(b8(this.doc,gr)){ad(this,gr,gp,gq)}}),indentSelection:c7(function(gy){var gp=this.doc.sel.ranges,gs=-1;for(var gu=0;gu<gp.length;gu++){var gv=gp[gu];if(!gv.empty()){var gw=gv.from(),gx=gv.to();var gq=Math.max(gs,gw.line);gs=Math.min(this.lastLine(),gx.line-(gx.ch?0:1))+1;for(var gt=gq;gt<gs;++gt){ad(this,gt,gy)}var gr=this.doc.sel.ranges;if(gw.ch==0&&gp.length==gr.length&&gr[gu].from().ch>0){e(this.doc,gu,new dY(gw,gr[gu].to()),Z)}}else{if(gv.head.line>gs){ad(this,gv.head.line,gy,true);gs=gv.head.line;if(gu==this.doc.sel.primIndex){fK(this)}}}}}),getTokenAt:function(gq,gp){return cp(this,gq,gp)},getLineTokens:function(gq,gp){return cp(this,W(gq),gp,true)},getTokenTypeAt:function(gw){gw=fO(this.doc,gw);var gs=c5(this,fk(this.doc,gw.line));var gu=0,gv=(gs.length-1)/2,gr=gw.ch;var gq;if(gr==0){gq=gs[2]}else{for(;;){var gp=(gu+gv)>>1;if((gp?gs[gp*2-1]:0)>=gr){gv=gp}else{if(gs[gp*2+1]<gr){gu=gp+1}else{gq=gs[gp*2+2];break}}}}var gt=gq?gq.indexOf("cm-overlay "):-1;return gt<0?gq:gt==0?null:gq.slice(0,gt-1)},getModeAt:function(gq){var gp=this.doc.mode;if(!gp.innerMode){return gp}return H.innerMode(gp,this.getTokenAt(gq).state).mode},getHelper:function(gq,gp){return this.getHelpers(gq,gp)[0]},getHelpers:function(gw,gr){var gs=[];if(!ft.hasOwnProperty(gr)){return gs}var gp=ft[gr],gv=this.getModeAt(gw);if(typeof gv[gr]=="string"){if(gp[gv[gr]]){gs.push(gp[gv[gr]])}}else{if(gv[gr]){for(var gq=0;gq<gv[gr].length;gq++){var gu=gp[gv[gr][gq]];if(gu){gs.push(gu)}}}else{if(gv.helperType&&gp[gv.helperType]){gs.push(gp[gv.helperType])}else{if(gp[gv.name]){gs.push(gp[gv.name])}}}}for(var gq=0;gq<gp._global.length;gq++){var gt=gp._global[gq];if(gt.pred(gv,this)&&dh(gs,gt.val)==-1){gs.push(gt.val)}}return gs},getStateAfter:function(gq,gp){var gr=this.doc;gq=c4(gr,gq==null?gr.first+gr.size-1:gq);return dC(this,gq+1,gp)},cursorCoords:function(gs,gq){var gr,gp=this.doc.sel.primary();if(gs==null){gr=gp.head}else{if(typeof gs=="object"){gr=fO(this.doc,gs)}else{gr=gs?gp.from():gp.to()}}return dU(this,gr,gq||"page")},charCoords:function(gq,gp){return cI(this,fO(this.doc,gq),gp||"page")},coordsChar:function(gp,gq){gp=gk(this,gp,gq||"page");return fT(this,gp.left,gp.top)},lineAtHeight:function(gp,gq){gp=gk(this,{top:gp,left:0},gq||"page").top;return bF(this.doc,gp+this.display.viewOffset)},heightAtLine:function(gq,gt){var gp=false,gr;if(typeof gq=="number"){var gs=this.doc.first+this.doc.size-1;if(gq<this.doc.first){gq=this.doc.first}else{if(gq>gs){gq=gs;gp=true}}gr=fk(this.doc,gq)}else{gr=gq}return eU(this,gr,{top:0,left:0},gt||"page").top+(gp?this.doc.height-bL(gr):0)},defaultTextHeight:function(){return aX(this.display)},defaultCharWidth:function(){return dD(this.display)},setGutterMarker:c7(function(gp,gq,gr){return eC(this.doc,gp,"gutter",function(gs){var gt=gs.gutterMarkers||(gs.gutterMarkers={});gt[gq]=gr;if(!gr&&eY(gt)){gs.gutterMarkers=null}return true})}),clearGutter:c7(function(gr){var gp=this,gs=gp.doc,gq=gs.first;gs.iter(function(gt){if(gt.gutterMarkers&&gt.gutterMarkers[gr]){gt.gutterMarkers[gr]=null;R(gp,gq,"gutter");if(eY(gt.gutterMarkers)){gt.gutterMarkers=null}}++gq})}),lineInfo:function(gp){if(typeof gp=="number"){if(!b8(this.doc,gp)){return null}var gq=gp;gp=fk(this.doc,gp);if(!gp){return null}}else{var gq=bM(gp);if(gq==null){return null}}return{line:gq,handle:gp,text:gp.text,gutterMarkers:gp.gutterMarkers,textClass:gp.textClass,bgClass:gp.bgClass,wrapClass:gp.wrapClass,widgets:gp.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(gu,gr,gw,gs,gy){var gt=this.display;gu=dU(this,fO(this.doc,gu));var gv=gu.bottom,gq=gu.left;gr.style.position="absolute";gr.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(gr);gt.sizer.appendChild(gr);if(gs=="over"){gv=gu.top}else{if(gs=="above"||gs=="near"){var gp=Math.max(gt.wrapper.clientHeight,this.doc.height),gx=Math.max(gt.sizer.clientWidth,gt.lineSpace.clientWidth);if((gs=="above"||gu.bottom+gr.offsetHeight>gp)&&gu.top>gr.offsetHeight){gv=gu.top-gr.offsetHeight}else{if(gu.bottom+gr.offsetHeight<=gp){gv=gu.bottom}}if(gq+gr.offsetWidth>gx){gq=gx-gr.offsetWidth}}}gr.style.top=gv+"px";gr.style.left=gr.style.right="";if(gy=="right"){gq=gt.sizer.clientWidth-gr.offsetWidth;gr.style.right="0px"}else{if(gy=="left"){gq=0}else{if(gy=="middle"){gq=(gt.sizer.clientWidth-gr.offsetWidth)/2}}gr.style.left=gq+"px"}if(gw){E(this,gq,gv,gq+gr.offsetWidth,gv+gr.offsetHeight)}},triggerOnKeyDown:c7(p),triggerOnKeyPress:c7(cw),triggerOnKeyUp:bh,execCommand:function(gp){if(eG.hasOwnProperty(gp)){return eG[gp].call(null,this)}},triggerElectric:c7(function(gp){f1(this,gp)}),findPosH:function(gv,gs,gt,gq){var gp=1;if(gs<0){gp=-1;gs=-gs}for(var gr=0,gu=fO(this.doc,gv);gr<gs;++gr){gu=bv(this.doc,gu,gp,gt,gq);if(gu.hitSide){break}}return gu},moveH:c7(function(gq,gr){var gp=this;gp.extendSelectionsBy(function(gs){if(gp.display.shift||gp.doc.extend||gs.empty()){return bv(gp.doc,gs.head,gq,gr,gp.options.rtlMoveVisually)}else{return gq<0?gs.from():gs.to()}},cV)}),deleteH:c7(function(gp,gq){var gr=this.doc.sel,gs=this.doc;if(gr.somethingSelected()){gs.replaceSelection("",null,"+delete")}else{e1(this,function(gu){var gt=bv(gs,gu.head,gp,gq,false);return gp<0?{from:gt,to:gu.head}:{from:gu.head,to:gt}})}}),findPosV:function(gu,gr,gv,gx){var gp=1,gt=gx;if(gr<0){gp=-1;gr=-gr}for(var gq=0,gw=fO(this.doc,gu);gq<gr;++gq){var gs=dU(this,gw,"div");if(gt==null){gt=gs.left}else{gs.left=gt}gw=bp(this,gs,gp,gv);if(gw.hitSide){break}}return gw},moveV:c7(function(gq,gs){var gp=this,gu=this.doc,gt=[];var gv=!gp.display.shift&&!gu.extend&&gu.sel.somethingSelected();gu.extendSelectionsBy(function(gw){if(gv){return gq<0?gw.from():gw.to()}var gy=dU(gp,gw.head,"div");if(gw.goalColumn!=null){gy.left=gw.goalColumn}gt.push(gy.left);var gx=bp(gp,gy,gq,gs);if(gs=="page"&&gw==gu.sel.primary()){cK(gp,null,cI(gp,gx,"div").top-gy.top)}return gx},cV);if(gt.length){for(var gr=0;gr<gu.sel.ranges.length;gr++){gu.sel.ranges[gr].goalColumn=gt[gr]}}}),findWordAt:function(gw){var gu=this.doc,gs=fk(gu,gw.line).text;var gv=gw.ch,gr=gw.ch;if(gs){var gt=this.getHelper(gw,"wordChars");if((gw.xRel<0||gr==gs.length)&&gv){--gv}else{++gr}var gq=gs.charAt(gv);var gp=cz(gq,gt)?function(gx){return cz(gx,gt)}:/\s/.test(gq)?function(gx){return/\s/.test(gx)}:function(gx){return !/\s/.test(gx)&&!cz(gx)};while(gv>0&&gp(gs.charAt(gv-1))){--gv}while(gr<gs.length&&gp(gs.charAt(gr))){++gr}}return new dY(W(gw.line,gv),W(gw.line,gr))},toggleOverwrite:function(gp){if(gp!=null&&gp==this.state.overwrite){return}if(this.state.overwrite=!this.state.overwrite){fF(this.display.cursorDiv,"CodeMirror-overwrite")}else{f(this.display.cursorDiv,"CodeMirror-overwrite")}aD(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==dO()},isReadOnly:function(){return !!(this.options.readOnly||this.doc.cantEdit)},scrollTo:c7(function(gp,gq){if(gp!=null||gq!=null){fH(this)}if(gp!=null){this.curOp.scrollLeft=gp}if(gq!=null){this.curOp.scrollTop=gq}}),getScrollInfo:function(){var gp=this.display.scroller;return{left:gp.scrollLeft,top:gp.scrollTop,height:gp.scrollHeight-cS(this)-this.display.barHeight,width:gp.scrollWidth-cS(this)-this.display.barWidth,clientHeight:cU(this),clientWidth:dl(this)}},scrollIntoView:c7(function(gq,gr){if(gq==null){gq={from:this.doc.sel.primary().head,to:null};if(gr==null){gr=this.options.cursorScrollMargin}}else{if(typeof gq=="number"){gq={from:W(gq,0),to:null}}else{if(gq.from==null){gq={from:gq,to:null}}}}if(!gq.to){gq.to=gq.from}gq.margin=gr||0;if(gq.from.line!=null){fH(this);this.curOp.scrollToPos=gq}else{var gp=G(this,Math.min(gq.from.left,gq.to.left),Math.min(gq.from.top,gq.to.top)-gq.margin,Math.max(gq.from.right,gq.to.right),Math.max(gq.from.bottom,gq.to.bottom)+gq.margin);this.scrollTo(gp.scrollLeft,gp.scrollTop)}}),setSize:c7(function(gs,gq){var gp=this;function gr(gu){return typeof gu=="number"||/^\d+$/.test(String(gu))?gu+"px":gu}if(gs!=null){gp.display.wrapper.style.width=gr(gs)}if(gq!=null){gp.display.wrapper.style.height=gr(gq)}if(gp.options.lineWrapping){aN(this)}var gt=gp.display.viewFrom;gp.doc.iter(gt,gp.display.viewTo,function(gu){if(gu.widgets){for(var gv=0;gv<gu.widgets.length;gv++){if(gu.widgets[gv].noHScroll){R(gp,gt,"widget");break}}}++gt});gp.curOp.forceUpdate=true;aD(gp,"refresh",this)}),operation:function(gp){return cL(this,gp)},refresh:c7(function(){var gp=this.display.cachedTextHeight;ah(this);this.curOp.forceUpdate=true;aj(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);c3(this);if(gp==null||Math.abs(gp-aX(this.display))>0.5){X(this)}aD(this,"refresh",this)}),swapDoc:c7(function(gq){var gp=this.doc;gp.cm=null;ed(this,gq);aj(this);this.display.input.reset();this.scrollTo(gq.scrollLeft,gq.scrollTop);this.curOp.forceScroll=true;ae(this,"swapDoc",this,gp);return gp}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};bx(H);var e7=H.defaults={};var be=H.optionHandlers={};function s(gp,gs,gr,gq){H.defaults[gp]=gs;if(gr){be[gp]=gq?function(gt,gv,gu){if(gu!=cb){gr(gt,gv,gu)}}:gr}}var cb=H.Init={toString:function(){return"CodeMirror.Init"}};s("value","",function(gp,gq){gp.setValue(gq)},true);s("mode",null,function(gp,gq){gp.doc.modeOption=gq;bq(gp)},true);s("indentUnit",2,bq,true);s("indentWithTabs",false);s("smartIndent",true);s("tabSize",4,function(gp){eo(gp);aj(gp);ah(gp)},true);s("lineSeparator",null,function(gp,gs){gp.doc.lineSep=gs;if(!gs){return}var gr=[],gt=gp.doc.first;gp.doc.iter(function(gu){for(var gw=0;;){var gv=gu.text.indexOf(gs,gw);if(gv==-1){break}gw=gv+gs.length;gr.push(W(gt,gv))}gt++});for(var gq=gr.length-1;gq>=0;gq--){a0(gp.doc,gs,gr[gq],W(gr[gq].line,gr[gq].ch+gs.length))}});s("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(gp,gr,gq){gp.state.specialChars=new RegExp(gr.source+(gr.test("\t")?"":"|\t"),"g");if(gq!=H.Init){gp.refresh()}});s("specialCharPlaceholder",fh,function(gp){gp.refresh()},true);s("electricChars",true);s("inputStyle",ei?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},true);s("rtlMoveVisually",!aO);s("wholeLineUpdateBefore",true);s("theme","default",function(gp){cN(gp);dw(gp)},true);s("keyMap","default",function(gp,gt,gq){var gr=f3(gt);var gs=gq!=H.Init&&f3(gq);if(gs&&gs.detach){gs.detach(gp,gr)}if(gr.attach){gr.attach(gp,gs||null)}});s("extraKeys",null);s("lineWrapping",false,eJ,true);s("gutters",[],function(gp){cd(gp.options);dw(gp)},true);s("fixedGutter",true,function(gp,gq){gp.display.gutters.style.left=gq?dX(gp.display)+"px":"0";gp.refresh()},true);s("coverGutterNextToScrollbar",false,function(gp){e2(gp)},true);s("scrollbarStyle","native",function(gp){aC(gp);e2(gp);gp.display.scrollbars.setScrollTop(gp.doc.scrollTop);gp.display.scrollbars.setScrollLeft(gp.doc.scrollLeft)},true);s("lineNumbers",false,function(gp){cd(gp.options);dw(gp)},true);s("firstLineNumber",1,dw,true);s("lineNumberFormatter",function(gp){return gp},dw,true);s("showCursorWhenSelecting",false,bB,true);s("resetSelectionOnContextMenu",true);s("lineWiseCopyCut",true);s("readOnly",false,function(gp,gq){if(gq=="nocursor"){aU(gp);gp.display.input.blur();gp.display.disabled=true}else{gp.display.disabled=false}gp.display.input.readOnlyChanged(gq)});s("disableInput",false,function(gp,gq){if(!gq){gp.display.input.reset()}},true);s("dragDrop",true,f6);s("allowDropFileTypes",null);s("cursorBlinkRate",530);s("cursorScrollMargin",0);s("cursorHeight",1,bB,true);s("singleCursorHeightPerLine",true,bB,true);s("workTime",100);s("workDelay",100);s("flattenSpans",true,eo,true);s("addModeClass",false,eo,true);s("pollInterval",100);s("undoDepth",200,function(gp,gq){gp.doc.history.undoDepth=gq});s("historyEventDelay",1250);s("viewportMargin",10,function(gp){gp.refresh()},true);s("maxHighlightLength",10000,eo,true);s("moveInputWithCursor",true,function(gp,gq){if(!gq){gp.display.input.resetPosition()}});s("tabindex",null,function(gp,gq){gp.display.input.getField().tabIndex=gq||""});s("autofocus",null);var ds=H.modes={},aR=H.mimeModes={};H.defineMode=function(gp,gq){if(!H.defaults.mode&&gp!="null"){H.defaults.mode=gp}if(arguments.length>2){gq.dependencies=Array.prototype.slice.call(arguments,2)}ds[gp]=gq};H.defineMIME=function(gq,gp){aR[gq]=gp};H.resolveMode=function(gp){if(typeof gp=="string"&&aR.hasOwnProperty(gp)){gp=aR[gp]}else{if(gp&&typeof gp.name=="string"&&aR.hasOwnProperty(gp.name)){var gq=aR[gp.name];if(typeof gq=="string"){gq={name:gq}}gp=cj(gq,gp);gp.name=gq.name}else{if(typeof gp=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(gp)){return H.resolveMode("application/xml")}}}if(typeof gp=="string"){return{name:gp}}else{return gp||{name:"null"}}};H.getMode=function(gq,gp){var gp=H.resolveMode(gp);var gs=ds[gp.name];if(!gs){return H.getMode(gq,"text/plain")}var gt=gs(gq,gp);if(dp.hasOwnProperty(gp.name)){var gr=dp[gp.name];for(var gu in gr){if(!gr.hasOwnProperty(gu)){continue}if(gt.hasOwnProperty(gu)){gt["_"+gu]=gt[gu]}gt[gu]=gr[gu]}}gt.name=gp.name;if(gp.helperType){gt.helperType=gp.helperType}if(gp.modeProps){for(var gu in gp.modeProps){gt[gu]=gp.modeProps[gu]}}return gt};H.defineMode("null",function(){return{token:function(gp){gp.skipToEnd()}}});H.defineMIME("text/plain","null");var dp=H.modeExtensions={};H.extendMode=function(gr,gq){var gp=dp.hasOwnProperty(gr)?dp[gr]:(dp[gr]={});aM(gq,gp)};H.defineExtension=function(gp,gq){H.prototype[gp]=gq};H.defineDocExtension=function(gp,gq){ar.prototype[gp]=gq};H.defineOption=s;var a7=[];H.defineInitHook=function(gp){a7.push(gp)};var ft=H.helpers={};H.registerHelper=function(gq,gp,gr){if(!ft.hasOwnProperty(gq)){ft[gq]=H[gq]={_global:[]}}ft[gq][gp]=gr};H.registerGlobalHelper=function(gr,gq,gp,gs){H.registerHelper(gr,gq,gs);ft[gr]._global.push({pred:gp,val:gs})};var b2=H.copyState=function(gs,gp){if(gp===true){return gp}if(gs.copyState){return gs.copyState(gp)}var gr={};for(var gt in gp){var gq=gp[gt];if(gq instanceof Array){gq=gq.concat([])}gr[gt]=gq}return gr};var bZ=H.startState=function(gr,gq,gp){return gr.startState?gr.startState(gq,gp):true};H.innerMode=function(gr,gp){while(gr.innerMode){var gq=gr.innerMode(gp);if(!gq||gq.mode==gr){break}gp=gq.state;gr=gq.mode}return gq||{mode:gr,state:gp}};var eG=H.commands={selectAll:function(gp){gp.setSelection(W(gp.firstLine(),0),W(gp.lastLine()),Z)},singleSelection:function(gp){gp.setSelection(gp.getCursor("anchor"),gp.getCursor("head"),Z)},killLine:function(gp){e1(gp,function(gr){if(gr.empty()){var gq=fk(gp.doc,gr.head.line).text.length;if(gr.head.ch==gq&&gr.head.line<gp.lastLine()){return{from:gr.head,to:W(gr.head.line+1,0)}}else{return{from:gr.head,to:W(gr.head.line,gq)}}}else{return{from:gr.from(),to:gr.to()}}})},deleteLine:function(gp){e1(gp,function(gq){return{from:W(gq.from().line,0),to:fO(gp.doc,W(gq.to().line+1,0))}})},delLineLeft:function(gp){e1(gp,function(gq){return{from:W(gq.from().line,0),to:gq.from()}})},delWrappedLineLeft:function(gp){e1(gp,function(gq){var gs=gp.charCoords(gq.head,"div").top+5;var gr=gp.coordsChar({left:0,top:gs},"div");return{from:gr,to:gq.from()}})},delWrappedLineRight:function(gp){e1(gp,function(gq){var gs=gp.charCoords(gq.head,"div").top+5;var gr=gp.coordsChar({left:gp.display.lineDiv.offsetWidth+100,top:gs},"div");return{from:gq.from(),to:gr}})},undo:function(gp){gp.undo()},redo:function(gp){gp.redo()},undoSelection:function(gp){gp.undoSelection()},redoSelection:function(gp){gp.redoSelection()},goDocStart:function(gp){gp.extendSelection(W(gp.firstLine(),0))},goDocEnd:function(gp){gp.extendSelection(W(gp.lastLine()))},goLineStart:function(gp){gp.extendSelectionsBy(function(gq){return bs(gp,gq.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(gp){gp.extendSelectionsBy(function(gq){return dI(gp,gq.head)},{origin:"+move",bias:1})},goLineEnd:function(gp){gp.extendSelectionsBy(function(gq){return dP(gp,gq.head.line)},{origin:"+move",bias:-1})},goLineRight:function(gp){gp.extendSelectionsBy(function(gq){var gr=gp.charCoords(gq.head,"div").top+5;return gp.coordsChar({left:gp.display.lineDiv.offsetWidth+100,top:gr},"div")},cV)},goLineLeft:function(gp){gp.extendSelectionsBy(function(gq){var gr=gp.charCoords(gq.head,"div").top+5;return gp.coordsChar({left:0,top:gr},"div")},cV)},goLineLeftSmart:function(gp){gp.extendSelectionsBy(function(gq){var gr=gp.charCoords(gq.head,"div").top+5;var gs=gp.coordsChar({left:0,top:gr},"div");if(gs.ch<gp.getLine(gs.line).search(/\S/)){return dI(gp,gq.head)}return gs},cV)},goLineUp:function(gp){gp.moveV(-1,"line")},goLineDown:function(gp){gp.moveV(1,"line")},goPageUp:function(gp){gp.moveV(-1,"page")},goPageDown:function(gp){gp.moveV(1,"page")},goCharLeft:function(gp){gp.moveH(-1,"char")},goCharRight:function(gp){gp.moveH(1,"char")},goColumnLeft:function(gp){gp.moveH(-1,"column")},goColumnRight:function(gp){gp.moveH(1,"column")},goWordLeft:function(gp){gp.moveH(-1,"word")},goGroupRight:function(gp){gp.moveH(1,"group")},goGroupLeft:function(gp){gp.moveH(-1,"group")},goWordRight:function(gp){gp.moveH(1,"word")},delCharBefore:function(gp){gp.deleteH(-1,"char")},delCharAfter:function(gp){gp.deleteH(1,"char")},delWordBefore:function(gp){gp.deleteH(-1,"word")},delWordAfter:function(gp){gp.deleteH(1,"word")},delGroupBefore:function(gp){gp.deleteH(-1,"group")},delGroupAfter:function(gp){gp.deleteH(1,"group")},indentAuto:function(gp){gp.indentSelection("smart")},indentMore:function(gp){gp.indentSelection("add")},indentLess:function(gp){gp.indentSelection("subtract")},insertTab:function(gp){gp.replaceSelection("\t")},insertSoftTab:function(gp){var gr=[],gq=gp.listSelections(),gu=gp.options.tabSize;for(var gt=0;gt<gq.length;gt++){var gv=gq[gt].from();var gs=bS(gp.getLine(gv.line),gv.ch,gu);gr.push(new Array(gu-gs%gu+1).join(" "))}gp.replaceSelections(gr)},defaultTab:function(gp){if(gp.somethingSelected()){gp.indentSelection("add")}else{gp.execCommand("insertTab")}},transposeChars:function(gp){cL(gp,function(){var gs=gp.listSelections(),gr=[];for(var gt=0;gt<gs.length;gt++){var gv=gs[gt].head,gq=fk(gp.doc,gv.line).text;if(gq){if(gv.ch==gq.length){gv=new W(gv.line,gv.ch-1)}if(gv.ch>0){gv=new W(gv.line,gv.ch+1);gp.replaceRange(gq.charAt(gv.ch-1)+gq.charAt(gv.ch-2),W(gv.line,gv.ch-2),gv,"+transpose")}else{if(gv.line>gp.doc.first){var gu=fk(gp.doc,gv.line-1).text;if(gu){gp.replaceRange(gq.charAt(0)+gp.doc.lineSeparator()+gu.charAt(gu.length-1),W(gv.line-1,gu.length-1),W(gv.line,1),"+transpose")}}}}gr.push(new dY(gv,gv))}gp.setSelections(gr)})},newlineAndIndent:function(gp){cL(gp,function(){var gq=gp.listSelections().length;for(var gs=0;gs<gq;gs++){var gr=gp.listSelections()[gs];gp.replaceRange(gp.doc.lineSeparator(),gr.anchor,gr.head,"+input");gp.indentLine(gr.from().line+1,null,true)}fK(gp)})},toggleOverwrite:function(gp){gp.toggleOverwrite()}};var ff=H.keyMap={};ff.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};ff.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};ff.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};ff.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]};ff["default"]=b6?ff.macDefault:ff.pcDefault;function dt(gq){var gw=gq.split(/-(?!$)/),gq=gw[gw.length-1];var gv,gu,gp,gt;for(var gs=0;gs<gw.length-1;gs++){var gr=gw[gs];if(/^(cmd|meta|m)$/i.test(gr)){gt=true}else{if(/^a(lt)?$/i.test(gr)){gv=true}else{if(/^(c|ctrl|control)$/i.test(gr)){gu=true}else{if(/^s(hift)$/i.test(gr)){gp=true}else{throw new Error("Unrecognized modifier name: "+gr)}}}}}if(gv){gq="Alt-"+gq}if(gu){gq="Ctrl-"+gq}if(gt){gq="Cmd-"+gq}if(gp){gq="Shift-"+gq}return gq}H.normalizeKeyMap=function(gw){var gq={};for(var gv in gw){if(gw.hasOwnProperty(gv)){var gx=gw[gv];if(/^(name|fallthrough|(de|at)tach)$/.test(gv)){continue}if(gx=="..."){delete gw[gv];continue}var gy=bR(gv.split(" "),dt);for(var gu=0;gu<gy.length;gu++){var gs,gr;if(gu==gy.length-1){gr=gy.join(" ");gs=gx}else{gr=gy.slice(0,gu+1).join(" ");gs="..."}var gt=gq[gr];if(!gt){gq[gr]=gs}else{if(gt!=gs){throw new Error("Inconsistent bindings for "+gr)}}}delete gw[gv]}}for(var gp in gq){gw[gp]=gq[gp]}return gw};var i=H.lookupKey=function(gs,gv,gu,gr){gv=f3(gv);var gt=gv.call?gv.call(gs,gr):gv[gs];if(gt===false){return"nothing"}if(gt==="..."){return"multi"}if(gt!=null&&gu(gt)){return"handled"}if(gv.fallthrough){if(Object.prototype.toString.call(gv.fallthrough)!="[object Array]"){return i(gs,gv.fallthrough,gu,gr)}for(var gq=0;gq<gv.fallthrough.length;gq++){var gp=i(gs,gv.fallthrough[gq],gu,gr);if(gp){return gp}}}};var eF=H.isModifierKey=function(gq){var gp=typeof gq=="string"?gq:fl[gq.keyCode];return gp=="Ctrl"||gp=="Alt"||gp=="Shift"||gp=="Mod"};var fw=H.keyName=function(gq,gs){if(d4&&gq.keyCode==34&&gq["char"]){return false}var gr=fl[gq.keyCode],gp=gr;if(gp==null||gq.altGraphKey){return false}if(gq.altKey&&gr!="Alt"){gp="Alt-"+gp}if((bP?gq.metaKey:gq.ctrlKey)&&gr!="Ctrl"){gp="Ctrl-"+gp}if((bP?gq.ctrlKey:gq.metaKey)&&gr!="Cmd"){gp="Cmd-"+gp}if(!gs&&gq.shiftKey&&gr!="Shift"){gp="Shift-"+gp}return gp};function f3(gp){return typeof gp=="string"?ff[gp]:gp}H.fromTextArea=function(gw,gx){gx=gx?aM(gx):{};gx.value=gw.value;if(!gx.tabindex&&gw.tabIndex){gx.tabindex=gw.tabIndex}if(!gx.placeholder&&gw.placeholder){gx.placeholder=gw.placeholder}if(gx.autofocus==null){var gp=dO();gx.autofocus=gp==gw||gw.getAttribute("autofocus")!=null&&gp==document.body}function gt(){gw.value=gv.getValue()}if(gw.form){bW(gw.form,"submit",gt);if(!gx.leaveSubmitMethodAlone){var gq=gw.form,gu=gq.submit;try{var gs=gq.submit=function(){gt();gq.submit=gu;gq.submit();gq.submit=gs}}catch(gr){}}}gx.finishInit=function(gy){gy.save=gt;gy.getTextArea=function(){return gw};gy.toTextArea=function(){gy.toTextArea=isNaN;gt();gw.parentNode.removeChild(gy.getWrapperElement());gw.style.display="";if(gw.form){ef(gw.form,"submit",gt);if(typeof gw.form.submit=="function"){gw.form.submit=gu}}}};gw.style.display="none";var gv=H(function(gy){gw.parentNode.insertBefore(gy,gw.nextSibling)},gx);return gv};var eX=H.StringStream=function(gp,gq){this.pos=this.start=0;this.string=gp;this.tabSize=gq||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0};eX.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(gp){var gr=this.string.charAt(this.pos);if(typeof gp=="string"){var gq=gr==gp}else{var gq=gr&&(gp.test?gp.test(gr):gp(gr))}if(gq){++this.pos;return gr}},eatWhile:function(gp){var gq=this.pos;while(this.eat(gp)){}return this.pos>gq},eatSpace:function(){var gp=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>gp},skipToEnd:function(){this.pos=this.string.length},skipTo:function(gp){var gq=this.string.indexOf(gp,this.pos);if(gq>-1){this.pos=gq;return true}},backUp:function(gp){this.pos-=gp},column:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=bS(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?bS(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return bS(this.string,null,this.tabSize)-(this.lineStart?bS(this.string,this.lineStart,this.tabSize):0)},match:function(gt,gq,gp){if(typeof gt=="string"){var gu=function(gv){return gp?gv.toLowerCase():gv};var gs=this.string.substr(this.pos,gt.length);if(gu(gs)==gu(gt)){if(gq!==false){this.pos+=gt.length}return true}}else{var gr=this.string.slice(this.pos).match(gt);if(gr&&gr.index>0){return null}if(gr&&gq!==false){this.pos+=gr[0].length}return gr}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(gq,gp){this.lineStart+=gq;try{return gp()}finally{this.lineStart-=gq}}};var a4=0;var P=H.TextMarker=function(gq,gp){this.lines=[];this.type=gp;this.doc=gq;this.id=++a4};bx(P);P.prototype.clear=function(){if(this.explicitlyCleared){return}var gw=this.doc.cm,gq=gw&&!gw.curOp;if(gq){cH(gw)}if(fn(this,"clear")){var gx=this.find();if(gx){ae(this,"clear",gx.from,gx.to)}}var gr=null,gu=null;for(var gs=0;gs<this.lines.length;++gs){var gy=this.lines[gs];var gv=fe(gy.markedSpans,this);if(gw&&!this.collapsed){R(gw,bM(gy),"text")}else{if(gw){if(gv.to!=null){gu=bM(gy)}if(gv.from!=null){gr=bM(gy)}}}gy.markedSpans=eK(gy.markedSpans,gv);if(gv.from==null&&this.collapsed&&!fB(this.doc,gy)&&gw){gb(gy,aX(gw.display))}}if(gw&&this.collapsed&&!gw.options.lineWrapping){for(var gs=0;gs<this.lines.length;++gs){var gp=x(this.lines[gs]),gt=eq(gp);if(gt>gw.display.maxLineLength){gw.display.maxLine=gp;gw.display.maxLineLength=gt;gw.display.maxLineChanged=true}}}if(gr!=null&&gw&&this.collapsed){ah(gw,gr,gu+1)}this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(gw){eB(gw.doc)}}if(gw){ae(gw,"markerCleared",gw,this)}if(gq){al(gw)}if(this.parent){this.parent.clear()}};P.prototype.find=function(gs,gq){if(gs==null&&this.type=="bookmark"){gs=1}var gv,gu;for(var gr=0;gr<this.lines.length;++gr){var gp=this.lines[gr];var gt=fe(gp.markedSpans,this);if(gt.from!=null){gv=W(gq?gp:bM(gp),gt.from);if(gs==-1){return gv}}if(gt.to!=null){gu=W(gq?gp:bM(gp),gt.to);if(gs==1){return gu}}}return gv&&{from:gv,to:gu}};P.prototype.changed=function(){var gr=this.find(-1,true),gq=this,gp=this.doc.cm;if(!gr||!gp){return}cL(gp,function(){var gt=gr.line,gu=bM(gr.line);var gs=fg(gp,gu);if(gs){at(gs);gp.curOp.selectionChanged=gp.curOp.forceUpdate=true}gp.curOp.updateMaxLine=true;if(!fB(gq.doc,gt)&&gq.height!=null){var gw=gq.height;gq.height=null;var gv=cX(gq)-gw;if(gv){gb(gt,gt.height+gv)}}})};P.prototype.attachLine=function(gp){if(!this.lines.length&&this.doc.cm){var gq=this.doc.cm.curOp;if(!gq.maybeHiddenMarkers||dh(gq.maybeHiddenMarkers,this)==-1){(gq.maybeUnhiddenMarkers||(gq.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(gp)};P.prototype.detachLine=function(gp){this.lines.splice(dh(this.lines,gp),1);if(!this.lines.length&&this.doc.cm){var gq=this.doc.cm.curOp;(gq.maybeHiddenMarkers||(gq.maybeHiddenMarkers=[])).push(this)}};var a4=0;function eI(gx,gv,gw,gz,gt){if(gz&&gz.shared){return O(gx,gv,gw,gz,gt)}if(gx.cm&&!gx.cm.curOp){return c1(gx.cm,eI)(gx,gv,gw,gz,gt)}var gs=new P(gx,gt),gy=ce(gv,gw);if(gz){aM(gz,gs,false)}if(gy>0||gy==0&&gs.clearWhenEmpty!==false){return gs}if(gs.replacedWith){gs.collapsed=true;gs.widgetNode=f8("span",[gs.replacedWith],"CodeMirror-widget");if(!gz.handleMouseEvents){gs.widgetNode.setAttribute("cm-ignore-events","true")}if(gz.insertLeft){gs.widgetNode.insertLeft=true}}if(gs.collapsed){if(z(gx,gv.line,gv,gw,gs)||gv.line!=gw.line&&z(gx,gw.line,gv,gw,gs)){throw new Error("Inserting collapsed marker partially overlapping an existing one")}a6=true}if(gs.addToHistory){fR(gx,{from:gv,to:gw,origin:"markText"},gx.sel,NaN)}var gq=gv.line,gu=gx.cm,gp;gx.iter(gq,gw.line+1,function(gA){if(gu&&gs.collapsed&&!gu.options.lineWrapping&&x(gA)==gu.display.maxLine){gp=true}if(gs.collapsed&&gq!=gv.line){gb(gA,0)}cc(gA,new ek(gs,gq==gv.line?gv.ch:null,gq==gw.line?gw.ch:null));++gq});if(gs.collapsed){gx.iter(gv.line,gw.line+1,function(gA){if(fB(gx,gA)){gb(gA,0)}})}if(gs.clearOnEnter){bW(gs,"beforeCursorEnter",function(){gs.clear()})}if(gs.readOnly){gi=true;if(gx.history.done.length||gx.history.undone.length){gx.clearHistory()}}if(gs.collapsed){gs.id=++a4;gs.atomic=true}if(gu){if(gp){gu.curOp.updateMaxLine=true}if(gs.collapsed){ah(gu,gv.line,gw.line+1)}else{if(gs.className||gs.title||gs.startStyle||gs.endStyle||gs.css){for(var gr=gv.line;gr<=gw.line;gr++){R(gu,gr,"text")}}}if(gs.atomic){eB(gu.doc)}ae(gu,"markerAdded",gu,gs)}return gs}var y=H.SharedTextMarker=function(gr,gq){this.markers=gr;this.primary=gq;for(var gp=0;gp<gr.length;++gp){gr[gp].parent=this}};bx(y);y.prototype.clear=function(){if(this.explicitlyCleared){return}this.explicitlyCleared=true;for(var gp=0;gp<this.markers.length;++gp){this.markers[gp].clear()}ae(this,"clear")};y.prototype.find=function(gq,gp){return this.primary.find(gq,gp)};function O(gt,gw,gv,gp,gr){gp=aM(gp);gp.shared=false;var gu=[eI(gt,gw,gv,gp,gr)],gq=gu[0];var gs=gp.widgetNode;d8(gt,function(gy){if(gs){gp.widgetNode=gs.cloneNode(true)}gu.push(eI(gy,fO(gy,gw),fO(gy,gv),gp,gr));for(var gx=0;gx<gy.linked.length;++gx){if(gy.linked[gx].isParent){return}}gq=fL(gu)});return new y(gu,gq)}function eT(gp){return gp.findMarks(W(gp.first,0),gp.clipPos(W(gp.lastLine())),function(gq){return gq.parent})}function dF(gu,gv){for(var gs=0;gs<gv.length;gs++){var gq=gv[gs],gw=gq.find();var gp=gu.clipPos(gw.from),gt=gu.clipPos(gw.to);if(ce(gp,gt)){var gr=eI(gu,gp,gt,gq.primary,gq.primary.type);gq.markers.push(gr);gr.parent=gq}}}function er(gs){for(var gr=0;gr<gs.length;gr++){var gp=gs[gr],gu=[gp.primary.doc];d8(gp.primary.doc,function(gv){gu.push(gv)});for(var gq=0;gq<gp.markers.length;gq++){var gt=gp.markers[gq];if(dh(gu,gt.doc)==-1){gt.parent=null;gp.markers.splice(gq--,1)}}}}function ek(gp,gr,gq){this.marker=gp;this.from=gr;this.to=gq}function fe(gr,gp){if(gr){for(var gq=0;gq<gr.length;++gq){var gs=gr[gq];if(gs.marker==gp){return gs}}}}function eK(gq,gr){for(var gs,gp=0;gp<gq.length;++gp){if(gq[gp]!=gr){(gs||(gs=[])).push(gq[gp])}}return gs}function cc(gp,gq){gp.markedSpans=gp.markedSpans?gp.markedSpans.concat([gq]):[gq];gq.marker.attachLine(gp)}function aP(gq,gr,gv){if(gq){for(var gt=0,gw;gt<gq.length;++gt){var gx=gq[gt],gu=gx.marker;var gp=gx.from==null||(gu.inclusiveLeft?gx.from<=gr:gx.from<gr);if(gp||gx.from==gr&&gu.type=="bookmark"&&(!gv||!gx.marker.insertLeft)){var gs=gx.to==null||(gu.inclusiveRight?gx.to>=gr:gx.to>gr);(gw||(gw=[])).push(new ek(gu,gx.from,gs?null:gx.to))}}}return gw}function aA(gq,gs,gv){if(gq){for(var gt=0,gw;gt<gq.length;++gt){var gx=gq[gt],gu=gx.marker;var gr=gx.to==null||(gu.inclusiveRight?gx.to>=gs:gx.to>gs);if(gr||gx.from==gs&&gu.type=="bookmark"&&(!gv||gx.marker.insertLeft)){var gp=gx.from==null||(gu.inclusiveLeft?gx.from<=gs:gx.from<gs);(gw||(gw=[])).push(new ek(gu,gp?null:gx.from-gs,gx.to==null?null:gx.to-gs))}}}return gw}function em(gB,gy){if(gy.full){return null}var gx=b8(gB,gy.from.line)&&fk(gB,gy.from.line).markedSpans;var gE=b8(gB,gy.to.line)&&fk(gB,gy.to.line).markedSpans;if(!gx&&!gE){return null}var gq=gy.from.ch,gt=gy.to.ch,gw=ce(gy.from,gy.to)==0;var gv=aP(gx,gq,gw);var gD=aA(gE,gt,gw);var gC=gy.text.length==1,gr=fL(gy.text).length+(gC?gq:0);if(gv){for(var gs=0;gs<gv.length;++gs){var gA=gv[gs];if(gA.to==null){var gF=fe(gD,gA.marker);if(!gF){gA.to=gq}else{if(gC){gA.to=gF.to==null?null:gF.to+gr}}}}}if(gD){for(var gs=0;gs<gD.length;++gs){var gA=gD[gs];if(gA.to!=null){gA.to+=gr}if(gA.from==null){var gF=fe(gv,gA.marker);if(!gF){gA.from=gr;if(gC){(gv||(gv=[])).push(gA)}}}else{gA.from+=gr;if(gC){(gv||(gv=[])).push(gA)}}}}if(gv){gv=q(gv)}if(gD&&gD!=gv){gD=q(gD)}var gu=[gv];if(!gC){var gz=gy.text.length-2,gp;if(gz>0&&gv){for(var gs=0;gs<gv.length;++gs){if(gv[gs].to==null){(gp||(gp=[])).push(new ek(gv[gs].marker,null,null))}}}for(var gs=0;gs<gz;++gs){gu.push(gp)}gu.push(gD)}return gu}function q(gq){for(var gp=0;gp<gq.length;++gp){var gr=gq[gp];if(gr.from!=null&&gr.from==gr.to&&gr.marker.clearWhenEmpty!==false){gq.splice(gp--,1)}}if(!gq.length){return null}return gq}function ea(gx,gv){var gp=b3(gx,gv);var gy=em(gx,gv);if(!gp){return gy}if(!gy){return gp}for(var gs=0;gs<gp.length;++gs){var gt=gp[gs],gu=gy[gs];if(gt&&gu){spans:for(var gr=0;gr<gu.length;++gr){var gw=gu[gr];for(var gq=0;gq<gt.length;++gq){if(gt[gq].marker==gw.marker){continue spans}}gt.push(gw)}}else{if(gu){gp[gs]=gu}}}return gp}function cG(gB,gz,gA){var gt=null;gB.iter(gz.line,gA.line+1,function(gC){if(gC.markedSpans){for(var gD=0;gD<gC.markedSpans.length;++gD){var gE=gC.markedSpans[gD].marker;if(gE.readOnly&&(!gt||dh(gt,gE)==-1)){(gt||(gt=[])).push(gE)}}}});if(!gt){return null}var gu=[{from:gz,to:gA}];for(var gv=0;gv<gt.length;++gv){var gw=gt[gv],gr=gw.find(0);for(var gs=0;gs<gu.length;++gs){var gq=gu[gs];if(ce(gq.to,gr.from)<0||ce(gq.from,gr.to)>0){continue}var gy=[gs,1],gp=ce(gq.from,gr.from),gx=ce(gq.to,gr.to);if(gp<0||!gw.inclusiveLeft&&!gp){gy.push({from:gq.from,to:gr.from})}if(gx>0||!gw.inclusiveRight&&!gx){gy.push({from:gr.to,to:gq.to})}gu.splice.apply(gu,gy);gs+=gy.length-1}}return gu}function ge(gp){var gr=gp.markedSpans;if(!gr){return}for(var gq=0;gq<gr.length;++gq){gr[gq].marker.detachLine(gp)}gp.markedSpans=null}function c2(gp,gr){if(!gr){return}for(var gq=0;gq<gr.length;++gq){gr[gq].marker.attachLine(gp)}gp.markedSpans=gr}function v(gp){return gp.inclusiveLeft?-1:0}function bV(gp){return gp.inclusiveRight?1:0}function dQ(gs,gq){var gu=gs.lines.length-gq.lines.length;if(gu!=0){return gu}var gr=gs.find(),gv=gq.find();var gp=ce(gr.from,gv.from)||v(gs)-v(gq);if(gp){return -gp}var gt=ce(gr.to,gv.to)||bV(gs)-bV(gq);if(gt){return gt}return gq.id-gs.id}function a5(gq,gu){var gp=a6&&gq.markedSpans,gt;if(gp){for(var gs,gr=0;gr<gp.length;++gr){gs=gp[gr];if(gs.marker.collapsed&&(gu?gs.from:gs.to)==null&&(!gt||dQ(gt,gs.marker)<0)){gt=gs.marker}}}return gt}function eS(gp){return a5(gp,true)}function ex(gp){return a5(gp,false)}function z(gx,gr,gv,gw,gt){var gA=fk(gx,gr);var gp=a6&&gA.markedSpans;if(gp){for(var gs=0;gs<gp.length;++gs){var gq=gp[gs];if(!gq.marker.collapsed){continue}var gz=gq.marker.find(0);var gy=ce(gz.from,gv)||v(gq.marker)-v(gt);var gu=ce(gz.to,gw)||bV(gq.marker)-bV(gt);if(gy>=0&&gu<=0||gy<=0&&gu>=0){continue}if(gy<=0&&(ce(gz.to,gv)>0||(gq.marker.inclusiveRight&&gt.inclusiveLeft))||gy>=0&&(ce(gz.from,gw)<0||(gq.marker.inclusiveLeft&&gt.inclusiveRight))){return true}}}}function x(gq){var gp;while(gp=eS(gq)){gq=gp.find(-1,true).line}return gq}function g(gr){var gp,gq;while(gp=ex(gr)){gr=gp.find(1,true).line;(gq||(gq=[])).push(gr)}return gq}function aV(gs,gq){var gp=fk(gs,gq),gr=x(gp);if(gp==gr){return gq}return bM(gr)}function d3(gs,gr){if(gr>gs.lastLine()){return gr}var gq=fk(gs,gr),gp;if(!fB(gs,gq)){return gr}while(gp=ex(gq)){gq=gp.find(1,true).line}return bM(gq)+1}function fB(gt,gq){var gp=a6&&gq.markedSpans;if(gp){for(var gs,gr=0;gr<gp.length;++gr){gs=gp[gr];if(!gs.marker.collapsed){continue}if(gs.from==null){return true}if(gs.marker.widgetNode){continue}if(gs.from==0&&gs.marker.inclusiveLeft&&T(gt,gq,gs)){return true}}}}function T(gu,gq,gs){if(gs.to==null){var gp=gs.marker.find(1,true);return T(gu,gp.line,fe(gp.line.markedSpans,gs.marker))}if(gs.marker.inclusiveRight&&gs.to==gq.text.length){return true}for(var gt,gr=0;gr<gq.markedSpans.length;++gr){gt=gq.markedSpans[gr];if(gt.marker.collapsed&&!gt.marker.widgetNode&&gt.from==gs.to&&(gt.to==null||gt.to!=gs.from)&&(gt.marker.inclusiveLeft||gs.marker.inclusiveRight)&&T(gu,gq,gt)){return true}}}var dB=H.LineWidget=function(gs,gr,gp){if(gp){for(var gq in gp){if(gp.hasOwnProperty(gq)){this[gq]=gp[gq]}}}this.doc=gs;this.node=gr};bx(dB);function dZ(gp,gq,gr){if(bL(gq)<((gp.curOp&&gp.curOp.scrollTop)||gp.doc.scrollTop)){cK(gp,null,gr)}}dB.prototype.clear=function(){var gq=this.doc.cm,gs=this.line.widgets,gr=this.line,gu=bM(gr);if(gu==null||!gs){return}for(var gt=0;gt<gs.length;++gt){if(gs[gt]==this){gs.splice(gt--,1)}}if(!gs.length){gr.widgets=null}var gp=cX(this);gb(gr,Math.max(0,gr.height-gp));if(gq){cL(gq,function(){dZ(gq,gr,-gp);R(gq,gu,"widget")})}};dB.prototype.changed=function(){var gq=this.height,gp=this.doc.cm,gr=this.line;this.height=null;var gs=cX(this)-gq;if(!gs){return}gb(gr,gr.height+gs);if(gp){cL(gp,function(){gp.curOp.forceUpdate=true;dZ(gp,gr,gs)})}};function cX(gr){if(gr.height!=null){return gr.height}var gp=gr.doc.cm;if(!gp){return 0}if(!gg(document.body,gr.node)){var gq="position: relative;";if(gr.coverGutter){gq+="margin-left: -"+gp.display.gutters.offsetWidth+"px;"}if(gr.noHScroll){gq+="width: "+gp.display.wrapper.clientWidth+"px;"}bQ(gp.display.measure,f8("div",[gr.node],null,gq))}return gr.height=gr.node.parentNode.offsetHeight}function bG(gu,gt,gr,gq){var gs=new dB(gu,gr,gq);var gp=gu.cm;if(gp&&gs.noHScroll){gp.display.alignWidgets=true}eC(gu,gt,"widget",function(gw){var gx=gw.widgets||(gw.widgets=[]);if(gs.insertAt==null){gx.push(gs)}else{gx.splice(Math.min(gx.length-1,Math.max(0,gs.insertAt)),0,gs)}gs.line=gw;if(gp&&!fB(gu,gw)){var gv=bL(gw)<gu.scrollTop;gb(gw,gw.height+cX(gs));if(gv){cK(gp,null,gs.height)}gp.curOp.forceUpdate=true}return true});return gs}var gc=H.Line=function(gr,gq,gp){this.text=gr;c2(this,gq);this.height=gp?gp(this):1};bx(gc);gc.prototype.lineNo=function(){return bM(this)};function ep(gq,gt,gr,gp){gq.text=gt;if(gq.stateAfter){gq.stateAfter=null}if(gq.styles){gq.styles=null}if(gq.order!=null){gq.order=null}ge(gq);c2(gq,gr);var gs=gp?gp(gq):1;if(gs!=gq.height){gb(gq,gs)}}function bA(gp){gp.parent=null;ge(gp)}function di(gr,gq){if(gr){for(;;){var gp=gr.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!gp){break}gr=gr.slice(0,gp.index)+gr.slice(gp.index+gp[0].length);var gs=gp[1]?"bgClass":"textClass";if(gq[gs]==null){gq[gs]=gp[2]}else{if(!(new RegExp("(?:^|s)"+gp[2]+"(?:$|s)")).test(gq[gs])){gq[gs]+=" "+gp[2]}}}}return gr}function fv(gr,gq){if(gr.blankLine){return gr.blankLine(gq)}if(!gr.innerMode){return}var gp=H.innerMode(gr,gq);if(gp.mode.blankLine){return gp.mode.blankLine(gp.state)}}function eD(gu,gt,gs,gp){for(var gq=0;gq<10;gq++){if(gp){gp[0]=H.innerMode(gu,gs).mode}var gr=gu.token(gt,gs);if(gt.pos>gt.start){return gr}}throw new Error("Mode "+gu.name+" failed to advance stream.")}function cp(gy,gw,gt,gs){function gp(gB){return{start:gz.start,end:gz.pos,string:gz.current(),type:gr||null,state:gB?b2(gx.mode,gq):gq}}var gx=gy.doc,gu=gx.mode,gr;gw=fO(gx,gw);var gA=fk(gx,gw.line),gq=dC(gy,gw.line,gt);var gz=new eX(gA.text,gy.options.tabSize),gv;if(gs){gv=[]}while((gs||gz.pos<gw.ch)&&!gz.eol()){gz.start=gz.pos;gr=eD(gu,gz,gq);if(gs){gv.push(gp(true))}}return gs?gv:gp()}function w(gz,gB,gu,gq,gv,gs,gt){var gr=gu.flattenSpans;if(gr==null){gr=gz.options.flattenSpans}var gx=0,gw=null;var gA=new eX(gB,gz.options.tabSize),gp;var gD=gz.options.addModeClass&&[null];if(gB==""){di(fv(gu,gq),gs)}while(!gA.eol()){if(gA.pos>gz.options.maxHighlightLength){gr=false;if(gt){dx(gz,gB,gq,gA.pos)}gA.pos=gB.length;gp=null}else{gp=di(eD(gu,gA,gq,gD),gs)}if(gD){var gC=gD[0].name;if(gC){gp="m-"+(gp?gC+" "+gp:gC)}}if(!gr||gw!=gp){while(gx<gA.start){gx=Math.min(gA.start,gx+50000);gv(gx,gw)}gw=gp}gA.start=gA.pos}while(gx<gA.pos){var gy=Math.min(gA.pos,gx+50000);gv(gy,gw);gx=gy}}function fE(gw,gy,gp,gt){var gx=[gw.state.modeGen],gs={};w(gw,gy.text,gw.doc.mode,gp,function(gz,gA){gx.push(gz,gA)},gs,gt);for(var gq=0;gq<gw.state.overlays.length;++gq){var gu=gw.state.overlays[gq],gv=1,gr=0;w(gw,gy.text,gu.mode,true,function(gz,gB){var gD=gv;while(gr<gz){var gA=gx[gv];if(gA>gz){gx.splice(gv,1,gz,gx[gv+1],gA)}gv+=2;gr=Math.min(gz,gA)}if(!gB){return}if(gu.opaque){gx.splice(gD,gv-gD,gz,"cm-overlay "+gB);gv=gD+2}else{for(;gD<gv;gD+=2){var gC=gx[gD+1];gx[gD+1]=(gC?gC+" ":"")+"cm-overlay "+gB}}},gs)}return{styles:gx,classes:gs.bgClass||gs.textClass?gs:null}}function c5(gq,gr,gt){if(!gr.styles||gr.styles[0]!=gq.state.modeGen){var gs=dC(gq,bM(gr));var gp=fE(gq,gr,gr.text.length>gq.options.maxHighlightLength?b2(gq.doc.mode,gs):gs);gr.stateAfter=gs;gr.styles=gp.styles;if(gp.classes){gr.styleClasses=gp.classes}else{if(gr.styleClasses){gr.styleClasses=null}}if(gt===gq.doc.frontier){gq.doc.frontier++}}return gr.styles}function dx(gp,gu,gr,gq){var gt=gp.doc.mode;var gs=new eX(gu,gp.options.tabSize);gs.start=gs.pos=gq||0;if(gu==""){fv(gt,gr)}while(!gs.eol()){eD(gt,gs,gr);gs.start=gs.pos}}var dW={},b0={};function e0(gr,gq){if(!gr||/^\s*$/.test(gr)){return null}var gp=gq.addModeClass?b0:dW;return gp[gr]||(gp[gr]=gr.replace(/\S+/g,"cm-$&"))}function eV(gq,gu){var gv=f8("span",null,null,cZ?"padding-right: .1px":null);var gs={pre:f8("pre",[gv],"CodeMirror-line"),content:gv,col:0,pos:0,cm:gq,splitSpaces:(dK||cZ)&&gq.getOption("lineWrapping")};gu.measure={};for(var gt=0;gt<=(gu.rest?gu.rest.length:0);gt++){var gr=gt?gu.rest[gt-1]:gu.line,gp;gs.pos=0;gs.addToken=t;if(bN(gq.display.measure)&&(gp=a(gr))){gs.addToken=U(gs.addToken,gp)}gs.map=[];var gw=gu!=gq.display.externalMeasured&&bM(gr);bn(gr,gs,c5(gq,gr,gw));if(gr.styleClasses){if(gr.styleClasses.bgClass){gs.bgClass=fY(gr.styleClasses.bgClass,gs.bgClass||"")}if(gr.styleClasses.textClass){gs.textClass=fY(gr.styleClasses.textClass,gs.textClass||"")}}if(gs.map.length==0){gs.map.push(0,0,gs.content.appendChild(bm(gq.display.measure)))}if(gt==0){gu.measure.map=gs.map;gu.measure.cache={}}else{(gu.measure.maps||(gu.measure.maps=[])).push(gs.map);(gu.measure.caches||(gu.measure.caches=[])).push({})}}if(cZ&&/\bcm-tab\b/.test(gs.content.lastChild.className)){gs.content.className="cm-tab-wrap-hack"}aD(gq,"renderLine",gq,gu.line,gs.pre);if(gs.pre.className){gs.textClass=fY(gs.pre.className,gs.textClass||"")}return gs}function fh(gq){var gp=f8("span","\u2022","cm-invalidchar");gp.title="\\u"+gq.charCodeAt(0).toString(16);gp.setAttribute("aria-label",gp.title);return gp}function t(gA,gv,gF,gC,gy,gH,gu){if(!gv){return}var gE=gA.splitSpaces?gv.replace(/ {3,}/g,cE):gv;var gp=gA.cm.state.specialChars,gq=false;if(!gp.test(gv)){gA.col+=gv.length;var gD=document.createTextNode(gE);gA.map.push(gA.pos,gA.pos+gv.length,gD);if(dK&&k<9){gq=true}gA.pos+=gv.length}else{var gD=document.createDocumentFragment(),gs=0;while(true){gp.lastIndex=gs;var gB=gp.exec(gv);var gG=gB?gB.index-gs:gv.length-gs;if(gG){var gx=document.createTextNode(gE.slice(gs,gs+gG));if(dK&&k<9){gD.appendChild(f8("span",[gx]))}else{gD.appendChild(gx)}gA.map.push(gA.pos,gA.pos+gG,gx);gA.col+=gG;gA.pos+=gG}if(!gB){break}gs+=gG+1;if(gB[0]=="\t"){var gz=gA.cm.options.tabSize,gw=gz-gA.col%gz;var gx=gD.appendChild(f8("span",co(gw),"cm-tab"));gx.setAttribute("role","presentation");gx.setAttribute("cm-text","\t");gA.col+=gw}else{if(gB[0]=="\r"||gB[0]=="\n"){var gx=gD.appendChild(f8("span",gB[0]=="\r"?"\u240d":"\u2424","cm-invalidchar"));gx.setAttribute("cm-text",gB[0]);gA.col+=1}else{var gx=gA.cm.options.specialCharPlaceholder(gB[0]);gx.setAttribute("cm-text",gB[0]);if(dK&&k<9){gD.appendChild(f8("span",[gx]))}else{gD.appendChild(gx)}gA.col+=1}}gA.map.push(gA.pos,gA.pos+1,gx);gA.pos++}}if(gF||gC||gy||gq||gu){var gr=gF||"";if(gC){gr+=gC}if(gy){gr+=gy}var gt=f8("span",[gD],gr,gu);if(gH){gt.title=gH}return gA.content.appendChild(gt)}gA.content.appendChild(gD)}function cE(gp){var gq=" ";for(var gr=0;gr<gp.length-2;++gr){gq+=gr%2?" ":"\u00a0"}gq+=" ";return gq}function U(gq,gp){return function(gy,gA,gr,gv,gB,gz,gx){gr=gr?gr+" cm-force-border":"cm-force-border";var gs=gy.pos,gu=gs+gA.length;for(;;){for(var gw=0;gw<gp.length;gw++){var gt=gp[gw];if(gt.to>gs&&gt.from<=gs){break}}if(gt.to>=gu){return gq(gy,gA,gr,gv,gB,gz,gx)}gq(gy,gA.slice(0,gt.to-gs),gr,gv,null,gz,gx);gv=null;gA=gA.slice(gt.to-gs);gs=gt.to}}}function ac(gq,gs,gp,gr){var gt=!gr&&gp.widgetNode;if(gt){gq.map.push(gq.pos,gq.pos+gs,gt)}if(!gr&&gq.cm.display.input.needsContentAttribute){if(!gt){gt=gq.content.appendChild(document.createElement("span"))}gt.setAttribute("cm-marker",gp.id)}if(gt){gq.cm.display.input.setUneditable(gt);gq.content.appendChild(gt)}gq.pos+=gs}function bn(gz,gG,gy){var gu=gz.markedSpans,gw=gz.text,gE=0;if(!gu){for(var gJ=1;gJ<gy.length;gJ+=2){gG.addToken(gG,gw.slice(gE,gE=gy[gJ]),e0(gy[gJ+1],gG.cm.options))}return}var gK=gw.length,gt=0,gJ=1,gC="",gL,gA;var gN=0,gp,gM,gD,gO,gr;for(;;){if(gN==gt){gp=gM=gD=gO=gA="";gr=null;gN=Infinity;var gv=[],gx;for(var gH=0;gH<gu.length;++gH){var gI=gu[gH],gF=gI.marker;if(gF.type=="bookmark"&&gI.from==gt&&gF.widgetNode){gv.push(gF)}else{if(gI.from<=gt&&(gI.to==null||gI.to>gt||gF.collapsed&&gI.to==gt&&gI.from==gt)){if(gI.to!=null&&gI.to!=gt&&gN>gI.to){gN=gI.to;gM=""}if(gF.className){gp+=" "+gF.className}if(gF.css){gA=(gA?gA+";":"")+gF.css}if(gF.startStyle&&gI.from==gt){gD+=" "+gF.startStyle}if(gF.endStyle&&gI.to==gN){(gx||(gx=[])).push(gF.endStyle,gI.to)}if(gF.title&&!gO){gO=gF.title}if(gF.collapsed&&(!gr||dQ(gr.marker,gF)<0)){gr=gI}}else{if(gI.from>gt&&gN>gI.from){gN=gI.from}}}}if(gx){for(var gH=0;gH<gx.length;gH+=2){if(gx[gH+1]==gN){gM+=" "+gx[gH]}}}if(!gr||gr.from==gt){for(var gH=0;gH<gv.length;++gH){ac(gG,0,gv[gH])}}if(gr&&(gr.from||0)==gt){ac(gG,(gr.to==null?gK+1:gr.to)-gt,gr.marker,gr.from==null);if(gr.to==null){return}if(gr.to==gt){gr=false}}}if(gt>=gK){break}var gB=Math.min(gK,gN);while(true){if(gC){var gq=gt+gC.length;if(!gr){var gs=gq>gB?gC.slice(0,gB-gt):gC;gG.addToken(gG,gs,gL?gL+gp:gp,gD,gt+gs.length==gN?gM:"",gO,gA)}if(gq>=gB){gC=gC.slice(gB-gt);gt=gB;break}gt=gq;gD=""}gC=gw.slice(gE,gE=gy[gJ++]);gL=e0(gy[gJ++],gG.cm.options)}}}function dS(gp,gq){return gq.from.ch==0&&gq.to.ch==0&&fL(gq.text)==""&&(!gp.cm||gp.cm.options.wholeLineUpdateBefore)}function fD(gC,gx,gq,gt){function gD(gF){return gq?gq[gF]:null}function gr(gF,gH,gG){ep(gF,gH,gG,gt);ae(gF,"change",gF,gx)}function gp(gI,gG){for(var gH=gI,gF=[];gH<gG;++gH){gF.push(new gc(gE[gH],gD(gH),gt))}return gF}var gB=gx.from,gA=gx.to,gE=gx.text;var gy=fk(gC,gB.line),gz=fk(gC,gA.line);var gw=fL(gE),gs=gD(gE.length-1),gv=gA.line-gB.line;if(gx.full){gC.insert(0,gp(0,gE.length));gC.remove(gE.length,gC.size-gE.length)}else{if(dS(gC,gx)){var gu=gp(0,gE.length-1);gr(gz,gz.text,gs);if(gv){gC.remove(gB.line,gv)}if(gu.length){gC.insert(gB.line,gu)}}else{if(gy==gz){if(gE.length==1){gr(gy,gy.text.slice(0,gB.ch)+gw+gy.text.slice(gA.ch),gs)}else{var gu=gp(1,gE.length-1);gu.push(new gc(gw+gy.text.slice(gA.ch),gs,gt));gr(gy,gy.text.slice(0,gB.ch)+gE[0],gD(0));gC.insert(gB.line+1,gu)}}else{if(gE.length==1){gr(gy,gy.text.slice(0,gB.ch)+gE[0]+gz.text.slice(gA.ch),gD(0));gC.remove(gB.line+1,gv)}else{gr(gy,gy.text.slice(0,gB.ch)+gE[0],gD(0));gr(gz,gw+gz.text.slice(gA.ch),gs);var gu=gp(1,gE.length-1);if(gv>1){gC.remove(gB.line+1,gv-1)}gC.insert(gB.line+1,gu)}}}}ae(gC,"change",gC,gx)}function e3(gq){this.lines=gq;this.parent=null;for(var gr=0,gp=0;gr<gq.length;++gr){gq[gr].parent=this;gp+=gq[gr].height}this.height=gp}e3.prototype={chunkSize:function(){return this.lines.length},removeInner:function(gp,gt){for(var gr=gp,gs=gp+gt;gr<gs;++gr){var gq=this.lines[gr];this.height-=gq.height;bA(gq);ae(gq,"delete")}this.lines.splice(gp,gt)},collapse:function(gp){gp.push.apply(gp,this.lines)},insertInner:function(gq,gr,gp){this.height+=gp;this.lines=this.lines.slice(0,gq).concat(gr).concat(this.lines.slice(gq));for(var gs=0;gs<gr.length;++gs){gr[gs].parent=this}},iterN:function(gp,gs,gr){for(var gq=gp+gs;gp<gq;++gp){if(gr(this.lines[gp])){return true}}}};function fC(gs){this.children=gs;var gr=0,gp=0;for(var gq=0;gq<gs.length;++gq){var gt=gs[gq];gr+=gt.chunkSize();gp+=gt.height;gt.parent=this}this.size=gr;this.height=gp;this.parent=null}fC.prototype={chunkSize:function(){return this.size},removeInner:function(gp,gw){this.size-=gw;for(var gr=0;gr<this.children.length;++gr){var gv=this.children[gr],gt=gv.chunkSize();if(gp<gt){var gs=Math.min(gw,gt-gp),gu=gv.height;gv.removeInner(gp,gs);this.height-=gu-gv.height;if(gt==gs){this.children.splice(gr--,1);gv.parent=null}if((gw-=gs)==0){break}gp=0}else{gp-=gt}}if(this.size-gw<25&&(this.children.length>1||!(this.children[0] instanceof e3))){var gq=[];this.collapse(gq);this.children=[new e3(gq)];this.children[0].parent=this}},collapse:function(gp){for(var gq=0;gq<this.children.length;++gq){this.children[gq].collapse(gp)}},insertInner:function(gq,gr,gp){this.size+=gr.length;this.height+=gp;for(var gu=0;gu<this.children.length;++gu){var gw=this.children[gu],gv=gw.chunkSize();if(gq<=gv){gw.insertInner(gq,gr,gp);if(gw.lines&&gw.lines.length>50){while(gw.lines.length>50){var gt=gw.lines.splice(gw.lines.length-25,25);var gs=new e3(gt);gw.height-=gs.height;this.children.splice(gu+1,0,gs);gs.parent=this}this.maybeSpill()}break}gq-=gv}},maybeSpill:function(){if(this.children.length<=10){return}var gs=this;do{var gq=gs.children.splice(gs.children.length-5,5);var gr=new fC(gq);if(!gs.parent){var gt=new fC(gs.children);gt.parent=gs;gs.children=[gt,gr];gs=gt}else{gs.size-=gr.size;gs.height-=gr.height;var gp=dh(gs.parent.children,gs);gs.parent.children.splice(gp+1,0,gr)}gr.parent=gs.parent}while(gs.children.length>10);gs.parent.maybeSpill()},iterN:function(gp,gv,gu){for(var gq=0;gq<this.children.length;++gq){var gt=this.children[gq],gs=gt.chunkSize();if(gp<gs){var gr=Math.min(gv,gs-gp);if(gt.iterN(gp,gr,gu)){return true}if((gv-=gr)==0){break}gp=0}else{gp-=gs}}}};var cq=0;var ar=H.Doc=function(gs,gr,gp,gq){if(!(this instanceof ar)){return new ar(gs,gr,gp,gq)}if(gp==null){gp=0}fC.call(this,[new e3([new gc("",null)])]);this.first=gp;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.frontier=gp;var gt=W(gp,0);this.sel=eW(gt);this.history=new fZ(null);this.id=++cq;this.modeOption=gr;this.lineSep=gq;this.extend=false;if(typeof gs=="string"){gs=this.splitLines(gs)}fD(this,{from:gt,to:gt,text:gs});bT(this,eW(gt),Z)};ar.prototype=cj(fC.prototype,{constructor:ar,iter:function(gr,gq,gp){if(gp){this.iterN(gr-this.first,gq-gr,gp)}else{this.iterN(this.first,this.first+this.size,gr)}},insert:function(gq,gr){var gp=0;for(var gs=0;gs<gr.length;++gs){gp+=gr[gs].height}this.insertInner(gq-this.first,gr,gp)},remove:function(gp,gq){this.removeInner(gp-this.first,gq)},getValue:function(gq){var gp=a1(this,this.first,this.first+this.size);if(gq===false){return gp}return gp.join(gq||this.lineSeparator())},setValue:cC(function(gq){var gr=W(this.first,0),gp=this.first+this.size-1;bf(this,{from:gr,to:W(gp,fk(this,gp).text.length),text:this.splitLines(gq),origin:"setValue",full:true},true);bT(this,eW(gr))}),replaceRange:function(gq,gs,gr,gp){gs=fO(this,gs);gr=gr?fO(this,gr):gs;a0(this,gq,gs,gr,gp)},getRange:function(gs,gr,gq){var gp=ga(this,fO(this,gs),fO(this,gr));if(gq===false){return gp}return gp.join(gq||this.lineSeparator())},getLine:function(gq){var gp=this.getLineHandle(gq);return gp&&gp.text},getLineHandle:function(gp){if(b8(this,gp)){return fk(this,gp)}},getLineNumber:function(gp){return bM(gp)},getLineHandleVisualStart:function(gp){if(typeof gp=="number"){gp=fk(this,gp)}return x(gp)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(gp){return fO(this,gp)},getCursor:function(gr){var gp=this.sel.primary(),gq;if(gr==null||gr=="head"){gq=gp.head}else{if(gr=="anchor"){gq=gp.anchor}else{if(gr=="end"||gr=="to"||gr===false){gq=gp.to()}else{gq=gp.from()}}}return gq},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:cC(function(gp,gr,gq){F(this,fO(this,typeof gp=="number"?W(gp,gr||0):gp),null,gq)}),setSelection:cC(function(gq,gr,gp){F(this,fO(this,gq),fO(this,gr||gq),gp)}),extendSelection:cC(function(gr,gp,gq){f2(this,fO(this,gr),gp&&fO(this,gp),gq)}),extendSelections:cC(function(gq,gp){av(this,d0(this,gq),gp)}),extendSelectionsBy:cC(function(gr,gp){var gq=bR(this.sel.ranges,gr);av(this,d0(this,gq),gp)}),setSelections:cC(function(gp,gt,gr){if(!gp.length){return}for(var gs=0,gq=[];gs<gp.length;gs++){gq[gs]=new dY(fO(this,gp[gs].anchor),fO(this,gp[gs].head))}if(gt==null){gt=Math.min(gp.length-1,this.sel.primIndex)}bT(this,cv(gq,gt),gr)}),addSelection:cC(function(gr,gs,gq){var gp=this.sel.ranges.slice(0);gp.push(new dY(fO(this,gr),fO(this,gs||gr)));bT(this,cv(gp,gp.length-1),gq)}),getSelection:function(gt){var gq=this.sel.ranges,gp;for(var gr=0;gr<gq.length;gr++){var gs=ga(this,gq[gr].from(),gq[gr].to());gp=gp?gp.concat(gs):gs}if(gt===false){return gp}else{return gp.join(gt||this.lineSeparator())}},getSelections:function(gt){var gs=[],gp=this.sel.ranges;for(var gq=0;gq<gp.length;gq++){var gr=ga(this,gp[gq].from(),gp[gq].to());if(gt!==false){gr=gr.join(gt||this.lineSeparator())}gs[gq]=gr}return gs},replaceSelection:function(gr,gt,gp){var gs=[];for(var gq=0;gq<this.sel.ranges.length;gq++){gs[gq]=gr}this.replaceSelections(gs,gt,gp||"+input")},replaceSelections:cC(function(gu,gw,gr){var gt=[],gv=this.sel;for(var gs=0;gs<gv.ranges.length;gs++){var gq=gv.ranges[gs];gt[gs]={from:gq.from(),to:gq.to(),text:this.splitLines(gu[gs]),origin:gr}}var gp=gw&&gw!="end"&&af(this,gt,gw);for(var gs=gt.length-1;gs>=0;gs--){bf(this,gt[gs])}if(gp){fc(this,gp)}else{if(this.cm){fK(this.cm)}}}),undo:cC(function(){b7(this,"undo")}),redo:cC(function(){b7(this,"redo")}),undoSelection:cC(function(){b7(this,"undo",true)}),redoSelection:cC(function(){b7(this,"redo",true)}),setExtending:function(gp){this.extend=gp},getExtending:function(){return this.extend},historySize:function(){var gs=this.history,gp=0,gr=0;for(var gq=0;gq<gs.done.length;gq++){if(!gs.done[gq].ranges){++gp}}for(var gq=0;gq<gs.undone.length;gq++){if(!gs.undone[gq].ranges){++gr}}return{undo:gp,redo:gr}},clearHistory:function(){this.history=new fZ(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(true)},changeGeneration:function(gp){if(gp){this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null}return this.history.generation},isClean:function(gp){return this.history.generation==(gp||this.cleanGeneration)},getHistory:function(){return{done:bO(this.history.done),undone:bO(this.history.undone)}},setHistory:function(gq){var gp=this.history=new fZ(this.history.maxGeneration);gp.done=bO(gq.done.slice(0),null,true);gp.undone=bO(gq.undone.slice(0),null,true)},addLineClass:cC(function(gr,gq,gp){return eC(this,gr,gq=="gutter"?"gutter":"class",function(gs){var gt=gq=="text"?"textClass":gq=="background"?"bgClass":gq=="gutter"?"gutterClass":"wrapClass";if(!gs[gt]){gs[gt]=gp}else{if(S(gp).test(gs[gt])){return false}else{gs[gt]+=" "+gp}}return true})}),removeLineClass:cC(function(gr,gq,gp){return eC(this,gr,gq=="gutter"?"gutter":"class",function(gt){var gw=gq=="text"?"textClass":gq=="background"?"bgClass":gq=="gutter"?"gutterClass":"wrapClass";var gv=gt[gw];if(!gv){return false}else{if(gp==null){gt[gw]=null}else{var gu=gv.match(S(gp));if(!gu){return false}var gs=gu.index+gu[0].length;gt[gw]=gv.slice(0,gu.index)+(!gu.index||gs==gv.length?"":" ")+gv.slice(gs)||null}}return true})}),addLineWidget:cC(function(gr,gq,gp){return bG(this,gr,gq,gp)}),removeLineWidget:function(gp){gp.clear()},markText:function(gr,gq,gp){return eI(this,fO(this,gr),fO(this,gq),gp,gp&&gp.type||"range")},setBookmark:function(gr,gp){var gq={replacedWith:gp&&(gp.nodeType==null?gp.widget:gp),insertLeft:gp&&gp.insertLeft,clearWhenEmpty:false,shared:gp&&gp.shared,handleMouseEvents:gp&&gp.handleMouseEvents};gr=fO(this,gr);return eI(this,gr,gr,gq,"bookmark")},findMarksAt:function(gt){gt=fO(this,gt);var gs=[],gq=fk(this,gt.line).markedSpans;if(gq){for(var gp=0;gp<gq.length;++gp){var gr=gq[gp];if((gr.from==null||gr.from<=gt.ch)&&(gr.to==null||gr.to>=gt.ch)){gs.push(gr.marker.parent||gr.marker)}}}return gs},findMarks:function(gt,gs,gp){gt=fO(this,gt);gs=fO(this,gs);var gq=[],gr=gt.line;this.iter(gt.line,gs.line+1,function(gu){var gw=gu.markedSpans;if(gw){for(var gv=0;gv<gw.length;gv++){var gx=gw[gv];if(!(gr==gt.line&&gt.ch>gx.to||gx.from==null&&gr!=gt.line||gr==gs.line&&gx.from>gs.ch)&&(!gp||gp(gx.marker))){gq.push(gx.marker.parent||gx.marker)}}}++gr});return gq},getAllMarks:function(){var gp=[];this.iter(function(gr){var gq=gr.markedSpans;if(gq){for(var gs=0;gs<gq.length;++gs){if(gq[gs].from!=null){gp.push(gq[gs].marker)}}}});return gp},posFromIndex:function(gq){var gp,gr=this.first;this.iter(function(gs){var gt=gs.text.length+1;if(gt>gq){gp=gq;return true}gq-=gt;++gr});return fO(this,W(gr,gp))},indexFromPos:function(gq){gq=fO(this,gq);var gp=gq.ch;if(gq.line<this.first||gq.ch<0){return 0}this.iter(this.first,gq.line,function(gr){gp+=gr.text.length+1});return gp},copy:function(gp){var gq=new ar(a1(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);gq.scrollTop=this.scrollTop;gq.scrollLeft=this.scrollLeft;gq.sel=this.sel;gq.extend=false;if(gp){gq.history.undoDepth=this.history.undoDepth;gq.setHistory(this.getHistory())}return gq},linkedDoc:function(gp){if(!gp){gp={}}var gs=this.first,gr=this.first+this.size;if(gp.from!=null&&gp.from>gs){gs=gp.from}if(gp.to!=null&&gp.to<gr){gr=gp.to}var gq=new ar(a1(this,gs,gr),gp.mode||this.modeOption,gs,this.lineSep);if(gp.sharedHist){gq.history=this.history}(this.linked||(this.linked=[])).push({doc:gq,sharedHist:gp.sharedHist});gq.linked=[{doc:this,isParent:true,sharedHist:gp.sharedHist}];dF(gq,eT(this));return gq},unlinkDoc:function(gq){if(gq instanceof H){gq=gq.doc}if(this.linked){for(var gr=0;gr<this.linked.length;++gr){var gs=this.linked[gr];if(gs.doc!=gq){continue}this.linked.splice(gr,1);gq.unlinkDoc(this);er(eT(this));break}}if(gq.history==this.history){var gp=[gq.id];d8(gq,function(gt){gp.push(gt.id)},true);gq.history=new fZ(null);gq.history.done=bO(this.history.done,gp);gq.history.undone=bO(this.history.undone,gp)}},iterLinkedDocs:function(gp){d8(this,gp)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(gp){if(this.lineSep){return gp.split(this.lineSep)}return fX(gp)},lineSeparator:function(){return this.lineSep||"\n"}});ar.prototype.eachLine=ar.prototype.iter;var d="iter insert remove copy getEditor constructor".split(" ");for(var bJ in ar.prototype){if(ar.prototype.hasOwnProperty(bJ)&&dh(d,bJ)<0){H.prototype[bJ]=(function(gp){return function(){return gp.apply(this.doc,arguments)}})(ar.prototype[bJ])}}bx(ar);function d8(gs,gr,gq){function gp(gy,gw,gu){if(gy.linked){for(var gv=0;gv<gy.linked.length;++gv){var gt=gy.linked[gv];if(gt.doc==gw){continue}var gx=gu&&gt.sharedHist;if(gq&&!gx){continue}gr(gt.doc,gx);gp(gt.doc,gy,gx)}}}gp(gs,null,true)}function ed(gp,gq){if(gq.cm){throw new Error("This document is already in use.")}gp.doc=gq;gq.cm=gp;X(gp);bq(gp);if(!gp.options.lineWrapping){h(gp)}gp.options.mode=gq.modeOption;ah(gp)}function fk(gs,gu){gu-=gs.first;if(gu<0||gu>=gs.size){throw new Error("There is no line "+(gu+gs.first)+" in the document.")}for(var gp=gs;!gp.lines;){for(var gq=0;;++gq){var gt=gp.children[gq],gr=gt.chunkSize();if(gu<gr){gp=gt;break}gu-=gr}}return gp.lines[gu]}function ga(gr,gt,gp){var gq=[],gs=gt.line;gr.iter(gt.line,gp.line+1,function(gu){var gv=gu.text;if(gs==gp.line){gv=gv.slice(0,gp.ch)}if(gs==gt.line){gv=gv.slice(gt.ch)}gq.push(gv);++gs});return gq}function a1(gq,gs,gr){var gp=[];gq.iter(gs,gr,function(gt){gp.push(gt.text)});return gp}function gb(gq,gp){var gr=gp-gq.height;if(gr){for(var gs=gq;gs;gs=gs.parent){gs.height+=gr}}}function bM(gp){if(gp.parent==null){return null}var gt=gp.parent,gs=dh(gt.lines,gp);for(var gq=gt.parent;gq;gt=gq,gq=gq.parent){for(var gr=0;;++gr){if(gq.children[gr]==gt){break}gs+=gq.children[gr].chunkSize()}}return gs+gt.first}function bF(gr,gu){var gw=gr.first;outer:do{for(var gs=0;gs<gr.children.length;++gs){var gv=gr.children[gs],gt=gv.height;if(gu<gt){gr=gv;continue outer}gu-=gt;gw+=gv.chunkSize()}return gw}while(!gr.lines);for(var gs=0;gs<gr.lines.length;++gs){var gq=gr.lines[gs],gp=gq.height;if(gu<gp){break}gu-=gp}return gw+gs}function bL(gr){gr=x(gr);var gt=0,gq=gr.parent;for(var gs=0;gs<gq.lines.length;++gs){var gp=gq.lines[gs];if(gp==gr){break}else{gt+=gp.height}}for(var gu=gq.parent;gu;gq=gu,gu=gq.parent){for(var gs=0;gs<gu.children.length;++gs){var gv=gu.children[gs];if(gv==gq){break}else{gt+=gv.height}}}return gt}function a(gq){var gp=gq.order;if(gp==null){gp=gq.order=bg(gq.text)}return gp}function fZ(gp){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=gp||1}function du(gp,gr){var gq={from:ch(gr.from),to:cW(gr),text:ga(gp,gr.from,gr.to)};bX(gp,gq,gr.from.line,gr.to.line+1);d8(gp,function(gs){bX(gs,gq,gr.from.line,gr.to.line+1)},true);return gq}function fG(gq){while(gq.length){var gp=fL(gq);if(gp.ranges){gq.pop()}else{break}}}function eQ(gq,gp){if(gp){fG(gq.done);return fL(gq.done)}else{if(gq.done.length&&!fL(gq.done).ranges){return fL(gq.done)}else{if(gq.done.length>1&&!gq.done[gq.done.length-2].ranges){gq.done.pop();return fL(gq.done)}}}}function fR(gv,gt,gp,gs){var gr=gv.history;gr.undone.length=0;var gq=+new Date,gw;if((gr.lastOp==gs||gr.lastOrigin==gt.origin&&gt.origin&&((gt.origin.charAt(0)=="+"&&gv.cm&&gr.lastModTime>gq-gv.cm.options.historyEventDelay)||gt.origin.charAt(0)=="*"))&&(gw=eQ(gr,gr.lastOp==gs))){var gx=fL(gw.changes);if(ce(gt.from,gt.to)==0&&ce(gt.from,gx.to)==0){gx.to=cW(gt)}else{gw.changes.push(du(gv,gt))}}else{var gu=fL(gr.done);if(!gu||!gu.ranges){cM(gv.sel,gr.done)}gw={changes:[du(gv,gt)],generation:gr.generation};gr.done.push(gw);while(gr.done.length>gr.undoDepth){gr.done.shift();if(!gr.done[0].ranges){gr.done.shift()}}}gr.done.push(gp);gr.generation=++gr.maxGeneration;gr.lastModTime=gr.lastSelTime=gq;gr.lastOp=gr.lastSelOp=gs;gr.lastOrigin=gr.lastSelOrigin=gt.origin;if(!gx){aD(gv,"historyAdded")}}function bz(gt,gp,gr,gs){var gq=gp.charAt(0);return gq=="*"||gq=="+"&&gr.ranges.length==gs.ranges.length&&gr.somethingSelected()==gs.somethingSelected()&&new Date-gt.history.lastSelTime<=(gt.cm?gt.cm.options.historyEventDelay:500)}function gh(gu,gs,gp,gr){var gt=gu.history,gq=gr&&gr.origin;if(gp==gt.lastSelOp||(gq&&gt.lastSelOrigin==gq&&(gt.lastModTime==gt.lastSelTime&&gt.lastOrigin==gq||bz(gu,gq,fL(gt.done),gs)))){gt.done[gt.done.length-1]=gs}else{cM(gs,gt.done)}gt.lastSelTime=+new Date;gt.lastSelOrigin=gq;gt.lastSelOp=gp;if(gr&&gr.clearRedo!==false){fG(gt.undone)}}function cM(gq,gp){var gr=fL(gp);if(!(gr&&gr.ranges&&gr.equals(gq))){gp.push(gq)}}function bX(gq,gu,gt,gs){var gp=gu["spans_"+gq.id],gr=0;gq.iter(Math.max(gq.first,gt),Math.min(gq.first+gq.size,gs),function(gv){if(gv.markedSpans){(gp||(gp=gu["spans_"+gq.id]={}))[gr]=gv.markedSpans}++gr})}function bk(gr){if(!gr){return null}for(var gq=0,gp;gq<gr.length;++gq){if(gr[gq].marker.explicitlyCleared){if(!gp){gp=gr.slice(0,gq)}}else{if(gp){gp.push(gr[gq])}}}return !gp?gr:gp.length?gp:null}function b3(gs,gt){var gr=gt["spans_"+gs.id];if(!gr){return null}for(var gq=0,gp=[];gq<gt.text.length;++gq){gp.push(bk(gr[gq]))}return gp}function bO(gA,gs,gz){for(var gv=0,gq=[];gv<gA.length;++gv){var gr=gA[gv];if(gr.ranges){gq.push(gz?f9.prototype.deepCopy.call(gr):gr);continue}var gx=gr.changes,gy=[];gq.push({changes:gy});for(var gu=0;gu<gx.length;++gu){var gw=gx[gu],gt;gy.push({from:gw.from,to:gw.to,text:gw.text});if(gs){for(var gp in gw){if(gt=gp.match(/^spans_(\d+)$/)){if(dh(gs,Number(gt[1]))>-1){fL(gy)[gp]=gw[gp];delete gw[gp]}}}}}}return gq}function I(gs,gr,gq,gp){if(gq<gs.line){gs.line+=gp}else{if(gr<gs.line){gs.line=gr;gs.ch=0}}}function fm(gs,gu,gv,gw){for(var gr=0;gr<gs.length;++gr){var gp=gs[gr],gt=true;if(gp.ranges){if(!gp.copied){gp=gs[gr]=gp.deepCopy();gp.copied=true}for(var gq=0;gq<gp.ranges.length;gq++){I(gp.ranges[gq].anchor,gu,gv,gw);I(gp.ranges[gq].head,gu,gv,gw)}continue}for(var gq=0;gq<gp.changes.length;++gq){var gx=gp.changes[gq];if(gv<gx.from.line){gx.from=W(gx.from.line+gw,gx.from.ch);gx.to=W(gx.to.line+gw,gx.to.ch)}else{if(gu<=gx.to.line){gt=false;break}}}if(!gt){gs.splice(0,gr+1);gr=0}}}function dE(gq,gt){var gs=gt.from.line,gr=gt.to.line,gp=gt.text.length-(gr-gs)-1;fm(gq.done,gs,gr,gp);fm(gq.undone,gs,gr,gp)}var cF=H.e_preventDefault=function(gp){if(gp.preventDefault){gp.preventDefault()}else{gp.returnValue=false}};var dq=H.e_stopPropagation=function(gp){if(gp.stopPropagation){gp.stopPropagation()}else{gp.cancelBubble=true}};function bK(gp){return gp.defaultPrevented!=null?gp.defaultPrevented:gp.returnValue==false}var eu=H.e_stop=function(gp){cF(gp);dq(gp)};function L(gp){return gp.target||gp.srcElement}function fS(gq){var gp=gq.which;if(gp==null){if(gq.button&1){gp=1}else{if(gq.button&2){gp=3}else{if(gq.button&4){gp=2}}}}if(b6&&gq.ctrlKey&&gp==1){gp=3}return gp}var bW=H.on=function(gs,gq,gr){if(gs.addEventListener){gs.addEventListener(gq,gr,false)}else{if(gs.attachEvent){gs.attachEvent("on"+gq,gr)}else{var gt=gs._handlers||(gs._handlers={});var gp=gt[gq]||(gt[gq]=[]);gp.push(gr)}}};var fa=[];function en(gr,gq,gs){var gp=gr._handlers&&gr._handlers[gq];if(gs){return gp&&gp.length>0?gp.slice():fa}else{return gp||fa}}var ef=H.off=function(gt,gr,gs){if(gt.removeEventListener){gt.removeEventListener(gr,gs,false)}else{if(gt.detachEvent){gt.detachEvent("on"+gr,gs)}else{var gp=en(gt,gr,false);for(var gq=0;gq<gp.length;++gq){if(gp[gq]==gs){gp.splice(gq,1);break}}}}};var aD=H.signal=function(gt,gs){var gp=en(gt,gs,true);if(!gp.length){return}var gq=Array.prototype.slice.call(arguments,2);for(var gr=0;gr<gp.length;++gr){gp[gr].apply(null,gq)}};var by=null;function ae(gv,gt){var gp=en(gv,gt,false);if(!gp.length){return}var gr=Array.prototype.slice.call(arguments,2),gu;if(bo){gu=bo.delayedCallbacks}else{if(by){gu=by}else{gu=by=[];setTimeout(aL,0)}}function gq(gw){return function(){gw.apply(null,gr)}}for(var gs=0;gs<gp.length;++gs){gu.push(gq(gp[gs]))}}function aL(){var gp=by;by=null;for(var gq=0;gq<gp.length;++gq){gp[gq]()}}function aQ(gp,gr,gq){if(typeof gr=="string"){gr={type:gr,preventDefault:function(){this.defaultPrevented=true}}}aD(gp,gq||gr.type,gp,gr);return bK(gr)||gr.codemirrorIgnore}function V(gq){var gp=gq._handlers&&gq._handlers.cursorActivity;if(!gp){return}var gs=gq.curOp.cursorActivityHandlers||(gq.curOp.cursorActivityHandlers=[]);for(var gr=0;gr<gp.length;++gr){if(dh(gs,gp[gr])==-1){gs.push(gp[gr])}}}function fn(gq,gp){return en(gq,gp).length>0}function bx(gp){gp.prototype.on=function(gq,gr){bW(this,gq,gr)};gp.prototype.off=function(gq,gr){ef(this,gq,gr)}}var dJ=30;var b9=H.Pass={toString:function(){return"CodeMirror.Pass"}};var Z={scroll:false},M={origin:"*mouse"},cV={origin:"+move"};function go(){this.id=null}go.prototype.set=function(gp,gq){clearTimeout(this.id);this.id=setTimeout(gq,gp)};var bS=H.countColumn=function(gs,gq,gu,gv,gr){if(gq==null){gq=gs.search(/[^\s\u00a0]/);if(gq==-1){gq=gs.length}}for(var gt=gv||0,gw=gr||0;;){var gp=gs.indexOf("\t",gt);if(gp<0||gp>=gq){return gw+(gq-gt)}gw+=gp-gt;gw+=gu-(gw%gu);gt=gp+1}};var et=H.findColumn=function(gt,gs,gu){for(var gv=0,gr=0;;){var gq=gt.indexOf("\t",gv);if(gq==-1){gq=gt.length}var gp=gq-gv;if(gq==gt.length||gr+gp>=gs){return gv+Math.min(gp,gs-gr)}gr+=gq-gv;gr+=gu-(gr%gu);gv=gq+1;if(gr>=gs){return gv}}};var aZ=[""];function co(gp){while(aZ.length<=gp){aZ.push(fL(aZ)+" ")}return aZ[gp]}function fL(gp){return gp[gp.length-1]}var dL=function(gp){gp.select()};if(e5){dL=function(gp){gp.selectionStart=0;gp.selectionEnd=gp.value.length}}else{if(dK){dL=function(gq){try{gq.select()}catch(gp){}}}}function dh(gr,gp){for(var gq=0;gq<gr.length;++gq){if(gr[gq]==gp){return gq}}return -1}function bR(gs,gr){var gp=[];for(var gq=0;gq<gs.length;gq++){gp[gq]=gr(gs[gq],gq)}return gp}function f0(){}function cj(gr,gp){var gq;if(Object.create){gq=Object.create(gr)}else{f0.prototype=gr;gq=new f0()}if(gp){aM(gp,gq)}return gq}function aM(gr,gq,gp){if(!gq){gq={}}for(var gs in gr){if(gr.hasOwnProperty(gs)&&(gp!==false||!gq.hasOwnProperty(gs))){gq[gs]=gr[gs]}}return gq}function cu(gq){var gp=Array.prototype.slice.call(arguments,1);return function(){return gq.apply(null,gp)}}var bb=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;var fI=H.isWordChar=function(gp){return/\w/.test(gp)||gp>"\x80"&&(gp.toUpperCase()!=gp.toLowerCase()||bb.test(gp))};function cz(gp,gq){if(!gq){return fI(gp)}if(gq.source.indexOf("\\w")>-1&&fI(gp)){return true}return gq.test(gp)}function eY(gp){for(var gq in gp){if(gp.hasOwnProperty(gq)&&gp[gq]){return false}}return true}var eN=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function fu(gp){return gp.charCodeAt(0)>=768&&eN.test(gp)}function f8(gp,gt,gs,gr){var gu=document.createElement(gp);if(gs){gu.className=gs}if(gr){gu.style.cssText=gr}if(typeof gt=="string"){gu.appendChild(document.createTextNode(gt))}else{if(gt){for(var gq=0;gq<gt.length;++gq){gu.appendChild(gt[gq])}}}return gu}var ck;if(document.createRange){ck=function(gs,gt,gq,gp){var gr=document.createRange();gr.setEnd(gp||gs,gq);gr.setStart(gs,gt);return gr}}else{ck=function(gr,gt,gp){var gq=document.body.createTextRange();try{gq.moveToElementText(gr.parentNode)}catch(gs){return gq}gq.collapse(true);gq.moveEnd("character",gp);gq.moveStart("character",gt);return gq}}function d2(gq){for(var gp=gq.childNodes.length;gp>0;--gp){gq.removeChild(gq.firstChild)}return gq}function bQ(gp,gq){return d2(gp).appendChild(gq)}var gg=H.contains=function(gp,gq){if(gq.nodeType==3){gq=gq.parentNode}if(gp.contains){return gp.contains(gq)}do{if(gq.nodeType==11){gq=gq.host}if(gq==gp){return true}}while(gq=gq.parentNode)};function dO(){var gp=document.activeElement;while(gp&&gp.root&&gp.root.activeElement){gp=gp.root.activeElement}return gp}if(dK&&k<11){dO=function(){try{return document.activeElement}catch(gp){return document.body}}}function S(gp){return new RegExp("(^|\\s)"+gp+"(?:$|\\s)\\s*")}var f=H.rmClass=function(gr,gp){var gs=gr.className;var gq=S(gp).exec(gs);if(gq){var gt=gs.slice(gq.index+gq[0].length);gr.className=gs.slice(0,gq.index)+(gt?gq[1]+gt:"")}};var fF=H.addClass=function(gq,gp){var gr=gq.className;if(!S(gp).test(gr)){gq.className+=(gr?" ":"")+gp}};function fY(gr,gp){var gq=gr.split(" ");for(var gs=0;gs<gq.length;gs++){if(gq[gs]&&!S(gq[gs]).test(gp)){gp+=" "+gq[gs]}}return gp}function az(gs){if(!document.body.getElementsByClassName){return}var gr=document.body.getElementsByClassName("CodeMirror");for(var gq=0;gq<gr.length;gq++){var gp=gr[gq].CodeMirror;if(gp){gs(gp)}}}var cB=false;function bi(){if(cB){return}fJ();cB=true}function fJ(){var gp;bW(window,"resize",function(){if(gp==null){gp=setTimeout(function(){gp=null;az(aS)},100)}});bW(window,"blur",function(){az(aU)})}var eP=function(){if(dK&&k<9){return false}var gp=f8("div");return"draggable" in gp||"dragDrop" in gp}();var fQ;function bm(gp){if(fQ==null){var gr=f8("span","\u200b");bQ(gp,f8("span",[gr,document.createTextNode("x")]));if(gp.firstChild.offsetHeight!=0){fQ=gr.offsetWidth<=1&&gr.offsetHeight>2&&!(dK&&k<8)}}var gq=fQ?f8("span","\u200b"):f8("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px");gq.setAttribute("cm-text","");return gq}var fP;function bN(gs){if(fP!=null){return fP}var gp=bQ(gs,document.createTextNode("A\u062eA"));var gr=ck(gp,0,1).getBoundingClientRect();if(!gr||gr.left==gr.right){return false}var gq=ck(gp,1,2).getBoundingClientRect();return fP=(gq.right-gr.right<3)}var fX=H.splitLines="\n\nb".split(/\n/).length!=3?function(gu){var gv=0,gp=[],gt=gu.length;while(gv<=gt){var gs=gu.indexOf("\n",gv);if(gs==-1){gs=gu.length}var gr=gu.slice(gv,gu.charAt(gs-1)=="\r"?gs-1:gs);var gq=gr.indexOf("\r");if(gq!=-1){gp.push(gr.slice(0,gq));gv+=gq+1}else{gp.push(gr);gv=gs+1}}return gp}:function(gp){return gp.split(/\r\n?|\n/)};var br=window.getSelection?function(gq){try{return gq.selectionStart!=gq.selectionEnd}catch(gp){return false}}:function(gr){try{var gp=gr.ownerDocument.selection.createRange()}catch(gq){}if(!gp||gp.parentElement()!=gr){return false}return gp.compareEndPoints("StartToEnd",gp)!=0};var c9=(function(){var gp=f8("div");if("oncopy" in gp){return true}gp.setAttribute("oncopy","return;");return typeof gp.oncopy=="function"})();var fb=null;function aJ(gq){if(fb!=null){return fb}var gr=bQ(gq,f8("span","x"));var gs=gr.getBoundingClientRect();var gp=ck(gr,0,1).getBoundingClientRect();return fb=Math.abs(gs.left-gp.left)>1}var fl=H.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};(function(){for(var gp=0;gp<10;gp++){fl[gp+48]=fl[gp+96]=String(gp)}for(var gp=65;gp<=90;gp++){fl[gp]=String.fromCharCode(gp)}for(var gp=1;gp<=12;gp++){fl[gp+111]=fl[gp+63235]="F"+gp}})();function d5(gp,gv,gu,gt){if(!gp){return gt(gv,gu,"ltr")}var gs=false;for(var gr=0;gr<gp.length;++gr){var gq=gp[gr];if(gq.from<gu&&gq.to>gv||gv==gu&&gq.to==gv){gt(Math.max(gq.from,gv),Math.min(gq.to,gu),gq.level==1?"rtl":"ltr");gs=true}}if(!gs){gt(gv,gu,"ltr")}}function dy(gp){return gp.level%2?gp.to:gp.from}function gj(gp){return gp.level%2?gp.from:gp.to}function cD(gq){var gp=a(gq);return gp?dy(gp[0]):0}function cR(gq){var gp=a(gq);if(!gp){return gq.text.length}return gj(fL(gp))}function bs(gq,gt){var gr=fk(gq.doc,gt);var gu=x(gr);if(gu!=gr){gt=bM(gu)}var gp=a(gu);var gs=!gp?0:gp[0].level%2?cR(gu):cD(gu);return W(gt,gs)}function dP(gr,gu){var gq,gs=fk(gr.doc,gu);while(gq=ex(gs)){gs=gq.find(1,true).line;gu=null}var gp=a(gs);var gt=!gp?gs.text.length:gp[0].level%2?cD(gs):cR(gs);return W(gu==null?bM(gs):gu,gt)}function dI(gq,gv){var gu=bs(gq,gv.line);var gr=fk(gq.doc,gu.line);var gp=a(gr);if(!gp||gp[0].level==0){var gt=Math.max(0,gr.text.search(/\S/));var gs=gv.line==gu.line&&gv.ch<=gt&&gv.ch;return W(gu.line,gs?0:gt)}return gu}function am(gq,gr,gp){var gs=gq[0].level;if(gr==gs){return true}if(gp==gs){return false}return gr<gp}var e6;function aF(gp,gt){e6=null;for(var gq=0,gr;gq<gp.length;++gq){var gs=gp[gq];if(gs.from<gt&&gs.to>gt){return gq}if((gs.from==gt||gs.to==gt)){if(gr==null){gr=gq}else{if(am(gp,gs.level,gp[gr].level)){if(gs.from!=gs.to){e6=gr}return gq}else{if(gs.from!=gs.to){e6=gq}return gr}}}}return gr}function fj(gp,gs,gq,gr){if(!gr){return gs+gq}do{gs+=gq}while(gs>0&&fu(gp.text.charAt(gs)));return gs}function u(gp,gw,gr,gs){var gt=a(gp);if(!gt){return ai(gp,gw,gr,gs)}var gv=aF(gt,gw),gq=gt[gv];var gu=fj(gp,gw,gq.level%2?-gr:gr,gs);for(;;){if(gu>gq.from&&gu<gq.to){return gu}if(gu==gq.from||gu==gq.to){if(aF(gt,gu)==gv){return gu}gq=gt[gv+=gr];return(gr>0)==gq.level%2?gq.to:gq.from}else{gq=gt[gv+=gr];if(!gq){return null}if((gr>0)==gq.level%2){gu=fj(gp,gq.to,-1,gs)}else{gu=fj(gp,gq.from,1,gs)}}}}function ai(gp,gt,gq,gr){var gs=gt+gq;if(gr){while(gs>0&&fu(gp.text.charAt(gs))){gs+=gq}}return gs<0||gs>gp.text.length?null:gs}var bg=(function(){var gv="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";var gt="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm";function gs(gz){if(gz<=247){return gv.charAt(gz)}else{if(1424<=gz&&gz<=1524){return"R"}else{if(1536<=gz&&gz<=1773){return gt.charAt(gz-1536)}else{if(1774<=gz&&gz<=2220){return"r"}else{if(8192<=gz&&gz<=8203){return"w"}else{if(gz==8204){return"b"}else{return"L"}}}}}}}var gp=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var gy=/[stwN]/,gr=/[LRr]/,gq=/[Lb1n]/,gu=/[1n]/;var gx="L";function gw(gB,gA,gz){this.level=gB;this.from=gA;this.to=gz}return function(gJ){if(!gp.test(gJ)){return false}var gP=gJ.length,gF=[];for(var gO=0,gB;gO<gP;++gO){gF.push(gB=gs(gJ.charCodeAt(gO)))}for(var gO=0,gI=gx;gO<gP;++gO){var gB=gF[gO];if(gB=="m"){gF[gO]=gI}else{gI=gB}}for(var gO=0,gz=gx;gO<gP;++gO){var gB=gF[gO];if(gB=="1"&&gz=="r"){gF[gO]="n"}else{if(gr.test(gB)){gz=gB;if(gB=="r"){gF[gO]="R"}}}}for(var gO=1,gI=gF[0];gO<gP-1;++gO){var gB=gF[gO];if(gB=="+"&&gI=="1"&&gF[gO+1]=="1"){gF[gO]="1"}else{if(gB==","&&gI==gF[gO+1]&&(gI=="1"||gI=="n")){gF[gO]=gI}}gI=gB}for(var gO=0;gO<gP;++gO){var gB=gF[gO];if(gB==","){gF[gO]="N"}else{if(gB=="%"){for(var gC=gO+1;gC<gP&&gF[gC]=="%";++gC){}var gQ=(gO&&gF[gO-1]=="!")||(gC<gP&&gF[gC]=="1")?"1":"N";for(var gM=gO;gM<gC;++gM){gF[gM]=gQ}gO=gC-1}}}for(var gO=0,gz=gx;gO<gP;++gO){var gB=gF[gO];if(gz=="L"&&gB=="1"){gF[gO]="L"}else{if(gr.test(gB)){gz=gB}}}for(var gO=0;gO<gP;++gO){if(gy.test(gF[gO])){for(var gC=gO+1;gC<gP&&gy.test(gF[gC]);++gC){}var gG=(gO?gF[gO-1]:gx)=="L";var gA=(gC<gP?gF[gC]:gx)=="L";var gQ=gG||gA?"L":"R";for(var gM=gO;gM<gC;++gM){gF[gM]=gQ}gO=gC-1}}var gN=[],gK;for(var gO=0;gO<gP;){if(gq.test(gF[gO])){var gD=gO;for(++gO;gO<gP&&gq.test(gF[gO]);++gO){}gN.push(new gw(0,gD,gO))}else{var gE=gO,gH=gN.length;for(++gO;gO<gP&&gF[gO]!="L";++gO){}for(var gM=gE;gM<gO;){if(gu.test(gF[gM])){if(gE<gM){gN.splice(gH,0,new gw(1,gE,gM))}var gL=gM;for(++gM;gM<gO&&gu.test(gF[gM]);++gM){}gN.splice(gH,0,new gw(2,gL,gM));gE=gM}else{++gM}}if(gE<gO){gN.splice(gH,0,new gw(1,gE,gO))}}}if(gN[0].level==1&&(gK=gJ.match(/^\s+/))){gN[0].from=gK[0].length;gN.unshift(new gw(0,0,gK[0].length))}if(fL(gN).level==1&&(gK=gJ.match(/\s+$/))){fL(gN).to-=gK[0].length;gN.push(new gw(0,gP-gK[0].length,gP))}if(gN[0].level==2){gN.unshift(new gw(1,gN[0].to,gN[0].to))}if(gN[0].level!=fL(gN).level){gN.push(new gw(gN[0].level,gP,gP))}return gN}})();H.version="5.11.0";return H});
/*!
 * jQuery contextMenu v2.1.0 - Plugin for simple contextMenu handling
 *
 * Version: v2.1.0
 *
 * Authors: Bjrn Brala (SWIS.nl), Rodney Rehm, Addy Osmani (patches for FF)
 * Web: http://swisnl.github.io/jQuery-contextMenu/
 *
 * Copyright (c) 2011-2016 SWIS BV and contributors
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *   GPL v3 http://opensource.org/licenses/GPL-3.0
 *
 * Date: 2016-01-08T20:22:21.900Z
 */
;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(z){function E(f){for(var d,i=f.split(/\s+/),c=[],h=0;d=i[h];h++){d=d.charAt(0).toUpperCase(),c.push(d)}return c}function k(a){return a.id&&z('label[for="'+a.id+'"]').val()||a.name}function C(a,d,c){return c||(c=0),d.each(function(){var m,f,n=z(this),h=this,e=this.nodeName.toLowerCase();switch("label"===e&&n.find("input, textarea, select").length&&(m=n.text(),n=n.children().first(),h=n.get(0),e=h.nodeName.toLowerCase()),e){case"menu":f={name:n.attr("label"),items:{}},c=C(f.items,n.children(),c);break;case"a":case"button":f={name:n.text(),disabled:!!n.attr("disabled"),callback:function(){return function(){n.click()}}()};break;case"menuitem":case"command":switch(n.attr("type")){case void 0:case"command":case"menuitem":f={name:n.attr("label"),disabled:!!n.attr("disabled"),icon:n.attr("icon"),callback:function(){return function(){n.click()}}()};break;case"checkbox":f={type:"checkbox",disabled:!!n.attr("disabled"),name:n.attr("label"),selected:!!n.attr("checked")};break;case"radio":f={type:"radio",disabled:!!n.attr("disabled"),name:n.attr("label"),radio:n.attr("radiogroup"),value:n.attr("id"),selected:!!n.attr("checked")};break;default:f=void 0}break;case"hr":f="-------";break;case"input":switch(n.attr("type")){case"text":f={type:"text",name:m||k(h),disabled:!!n.attr("disabled"),value:n.val()};break;case"checkbox":f={type:"checkbox",name:m||k(h),disabled:!!n.attr("disabled"),selected:!!n.attr("checked")};break;case"radio":f={type:"radio",name:m||k(h),disabled:!!n.attr("disabled"),radio:!!n.attr("name"),value:n.val(),selected:!!n.attr("checked")};break;default:f=void 0}break;case"select":f={type:"select",name:m||k(h),disabled:!!n.attr("disabled"),selected:n.val(),options:{}},n.children().each(function(){f.options[this.value]=z(this).text()});break;case"textarea":f={type:"textarea",name:m||k(h),disabled:!!n.attr("disabled"),value:n.val()};break;case"label":break;default:f={type:"html",html:n.clone(!0)}}f&&(c++,a["key"+c]=f)}),c}z.support.htmlMenuitem="HTMLMenuItemElement" in window,z.support.htmlCommand="HTMLCommandElement" in window,z.support.eventSelectstart="onselectstart" in document.documentElement,z.ui&&z.widget||(z.cleanData=function(a){return function(h){var c,f,e;for(e=0;null!=(f=h[e]);e++){try{c=z._data(f,"events"),c&&c.remove&&z(f).triggerHandler("remove")}catch(d){}}a(h)}}(z.cleanData));var j=null,F=!1,w=z(window),B=0,b={},v={},D={},A={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,classNames:{hover:"context-menu-hover",disabled:"context-menu-disabled",visible:"context-menu-visible",notSelectable:"context-menu-not-selectable",icon:"context-menu-icon",iconEdit:"context-menu-icon-edit",iconCut:"context-menu-icon-cut",iconCopy:"context-menu-icon-copy",iconPaste:"context-menu-icon-paste",iconDelete:"context-menu-icon-delete",iconAdd:"context-menu-icon-add",iconQuit:"context-menu-icon-quit"},determinePosition:function(a){if(z.ui&&z.ui.position){a.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none")}else{var c=this.offset();c.top+=this.outerHeight(),c.left+=this.outerWidth()/2-a.outerWidth()/2,a.css(c)}},position:function(l,f,u){var d;if(!f&&!u){return void l.determinePosition.call(this,l.$menu)}d="maintain"===f&&"maintain"===u?l.$menu.position():{top:u,left:f};var m=w.scrollTop()+w.height(),h=w.scrollLeft()+w.width(),p=l.$menu.outerHeight(),i=l.$menu.outerWidth();d.top+p>m&&(d.top-=p),d.top<0&&(d.top=0),d.left+i>h&&(d.left-=i),d.left<0&&(d.left=0),l.$menu.css(d)},positionSubmenu:function(a){if(z.ui&&z.ui.position){a.css("display","block").position({my:"left top",at:"right top",of:this,collision:"flipfit fit"}).css("display","")}else{var c={top:0,left:this.outerWidth()};a.css(c)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:z.noop,hide:z.noop},callback:null,items:{}},q={timer:null,pageX:null,pageY:null},g=function(c){for(var a=0,d=c;;){if(a=Math.max(a,parseInt(d.css("z-index"),10)||0),d=d.parent(),!d||!d.length||"html body".indexOf(d.prop("nodeName").toLowerCase())>-1){break}}return a},y={abortevent:function(a){a.preventDefault(),a.stopImmediatePropagation()},contextmenu:function(h){var u=z(this);if("right"===h.data.trigger&&(h.preventDefault(),h.stopImmediatePropagation()),!("right"!==h.data.trigger&&"demand"!==h.data.trigger&&h.originalEvent||!(void 0===h.mouseButton||!h.data||"left"==h.data.trigger&&0===h.mouseButton||"right"==h.data.trigger&&2===h.mouseButton)||u.hasClass("context-menu-active")||u.hasClass("context-menu-disabled"))){if(j=u,h.data.build){var e=h.data.build(j,h);if(e===!1){return}if(h.data=z.extend(!0,{},A,h.data,e||{}),!h.data.items||z.isEmptyObject(h.data.items)){throw window.console&&(console.error||console.log).call(console,"No items specified to show in contextMenu"),new Error("No Items specified")}h.data.$trigger=j,x.create(h.data)}var m=!1;for(var f in h.data.items){if(h.data.items.hasOwnProperty(f)){var p;p=z.isFunction(h.data.items[f].visible)?h.data.items[f].visible.call(z(h.currentTarget),f,h.data):"undefined"!=typeof f.visible?h.data.items[f].visible===!0:!0,p&&(m=!0)}}if(m){var o=z(null===h.data.appendTo?"body":h.data.appendTo),d=h.target||h.srcElement||h.originalTarget;x.show.call(u,h.data,z(d).offset().left-o.offset().left+h.offsetX,z(d).offset().top-o.offset().top+h.offsetY)}}},click:function(a){a.preventDefault(),a.stopImmediatePropagation(),z(this).trigger(z.Event("contextmenu",{data:a.data,pageX:a.pageX,pageY:a.pageY}))},mousedown:function(a){var c=z(this);j&&j.length&&!j.is(c)&&j.data("contextMenu").$menu.trigger("contextmenu:hide"),2===a.button&&(j=c.data("contextMenuActive",!0))},mouseup:function(a){var c=z(this);c.data("contextMenuActive")&&j&&j.length&&j.is(c)&&!c.hasClass("context-menu-disabled")&&(a.preventDefault(),a.stopImmediatePropagation(),j=c,c.trigger(z.Event("contextmenu",{data:a.data,pageX:a.pageX,pageY:a.pageY}))),c.removeData("contextMenuActive")},mouseenter:function(d){var f=z(this),c=z(d.relatedTarget),e=z(document);c.is(".context-menu-list")||c.closest(".context-menu-list").length||j&&j.length||(q.pageX=d.pageX,q.pageY=d.pageY,q.data=d.data,e.on("mousemove.contextMenuShow",y.mousemove),q.timer=setTimeout(function(){q.timer=null,e.off("mousemove.contextMenuShow"),j=f,f.trigger(z.Event("contextmenu",{data:q.data,pageX:q.pageX,pageY:q.pageY}))},d.data.delay))},mousemove:function(a){q.pageX=a.pageX,q.pageY=a.pageY},mouseleave:function(a){var c=z(a.relatedTarget);if(!c.is(".context-menu-list")&&!c.closest(".context-menu-list").length){try{clearTimeout(q.timer)}catch(a){}q.timer=null}},layerClick:function(f){var u,e,m=z(this),h=m.data("contextMenuRoot"),p=f.button,i=f.pageX,d=f.pageY;f.preventDefault(),f.stopImmediatePropagation(),setTimeout(function(){var c,a="left"===h.trigger&&0===p||"right"===h.trigger&&2===p;if(document.elementFromPoint&&h.$layer&&(h.$layer.hide(),u=document.elementFromPoint(i-w.scrollLeft(),d-w.scrollTop()),h.$layer.show()),h.reposition&&a){if(document.elementFromPoint){if(h.$trigger.is(u)||h.$trigger.has(u).length){return void h.position.call(h.$trigger,h,i,d)}}else{if(e=h.$trigger.offset(),c=z(window),e.top+=c.scrollTop(),e.top<=f.pageY&&(e.left+=c.scrollLeft(),e.left<=f.pageX&&(e.bottom=e.top+h.$trigger.outerHeight(),e.bottom>=f.pageY&&(e.right=e.left+h.$trigger.outerWidth(),e.right>=f.pageX)))){return void h.position.call(h.$trigger,h,i,d)}}}u&&a&&h.$trigger.one("contextmenu:hidden",function(){z(u).contextMenu({x:i,y:d,button:p})}),h.$menu.trigger("contextmenu:hide")},50)},keyStop:function(c,a){a.isInput||c.preventDefault(),c.stopPropagation()},key:function(m){var h={};j&&(h=j.data("contextMenu")||{}),void 0===h.zIndex&&(h.zIndex=0);var p=0,d=function(a){""!==a.style.zIndex?p=a.style.zIndex:null!==a.offsetParent&&void 0!==a.offsetParent?d(a.offsetParent):null!==a.parentElement&&void 0!==a.parentElement&&d(a.parentElement)};if(d(m.target),!(p>h.zIndex)){switch(m.keyCode){case 9:case 38:if(y.keyStop(m,h),h.isInput){if(9===m.keyCode&&m.shiftKey){return m.preventDefault(),h.$selected&&h.$selected.find("input, textarea, select").blur(),void h.$menu.trigger("prevcommand")}if(38===m.keyCode&&"checkbox"===h.$selected.find("input, textarea, select").prop("type")){return void m.preventDefault()}}else{if(9!==m.keyCode||m.shiftKey){return void h.$menu.trigger("prevcommand")}}case 40:if(y.keyStop(m,h),!h.isInput){return void h.$menu.trigger("nextcommand")}if(9===m.keyCode){return m.preventDefault(),h.$selected&&h.$selected.find("input, textarea, select").blur(),void h.$menu.trigger("nextcommand")}if(40===m.keyCode&&"checkbox"===h.$selected.find("input, textarea, select").prop("type")){return void m.preventDefault()}break;case 37:if(y.keyStop(m,h),h.isInput||!h.$selected||!h.$selected.length){break}if(!h.$selected.parent().hasClass("context-menu-root")){var l=h.$selected.parent().parent();return h.$selected.trigger("contextmenu:blur"),void (h.$selected=l)}break;case 39:if(y.keyStop(m,h),h.isInput||!h.$selected||!h.$selected.length){break}var f=h.$selected.data("contextMenu")||{};if(f.$menu&&h.$selected.hasClass("context-menu-submenu")){return h.$selected=null,f.$selected=null,void f.$menu.trigger("nextcommand")}break;case 35:case 36:return h.$selected&&h.$selected.find("input, textarea, select").length?void 0:((h.$selected&&h.$selected.parent()||h.$menu).children(":not(."+h.classNames.disabled+", ."+h.classNames.notSelectable+")")[36===m.keyCode?"first":"last"]().trigger("contextmenu:focus"),void m.preventDefault());case 13:if(y.keyStop(m,h),h.isInput){if(h.$selected&&!h.$selected.is("textarea, select")){return void m.preventDefault()}break}return void ("undefined"!=typeof h.$selected&&null!==h.$selected&&h.$selected.trigger("mouseup"));case 32:case 33:case 34:return void y.keyStop(m,h);case 27:return y.keyStop(m,h),void h.$menu.trigger("contextmenu:hide");default:var o=String.fromCharCode(m.keyCode).toUpperCase();if(h.accesskeys&&h.accesskeys[o]){return void h.accesskeys[o].$node.trigger(h.accesskeys[o].$menu?"contextmenu:focus":"mouseup")}}m.stopPropagation(),"undefined"!=typeof h.$selected&&null!==h.$selected&&h.$selected.trigger(m)}},prevItem:function(f){f.stopPropagation();var u=z(this).data("contextMenu")||{},d=z(this).data("contextMenuRoot")||{};if(u.$selected){var m=u.$selected;u=u.$selected.parent().data("contextMenu")||{},u.$selected=m}for(var h=u.$menu.children(),e=u.$selected&&u.$selected.prev().length?u.$selected.prev():h.last(),p=e;e.hasClass(d.classNames.disabled)||e.hasClass(d.classNames.notSelectable);){if(e=e.prev().length?e.prev():h.last(),e.is(p)){return}}u.$selected&&y.itemMouseleave.call(u.$selected.get(0),f),y.itemMouseenter.call(e.get(0),f);var l=e.find("input, textarea, select");l.length&&l.focus()},nextItem:function(f){f.stopPropagation();var u=z(this).data("contextMenu")||{},d=z(this).data("contextMenuRoot")||{};if(u.$selected){var m=u.$selected;u=u.$selected.parent().data("contextMenu")||{},u.$selected=m}for(var h=u.$menu.children(),e=u.$selected&&u.$selected.next().length?u.$selected.next():h.first(),p=e;e.hasClass(d.classNames.disabled)||e.hasClass(d.classNames.notSelectable);){if(e=e.next().length?e.next():h.first(),e.is(p)){return}}u.$selected&&y.itemMouseleave.call(u.$selected.get(0),f),y.itemMouseenter.call(e.get(0),f);var l=e.find("input, textarea, select");l.length&&l.focus()},focusInput:function(){var d=z(this).closest(".context-menu-item"),f=d.data(),c=f.contextMenu,e=f.contextMenuRoot;e.$selected=c.$selected=d,e.isInput=c.isInput=!0},blurInput:function(){var d=z(this).closest(".context-menu-item"),f=d.data(),c=f.contextMenu,e=f.contextMenuRoot;e.isInput=c.isInput=!1},menuMouseenter:function(){var a=z(this).data().contextMenuRoot;a.hovering=!0},menuMouseleave:function(a){var c=z(this).data().contextMenuRoot;c.$layer&&c.$layer.is(a.relatedTarget)&&(c.hovering=!1)},itemMouseenter:function(d){var h=z(this),c=h.data(),f=c.contextMenu,e=c.contextMenuRoot;return e.hovering=!0,d&&e.$layer&&e.$layer.is(d.relatedTarget)&&(d.preventDefault(),d.stopImmediatePropagation()),(f.$menu?f:e).$menu.children(".hover").trigger("contextmenu:blur"),h.hasClass(e.classNames.disabled)||h.hasClass(e.classNames.notSelectable)?void (f.$selected=null):void h.trigger("contextmenu:focus")},itemMouseleave:function(d){var h=z(this),c=h.data(),f=c.contextMenu,e=c.contextMenuRoot;return e!==f&&e.$layer&&e.$layer.is(d.relatedTarget)?("undefined"!=typeof e.$selected&&null!==e.$selected&&e.$selected.trigger("contextmenu:blur"),d.preventDefault(),d.stopImmediatePropagation(),void (e.$selected=f.$selected=f.$node)):void h.trigger("contextmenu:blur")},itemClick:function(f){var p,d=z(this),l=d.data(),h=l.contextMenu,e=l.contextMenuRoot,m=l.contextMenuKey;if(h.items[m]&&!d.is("."+e.classNames.disabled+", .context-menu-submenu, .context-menu-separator, ."+e.classNames.notSelectable)){if(f.preventDefault(),f.stopImmediatePropagation(),z.isFunction(e.callbacks[m])&&Object.prototype.hasOwnProperty.call(e.callbacks,m)){p=e.callbacks[m]}else{if(!z.isFunction(e.callback)){return}p=e.callback}p.call(e.$trigger,m,e)!==!1?e.$menu.trigger("contextmenu:hide"):e.$menu.parent().length&&x.update.call(e.$trigger,e)}},inputClick:function(a){a.stopImmediatePropagation()},hideMenu:function(d,e){var c=z(this).data("contextMenuRoot");x.hide.call(c.$trigger,c,e&&e.force)},focusItem:function(d){d.stopPropagation();var h=z(this),c=h.data(),f=c.contextMenu,e=c.contextMenuRoot;h.addClass([e.classNames.hover,e.classNames.visible].join(" ")).siblings().removeClass(e.classNames.visible).filter(e.classNames.hover).trigger("contextmenu:blur"),f.$selected=e.$selected=h,f.$node&&e.positionSubmenu.call(f.$node,f.$menu)},blurItem:function(d){d.stopPropagation();var h=z(this),c=h.data(),f=c.contextMenu,e=c.contextMenuRoot;f.autoHide&&h.removeClass(e.classNames.visible),h.removeClass(e.classNames.hover),f.$selected=null}},x={show:function(f,m,d){var h=z(this),e={};if(z("#context-menu-layer").trigger("mousedown"),f.$trigger=h,f.events.show.call(h,f)===!1){return void (j=null)}if(x.update.call(h,f),f.position.call(h,f,m,d),f.zIndex){var l=f.zIndex;"function"==typeof f.zIndex&&(l=f.zIndex.call(h,f)),e.zIndex=g(h)+l}x.layer.call(f.$menu,f,e.zIndex),f.$menu.find("ul").css("zIndex",e.zIndex+1),f.$menu.css(e)[f.animation.show](f.animation.duration,function(){h.trigger("contextmenu:visible")}),h.data("contextMenu",f).addClass("context-menu-active"),z(document).off("keydown.contextMenu").on("keydown.contextMenu",y.key),f.autoHide&&z(document).on("mousemove.contextMenuAutoHide",function(a){var c=h.offset();c.right=c.left+h.outerWidth(),c.bottom=c.top+h.outerHeight(),!f.$layer||f.hovering||a.pageX>=c.left&&a.pageX<=c.right&&a.pageY>=c.top&&a.pageY<=c.bottom||f.$menu.trigger("contextmenu:hide")})},hide:function(d,f){var c=z(this);if(d||(d=c.data("contextMenu")||{}),f||!d.events||d.events.hide.call(c,d)!==!1){if(c.removeData("contextMenu").removeClass("context-menu-active"),d.$layer){setTimeout(function(a){return function(){a.remove()}}(d.$layer),10);try{delete d.$layer}catch(e){d.$layer=null}}j=null,d.$menu.find("."+d.classNames.hover).trigger("contextmenu:blur"),d.$selected=null,z(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),d.$menu&&d.$menu[d.animation.hide](d.animation.duration,function(){d.build&&(d.$menu.remove(),z.each(d,function(a){switch(a){case"ns":case"selector":case"build":case"trigger":return !0;default:d[a]=void 0;try{delete d[a]}catch(h){}return !0}})),setTimeout(function(){c.trigger("contextmenu:hidden")},10)})}},create:function(e,c){function d(a){var f=z("<span></span>");return a._accesskey?(a._beforeAccesskey&&f.append(document.createTextNode(a._beforeAccesskey)),z("<span></span>").addClass("context-menu-accesskey").text(a._accesskey).appendTo(f),a._afterAccesskey&&f.append(document.createTextNode(a._afterAccesskey))):f.text(a.name),f}void 0===c&&(c=e),e.$menu=z('<ul class="context-menu-list"></ul>').addClass(e.className||"").data({contextMenu:e,contextMenuRoot:c}),z.each(["callbacks","commands","inputs"],function(f,a){e[a]={},c[a]||(c[a]={})}),c.accesskeys||(c.accesskeys={}),z.each(e.items,function(H,o){var u=z('<li class="context-menu-item"></li>').addClass(o.className||""),a=null,n=null;if(u.on("click",z.noop),"string"==typeof o&&(o={type:"cm_seperator"}),o.$node=u.data({contextMenu:e,contextMenuRoot:c,contextMenuKey:H}),"undefined"!=typeof o.accesskey){for(var t,h=E(o.accesskey),f=0;t=h[f];f++){if(!c.accesskeys[t]){c.accesskeys[t]=o;var G=o.name.match(new RegExp("^(.*?)("+t+")(.*)$","i"));G&&(o._beforeAccesskey=G[1],o._accesskey=G[2],o._afterAccesskey=G[3]);break}}}if(o.type&&D[o.type]){D[o.type].call(u,o,e,c),z.each([e,c],function(i,l){l.commands[H]=o,z.isFunction(o.callback)&&(l.callbacks[H]=o.callback)})}else{switch("cm_seperator"===o.type?u.addClass("context-menu-separator "+c.classNames.notSelectable):"html"===o.type?u.addClass("context-menu-html "+c.classNames.notSelectable):o.type?(a=z("<label></label>").appendTo(u),d(o).appendTo(a),u.addClass("context-menu-input"),e.hasTypes=!0,z.each([e,c],function(l,i){i.commands[H]=o,i.inputs[H]=o})):o.items&&(o.type="sub"),o.type){case"cm_seperator":break;case"text":n=z('<input type="text" value="1" name="" value="">').attr("name","context-menu-input-"+H).val(o.value||"").appendTo(a);break;case"textarea":n=z('<textarea name=""></textarea>').attr("name","context-menu-input-"+H).val(o.value||"").appendTo(a),o.height&&n.height(o.height);break;case"checkbox":n=z('<input type="checkbox" value="1" name="" value="">').attr("name","context-menu-input-"+H).val(o.value||"").prop("checked",!!o.selected).prependTo(a);break;case"radio":n=z('<input type="radio" value="1" name="" value="">').attr("name","context-menu-input-"+o.radio).val(o.value||"").prop("checked",!!o.selected).prependTo(a);break;case"select":n=z('<select name="">').attr("name","context-menu-input-"+H).appendTo(a),o.options&&(z.each(o.options,function(i,l){z("<option></option>").val(i).text(l).appendTo(n)}),n.val(o.selected));break;case"sub":d(o).appendTo(u),o.appendTo=o.$node,x.create(o,c),u.data("contextMenu",o).addClass("context-menu-submenu"),o.callback=null;break;case"html":z(o.html).appendTo(u);break;default:z.each([e,c],function(i,l){l.commands[H]=o,z.isFunction(o.callback)&&(l.callbacks[H]=o.callback)}),d(o).appendTo(u)}o.type&&"sub"!==o.type&&"html"!==o.type&&"cm_seperator"!==o.type&&(n.on("focus",y.focusInput).on("blur",y.blurInput),o.events&&n.on(o.events,e)),o.icon&&(z.isFunction(o.icon)?o._icon=o.icon.call(this,this,u,H,o):o._icon=c.classNames.icon+" "+c.classNames.icon+"-"+o.icon,u.addClass(o._icon))}o.$input=n,o.$label=a,u.appendTo(e.$menu),!e.hasTypes&&z.support.eventSelectstart&&u.on("selectstart.disableTextSelect",y.abortevent)}),e.$node||e.$menu.css("display","none").addClass("context-menu-root"),e.$menu.appendTo(e.appendTo||document.body)},resize:function(a,c){a.css({position:"absolute",display:"block"}),a.data("width",Math.ceil(a.outerWidth())),a.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),a.find("> li > ul").each(function(){x.resize(z(this),!0)}),c||a.find("ul").addBack().css({position:"",display:"",minWidth:"",maxWidth:""}).width(function(){return z(this).data("width")})},update:function(d,e){var c=this;void 0===e&&(e=d,x.resize(d.$menu)),d.$menu.children().each(function(){var l,f=z(this),a=f.data("contextMenuKey"),m=d.items[a],h=z.isFunction(m.disabled)&&m.disabled.call(c,a,e)||m.disabled===!0;if(l=z.isFunction(m.visible)?m.visible.call(c,a,e):"undefined"!=typeof m.visible?m.visible===!0:!0,f[l?"show":"hide"](),f[h?"addClass":"removeClass"](e.classNames.disabled),z.isFunction(m.icon)&&(f.removeClass(m._icon),m._icon=m.icon.call(this,c,f,a,m),f.addClass(m._icon)),m.type){switch(f.find("input, select, textarea").prop("disabled",h),m.type){case"text":case"textarea":m.$input.val(m.value||"");break;case"checkbox":case"radio":m.$input.val(m.value||"").prop("checked",!!m.selected);break;case"select":m.$input.val(m.selected||"")}}m.$menu&&x.update.call(c,m,e)})},layer:function(d,e){var c=d.$layer=z('<div id="context-menu-layer" style="position:fixed; z-index:'+e+'; top:0; left:0; opacity: 0; filter: alpha(opacity=0); background-color: #000;"></div>').css({height:w.height(),width:w.width(),display:"block"}).data("contextMenuRoot",d).insertBefore(this).on("contextmenu",y.abortevent).on("mousedown",y.layerClick);return void 0===document.body.style.maxWidth&&c.css({position:"absolute",height:z(document).height()}),c}};z.fn.contextMenu=function(d){var f=this,c=d;if(this.length>0){if(void 0===d){this.first().trigger("contextmenu")}else{if(void 0!==d.x&&void 0!==d.y){this.first().trigger(z.Event("contextmenu",{pageX:d.x,pageY:d.y,mouseButton:d.button}))}else{if("hide"===d){var e=this.first().data("contextMenu")?this.first().data("contextMenu").$menu:null;e&&e.trigger("contextmenu:hide")}else{"destroy"===d?z.contextMenu("destroy",{context:this}):z.isPlainObject(d)?(d.context=this,z.contextMenu("create",d)):d?this.removeClass("context-menu-disabled"):d||this.addClass("context-menu-disabled")}}}}else{z.each(v,function(){this.selector===f.selector&&(c.data=this,z.extend(c.data,{trigger:"demand"}))}),y.contextmenu.call(c.target,c)}return this},z.contextMenu=function(G,e){"string"!=typeof G&&(e=G,G="create"),"string"==typeof e?e={selector:e}:void 0===e&&(e={});var r=z.extend(!0,{},A,e||{}),d=z(document),h=d,s=!1;switch(r.context&&r.context.length?(h=z(r.context).first(),r.context=h.get(0),s=r.context!==document):r.context=document,G){case"create":if(!r.selector){throw new Error("No selector specified")}if(r.selector.match(/.context-menu-(list|item|input)($|\s)/)){throw new Error('Cannot bind to selector "'+r.selector+'" as it contains a reserved className')}if(!r.build&&(!r.items||z.isEmptyObject(r.items))){throw new Error("No Items specified")}switch(B++,r.ns=".contextMenu"+B,s||(b[r.selector]=r.ns),v[r.ns]=r,r.trigger||(r.trigger="right"),F||(d.on({"contextmenu:hide.contextMenu":y.hideMenu,"prevcommand.contextMenu":y.prevItem,"nextcommand.contextMenu":y.nextItem,"contextmenu.contextMenu":y.abortevent,"mouseenter.contextMenu":y.menuMouseenter,"mouseleave.contextMenu":y.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",y.inputClick).on({"mouseup.contextMenu":y.itemClick,"contextmenu:focus.contextMenu":y.focusItem,"contextmenu:blur.contextMenu":y.blurItem,"contextmenu.contextMenu":y.abortevent,"mouseenter.contextMenu":y.itemMouseenter,"mouseleave.contextMenu":y.itemMouseleave},".context-menu-item"),F=!0),h.on("contextmenu"+r.ns,r.selector,r,y.contextmenu),s&&h.on("remove"+r.ns,function(){z(this).contextMenu("destroy")}),r.trigger){case"hover":h.on("mouseenter"+r.ns,r.selector,r,y.mouseenter).on("mouseleave"+r.ns,r.selector,r,y.mouseleave);break;case"left":h.on("click"+r.ns,r.selector,r,y.click)}r.build||x.create(r);break;case"destroy":var f;if(s){var c=r.context;z.each(v,function(m,o){if(o.context!==c){return !0}f=z(".context-menu-list").filter(":visible"),f.length&&f.data().contextMenuRoot.$trigger.is(z(o.context).find(o.selector))&&f.trigger("contextmenu:hide",{force:!0});try{v[o.ns].$menu&&v[o.ns].$menu.remove(),delete v[o.ns]}catch(i){v[o.ns]=null}return z(o.context).off(o.ns),!0})}else{if(r.selector){if(b[r.selector]){f=z(".context-menu-list").filter(":visible"),f.length&&f.data().contextMenuRoot.$trigger.is(r.selector)&&f.trigger("contextmenu:hide",{force:!0});try{v[b[r.selector]].$menu&&v[b[r.selector]].$menu.remove(),delete v[b[r.selector]]}catch(l){v[b[r.selector]]=null}d.off(b[r.selector])}}else{d.off(".contextMenu .contextMenuAutoHide"),z.each(v,function(a,i){z(i.context).off(i.ns)}),b={},v={},B=0,F=!1,z("#context-menu-layer, .context-menu-list").remove()}}break;case"html5":(!z.support.htmlCommand&&!z.support.htmlMenuitem||"boolean"==typeof e&&e)&&z('menu[type="context"]').each(function(){this.id&&z.contextMenu({selector:"[contextmenu="+this.id+"]",items:z.contextMenu.fromMenu(this)})}).css("display","none");break;default:throw new Error('Unknown operation "'+G+'"')}return this},z.contextMenu.setInputValues=function(a,c){void 0===c&&(c={}),z.each(a.inputs,function(f,d){switch(d.type){case"text":case"textarea":d.value=c[f]||"";break;case"checkbox":d.selected=c[f]?!0:!1;break;case"radio":d.selected=(c[d.radio]||"")===d.value;break;case"select":d.selected=c[f]||""}})},z.contextMenu.getInputValues=function(a,c){return void 0===c&&(c={}),z.each(a.inputs,function(f,d){switch(d.type){case"text":case"textarea":case"select":c[f]=d.$input.val();break;case"checkbox":c[f]=d.$input.prop("checked");break;case"radio":d.$input.prop("checked")&&(c[d.radio]=d.value)}}),c},z.contextMenu.fromMenu=function(a){var d=z(a),c={};return C(c,d.children()),c},z.contextMenu.defaults=A,z.contextMenu.types=D,z.contextMenu.handle=y,z.contextMenu.op=x,z.contextMenu.menus=v});
/*! jsTree - v3.2.1 - 2015-08-24 - (MIT) */
;!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"undefined"!=typeof module&&module.exports?module.exports=b(require("jquery")):b(jQuery)}(function(H,G){if(!H.jstree){var F=0,E=!1,D=!1,C=!1,B=[],A=H("script:last").attr("src"),z=window.document,y=z.createElement("LI"),x,w;y.setAttribute("role","treeitem"),x=z.createElement("I"),x.className="jstree-icon jstree-ocl",x.setAttribute("role","presentation"),y.appendChild(x),x=z.createElement("A"),x.className="jstree-anchor",x.setAttribute("href","#"),x.setAttribute("tabindex","-1"),w=z.createElement("I"),w.className="jstree-icon jstree-themeicon",w.setAttribute("role","presentation"),x.appendChild(w),y.appendChild(x),x=w=null,H.jstree={version:"3.2.1",defaults:{plugins:[]},plugins:{},path:A&&-1!==A.indexOf("/")?A.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},H.jstree.create=function(a,h){var g=new H.jstree.core(++F),c=h;return h=H.extend(!0,{},H.jstree.defaults,h),c&&c.plugins&&(h.plugins=c.plugins),H.each(h.plugins,function(e,d){"core"!==e&&(g=g.plugin(d,h[d]))}),H(a).data("jstree",g),g.init(a,h),g},H.jstree.destroy=function(){H(".jstree:jstree").jstree("destroy"),H(z).off(".jstree")},H.jstree.core=function(b){this._id=b,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},H.jstree.reference=function(a){var h=null,g=null;if(!a||!a.id||a.tagName&&a.nodeType||(a=a.id),!g||!g.length){try{g=H(a)}catch(f){}}if(!g||!g.length){try{g=H("#"+a.replace(H.jstree.idregex,"\\$&"))}catch(f){}}return g&&g.length&&(g=g.closest(".jstree")).length&&(g=g.data("jstree"))?h=g:H(".jstree").each(function(){var b=H(this).data("jstree");return b&&b._model.data[a]?(h=b,!1):void 0}),h},H.fn.jstree=function(h){var g="string"==typeof h,b=Array.prototype.slice.call(arguments,1),a=null;return h!==!0||this.length?(this.each(function(){var d=H.jstree.reference(this),c=g&&d?d[h]:null;return a=g&&c?c.apply(d,b):null,d||g||h!==G&&!H.isPlainObject(h)||H.jstree.create(this,h),(d&&!g||h===!0)&&(a=d||!1),null!==a&&a!==G?!1:void 0}),null!==a&&a!==G?a:this):!1},H.expr[":"].jstree=H.expr.createPseudo(function(a){return function(b){return H(b).hasClass("jstree")&&H(b).data("jstree")!==G}}),H.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:H.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0},H.jstree.core.prototype={plugin:function(a,f){var e=H.jstree.plugins[a];return e?(this._data[a]={},e.prototype=this,new e(f,this)):this},init:function(a,d){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[H.jstree.root]={id:H.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=H(a).addClass("jstree jstree-"+this._id),this.settings=d,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().height()||24,this.trigger("loading"),this.load_node(H.jstree.root)},destroy:function(d){if(this._wrk){try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(c){}}d||this.element.empty(),this.teardown()},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var a="",f=null,e=0;this.element.on("dblclick.jstree",function(g){if(g.target.tagName&&"input"===g.target.tagName.toLowerCase()){return !0}if(z.selection&&z.selection.empty){z.selection.empty()}else{if(window.getSelection){var d=window.getSelection();try{d.removeAllRanges(),d.collapse()}catch(h){}}}}).on("mousedown.jstree",H.proxy(function(b){b.target===this.element[0]&&(b.preventDefault(),e=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(b){b.preventDefault()}).on("click.jstree",".jstree-ocl",H.proxy(function(b){this.toggle_node(b.target)},this)).on("dblclick.jstree",".jstree-anchor",H.proxy(function(b){return b.target.tagName&&"input"===b.target.tagName.toLowerCase()?!0:void (this.settings.core.dblclick_toggle&&this.toggle_node(b.target))},this)).on("click.jstree",".jstree-anchor",H.proxy(function(c){c.preventDefault(),c.currentTarget!==z.activeElement&&H(c.currentTarget).focus(),this.activate_node(c.currentTarget,c)},this)).on("keydown.jstree",".jstree-anchor",H.proxy(function(d){if(d.target.tagName&&"input"===d.target.tagName.toLowerCase()){return !0}if(32!==d.which&&13!==d.which&&(d.shiftKey||d.ctrlKey||d.altKey||d.metaKey)){return !0}var g=null;switch(this._data.core.rtl&&(37===d.which?d.which=39:39===d.which&&(d.which=37)),d.which){case 32:d.ctrlKey&&(d.type="click",H(d.currentTarget).trigger(d));break;case 13:d.type="click",H(d.currentTarget).trigger(d);break;case 37:d.preventDefault(),this.is_open(d.currentTarget)?this.close_node(d.currentTarget):(g=this.get_parent(d.currentTarget),g&&g.id!==H.jstree.root&&this.get_node(g,!0).children(".jstree-anchor").focus());break;case 38:d.preventDefault(),g=this.get_prev_dom(d.currentTarget),g&&g.length&&g.children(".jstree-anchor").focus();break;case 39:d.preventDefault(),this.is_closed(d.currentTarget)?this.open_node(d.currentTarget,function(b){this.get_node(b,!0).children(".jstree-anchor").focus()}):this.is_open(d.currentTarget)&&(g=this.get_node(d.currentTarget,!0).children(".jstree-children")[0],g&&H(this._firstChild(g)).children(".jstree-anchor").focus());break;case 40:d.preventDefault(),g=this.get_next_dom(d.currentTarget),g&&g.length&&g.children(".jstree-anchor").focus();break;case 106:this.open_all();break;case 36:d.preventDefault(),g=this._firstChild(this.get_container_ul()[0]),g&&H(g).children(".jstree-anchor").filter(":visible").focus();break;case 35:d.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus()}},this)).on("load_node.jstree",H.proxy(function(d,g){g.status&&(g.node.id!==H.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(H.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var h=[],j,i;for(j=0,i=this._data.core.selected.length;i>j;j++){h=h.concat(this._model.data[this._data.core.selected[j]].parents)}for(h=H.vakata.array_unique(h),j=0,i=h.length;i>j;j++){this.open_node(h[j],!1,0)}}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",H.proxy(function(k){if(k.target.tagName&&"input"===k.target.tagName.toLowerCase()){return !0}f&&clearTimeout(f),f=setTimeout(function(){a=""},500);var j=String.fromCharCode(k.which).toLowerCase(),i=this.element.find(".jstree-anchor").filter(":visible"),c=i.index(z.activeElement)||0,b=!1;if(a+=j,a.length>1){if(i.slice(c).each(H.proxy(function(h,g){return 0===H(g).text().toLowerCase().indexOf(a)?(H(g).focus(),b=!0,!1):void 0},this)),b){return}if(i.slice(0,c).each(H.proxy(function(h,g){return 0===H(g).text().toLowerCase().indexOf(a)?(H(g).focus(),b=!0,!1):void 0},this)),b){return}}if(new RegExp("^"+j.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(a)){if(i.slice(c+1).each(H.proxy(function(d,g){return H(g).text().toLowerCase().charAt(0)===j?(H(g).focus(),b=!0,!1):void 0},this)),b){return}if(i.slice(0,c+1).each(H.proxy(function(d,g){return H(g).text().toLowerCase().charAt(0)===j?(H(g).focus(),b=!0,!1):void 0},this)),b){return}}},this)).on("init.jstree",H.proxy(function(){var b=this.settings.core.themes;this._data.core.themes.dots=b.dots,this._data.core.themes.stripes=b.stripes,this._data.core.themes.icons=b.icons,this.set_theme(b.name||"default",b.url),this.set_theme_variant(b.variant)},this)).on("loading.jstree",H.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"]()},this)).on("blur.jstree",".jstree-anchor",H.proxy(function(c){this._data.core.focused=null,H(c.currentTarget).filter(".jstree-hovered").mouseleave(),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",H.proxy(function(d){var g=this.get_node(d.currentTarget);g&&g.id&&(this._data.core.focused=g.id),this.element.find(".jstree-hovered").not(d.currentTarget).mouseleave(),H(d.currentTarget).mouseenter(),this.element.attr("tabindex","-1")},this)).on("focus.jstree",H.proxy(function(){if(+new Date-e>500&&!this._data.core.focused){e=0;var b=this.get_node(this.element.attr("aria-activedescendant"),!0);b&&b.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",H.proxy(function(b){this.hover_node(b.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",H.proxy(function(b){this.dehover_node(b.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),H(z).off(".jstree-"+this._id)},trigger:function(d,c){c||(c={}),c.instance=this,this.element.triggerHandler(d.replace(".jstree","")+".jstree",c)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(a){var d=this.settings.core.strings;return H.isFunction(d)?d.call(this,a):d&&d[a]?d[a]:a},_firstChild:function(b){b=b?b.firstChild:null;while(null!==b&&1!==b.nodeType){b=b.nextSibling}return b},_nextSibling:function(b){b=b?b.nextSibling:null;while(null!==b&&1!==b.nodeType){b=b.nextSibling}return b},_previousSibling:function(b){b=b?b.previousSibling:null;while(null!==b&&1!==b.nodeType){b=b.previousSibling}return b},get_node:function(a,h){a&&a.id&&(a=a.id);var g;try{if(this._model.data[a]){a=this._model.data[a]}else{if("string"==typeof a&&this._model.data[a.replace(/^#/,"")]){a=this._model.data[a.replace(/^#/,"")]}else{if("string"==typeof a&&(g=H("#"+a.replace(H.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[g.closest(".jstree-node").attr("id")]){a=this._model.data[g.closest(".jstree-node").attr("id")]}else{if((g=H(a,this.element)).length&&this._model.data[g.closest(".jstree-node").attr("id")]){a=this._model.data[g.closest(".jstree-node").attr("id")]}else{if(!(g=H(a,this.element)).length||!g.hasClass("jstree")){return !1}a=this._model.data[H.jstree.root]}}}}return h&&(a=a.id===H.jstree.root?this.element:H("#"+a.id.replace(H.jstree.idregex,"\\$&"),this.element)),a}catch(f){return !1}},get_path:function(a,l,k){if(a=a.parents?a:this.get_node(a),!a||a.id===H.jstree.root||!a.parents){return !1}var j,i,h=[];for(h.push(k?a.id:a.text),j=0,i=a.parents.length;i>j;j++){h.push(k?a.parents[j]:this.get_text(a.parents[j]))}return h=h.reverse().slice(1),l?h.join(l):h},get_next_dom:function(a,f){var e;if(a=this.get_node(a,!0),a[0]===this.element[0]){e=this._firstChild(this.get_container_ul()[0]);while(e&&0===e.offsetHeight){e=this._nextSibling(e)}return e?H(e):!1}if(!a||!a.length){return !1}if(f){e=a[0];do{e=this._nextSibling(e)}while(e&&0===e.offsetHeight);return e?H(e):!1}if(a.hasClass("jstree-open")){e=this._firstChild(a.children(".jstree-children")[0]);while(e&&0===e.offsetHeight){e=this._nextSibling(e)}if(null!==e){return H(e)}}e=a[0];do{e=this._nextSibling(e)}while(e&&0===e.offsetHeight);return null!==e?H(e):a.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(a,f){var e;if(a=this.get_node(a,!0),a[0]===this.element[0]){e=this.get_container_ul()[0].lastChild;while(e&&0===e.offsetHeight){e=this._previousSibling(e)}return e?H(e):!1}if(!a||!a.length){return !1}if(f){e=a[0];do{e=this._previousSibling(e)}while(e&&0===e.offsetHeight);return e?H(e):!1}e=a[0];do{e=this._previousSibling(e)}while(e&&0===e.offsetHeight);if(null!==e){a=H(e);while(a.hasClass("jstree-open")){a=a.children(".jstree-children").first().children(".jstree-node:visible:last")}return a}return e=a[0].parentNode.parentNode,e&&e.className&&-1!==e.className.indexOf("jstree-node")?H(e):!1},get_parent:function(a){return a=this.get_node(a),a&&a.id!==H.jstree.root?a.parent:!1},get_children_dom:function(b){return b=this.get_node(b,!0),b[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):b&&b.length?b.children(".jstree-children").children(".jstree-node"):!1},is_parent:function(b){return b=this.get_node(b),b&&(b.state.loaded===!1||b.children.length>0)},is_loaded:function(b){return b=this.get_node(b),b&&b.state.loaded},is_loading:function(b){return b=this.get_node(b),b&&b.state&&b.state.loading},is_open:function(b){return b=this.get_node(b),b&&b.state.opened},is_closed:function(b){return b=this.get_node(b),b&&this.is_parent(b)&&!b.state.opened},is_leaf:function(b){return !this.is_parent(b)},load_node:function(a,n){var m,l,k,j,i;if(H.isArray(a)){return this._load_nodes(a.slice(),n),!0}if(a=this.get_node(a),!a){return n&&n.call(this,a,!1),!1}if(a.state.loaded){for(a.state.loaded=!1,m=0,l=a.children_d.length;l>m;m++){for(k=0,j=a.parents.length;j>k;k++){this._model.data[a.parents[k]].children_d=H.vakata.array_remove_item(this._model.data[a.parents[k]].children_d,a.children_d[m])}this._model.data[a.children_d[m]].state.selected&&(i=!0,this._data.core.selected=H.vakata.array_remove_item(this._data.core.selected,a.children_d[m])),delete this._model.data[a.children_d[m]]}a.children=[],a.children_d=[],i&&this.trigger("changed",{action:"load_node",node:a,selected:this._data.core.selected})}return a.state.failed=!1,a.state.loading=!0,this.get_node(a,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(a,H.proxy(function(b){a=this._model.data[a.id],a.state.loading=!1,a.state.loaded=b,a.state.failed=!a.state.loaded;var I=this.get_node(a,!0),q=0,p=0,o=this._model.data,c=!1;for(q=0,p=a.children.length;p>q;q++){if(o[a.children[q]]&&!o[a.children[q]].state.hidden){c=!0;break}}a.state.loaded&&!c&&I&&I.length&&!I.hasClass("jstree-leaf")&&I.removeClass("jstree-closed jstree-open").addClass("jstree-leaf"),I.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:a,status:b}),n&&n.call(this,a,b)},this)),!0},_load_nodes:function(I,q,p){var o=!0,n=function(){this._load_nodes(I,q,!0)},m=this._model.data,l,k,j=[];for(l=0,k=I.length;k>l;l++){!m[I[l]]||(m[I[l]].state.loaded||m[I[l]].state.failed)&&p||(this.is_loading(I[l])||this.load_node(I[l],n),o=!1)}if(o){for(l=0,k=I.length;k>l;l++){m[I[l]]&&m[I[l]].state.loaded&&j.push(I[l])}q&&!q.done&&(q.call(this,j),q.done=!0)}},load_all:function(a,n){if(a||(a=H.jstree.root),a=this.get_node(a),!a){return !1}var m=[],l=this._model.data,k=l[a.id].children_d,j,i;for(a.state&&!a.state.loaded&&m.push(a.id),j=0,i=k.length;i>j;j++){l[k[j]]&&l[k[j]].state&&!l[k[j]].state.loaded&&m.push(k[j])}m.length?this._load_nodes(m,function(){this.load_all(a,n)}):(n&&n.call(this,a),this.trigger("load_all",{node:a}))},_load_node:function(a,h){var g=this.settings.core.data,f;return g?H.isFunction(g)?g.call(this,a,H.proxy(function(b){b===!1&&h.call(this,!1),this["string"==typeof b?"_append_html_data":"_append_json_data"](a,"string"==typeof b?H(H.parseHTML(b)).filter(function(){return 3!==this.nodeType}):b,function(c){h.call(this,c)})},this)):"object"==typeof g?g.url?(g=H.extend(!0,{},g),H.isFunction(g.url)&&(g.url=g.url.call(this,a)),H.isFunction(g.data)&&(g.data=g.data.call(this,a)),H.ajax(g).done(H.proxy(function(j,i,c){var b=c.getResponseHeader("Content-Type");return b&&-1!==b.indexOf("json")||"object"==typeof j?this._append_json_data(a,j,function(d){h.call(this,d)}):b&&-1!==b.indexOf("html")||"string"==typeof j?this._append_html_data(a,H(H.parseHTML(j)).filter(function(){return 3!==this.nodeType}),function(d){h.call(this,d)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:a.id,xhr:c})},this.settings.core.error.call(this,this._data.core.last_error),h.call(this,!1))},this)).fail(H.proxy(function(b){h.call(this,!1),this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:a.id,xhr:b})},this.settings.core.error.call(this,this._data.core.last_error)},this))):(f=H.isArray(g)||H.isPlainObject(g)?JSON.parse(JSON.stringify(g)):g,a.id===H.jstree.root?this._append_json_data(a,f,function(b){h.call(this,b)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:a.id})},this.settings.core.error.call(this,this._data.core.last_error),h.call(this,!1))):"string"==typeof g?a.id===H.jstree.root?this._append_html_data(a,H(H.parseHTML(g)).filter(function(){return 3!==this.nodeType}),function(b){h.call(this,b)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:a.id})},this.settings.core.error.call(this,this._data.core.last_error),h.call(this,!1)):h.call(this,!1):a.id===H.jstree.root?this._append_html_data(a,this._data.core.original_container_html.clone(!0),function(b){h.call(this,b)}):h.call(this,!1)},_node_changed:function(b){b=this.get_node(b),b&&this._model.changed.push(b.id)},_append_html_data:function(Q,P,O){Q=this.get_node(Q),Q.children=[],Q.children_d=[];var N=P.is("ul")?P.children():P,M=Q.id,L=[],K=[],J=this._model.data,I=J[M],q=this._data.core.selected.length,p,o,a;for(N.each(H.proxy(function(d,e){p=this._parse_model_from_html(H(e),M,I.parents.concat()),p&&(L.push(p),K.push(p),J[p].children_d.length&&(K=K.concat(J[p].children_d)))},this)),I.children=L,I.children_d=K,o=0,a=I.parents.length;a>o;o++){J[I.parents[o]].children_d=J[I.parents[o]].children_d.concat(K)}this.trigger("model",{nodes:K,parent:M}),M!==H.jstree.root?(this._node_changed(M),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==q&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),O.call(this,!0)},_append_json_data:function(I,q,p,o){if(null!==this.element){I=this.get_node(I),I.children=[],I.children_d=[],q.d&&(q=q.d,"string"==typeof q&&(q=JSON.parse(q))),H.isArray(q)||(q=[q]);var n=null,m={df:this._model.default_state,dat:q,par:I.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},l=function(ab,aa){ab.data&&(ab=ab.data);var Z=ab.dat,Y=ab.par,X=[],W=[],V=[],U=ab.df,T=ab.t_id,S=ab.t_cnt,R=ab.m,Q=R[Y],P=ab.sel,O,N,M,L,K=function(ah,ag,af){af=af?af.concat():[],ag&&af.unshift(ag);var ae=ah.id.toString(),ad,ac,h,g,b={id:ae,text:ah.text||"",icon:ah.icon!==aa?ah.icon:!0,parent:ag,parents:af,children:ah.children||[],children_d:ah.children_d||[],data:ah.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(ad in U){U.hasOwnProperty(ad)&&(b.state[ad]=U[ad])}if(ah&&ah.data&&ah.data.jstree&&ah.data.jstree.icon&&(b.icon=ah.data.jstree.icon),(b.icon===aa||null===b.icon||""===b.icon)&&(b.icon=!0),ah&&ah.data&&(b.data=ah.data,ah.data.jstree)){for(ad in ah.data.jstree){ah.data.jstree.hasOwnProperty(ad)&&(b.state[ad]=ah.data.jstree[ad])}}if(ah&&"object"==typeof ah.state){for(ad in ah.state){ah.state.hasOwnProperty(ad)&&(b.state[ad]=ah.state[ad])}}if(ah&&"object"==typeof ah.li_attr){for(ad in ah.li_attr){ah.li_attr.hasOwnProperty(ad)&&(b.li_attr[ad]=ah.li_attr[ad])}}if(b.li_attr.id||(b.li_attr.id=ae),ah&&"object"==typeof ah.a_attr){for(ad in ah.a_attr){ah.a_attr.hasOwnProperty(ad)&&(b.a_attr[ad]=ah.a_attr[ad])}}for(ah&&ah.children&&ah.children===!0&&(b.state.loaded=!1,b.children=[],b.children_d=[]),R[b.id]=b,ad=0,ac=b.children.length;ac>ad;ad++){h=K(R[b.children[ad]],b.id,af),g=R[h],b.children_d.push(h),g.children_d.length&&(b.children_d=b.children_d.concat(g.children_d))}return delete ah.data,delete ah.children,R[b.id].original=ah,b.state.selected&&V.push(b.id),b.id},J=function(af,ae,ad){ad=ad?ad.concat():[],ae&&ad.unshift(ae);var ac=!1,j,i,h,g,b;do{ac="j"+T+"_"+ ++S}while(R[ac]);b={id:!1,text:"string"==typeof af?af:"",icon:"object"==typeof af&&af.icon!==aa?af.icon:!0,parent:ae,parents:ad,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(j in U){U.hasOwnProperty(j)&&(b.state[j]=U[j])}if(af&&af.id&&(b.id=af.id.toString()),af&&af.text&&(b.text=af.text),af&&af.data&&af.data.jstree&&af.data.jstree.icon&&(b.icon=af.data.jstree.icon),(b.icon===aa||null===b.icon||""===b.icon)&&(b.icon=!0),af&&af.data&&(b.data=af.data,af.data.jstree)){for(j in af.data.jstree){af.data.jstree.hasOwnProperty(j)&&(b.state[j]=af.data.jstree[j])}}if(af&&"object"==typeof af.state){for(j in af.state){af.state.hasOwnProperty(j)&&(b.state[j]=af.state[j])}}if(af&&"object"==typeof af.li_attr){for(j in af.li_attr){af.li_attr.hasOwnProperty(j)&&(b.li_attr[j]=af.li_attr[j])}}if(b.li_attr.id&&!b.id&&(b.id=b.li_attr.id.toString()),b.id||(b.id=ac),b.li_attr.id||(b.li_attr.id=b.id),af&&"object"==typeof af.a_attr){for(j in af.a_attr){af.a_attr.hasOwnProperty(j)&&(b.a_attr[j]=af.a_attr[j])}}if(af&&af.children&&af.children.length){for(j=0,i=af.children.length;i>j;j++){h=J(af.children[j],b.id,ad),g=R[h],b.children.push(h),g.children_d.length&&(b.children_d=b.children_d.concat(g.children_d))}b.children_d=b.children_d.concat(b.children)}return af&&af.children&&af.children===!0&&(b.state.loaded=!1,b.children=[],b.children_d=[]),delete af.data,delete af.children,b.original=af,R[b.id]=b,b.state.selected&&V.push(b.id),b.id};if(Z.length&&Z[0].id!==aa&&Z[0].parent!==aa){for(N=0,M=Z.length;M>N;N++){Z[N].children||(Z[N].children=[]),R[Z[N].id.toString()]=Z[N]}for(N=0,M=Z.length;M>N;N++){R[Z[N].parent.toString()].children.push(Z[N].id.toString()),Q.children_d.push(Z[N].id.toString())}for(N=0,M=Q.children.length;M>N;N++){O=K(R[Q.children[N]],Y,Q.parents.concat()),W.push(O),R[O].children_d.length&&(W=W.concat(R[O].children_d))}for(N=0,M=Q.parents.length;M>N;N++){R[Q.parents[N]].children_d=R[Q.parents[N]].children_d.concat(W)}L={cnt:S,mod:R,sel:P,par:Y,dpc:W,add:V}}else{for(N=0,M=Z.length;M>N;N++){O=J(Z[N],Y,Q.parents.concat()),O&&(X.push(O),W.push(O),R[O].children_d.length&&(W=W.concat(R[O].children_d)))}for(Q.children=X,Q.children_d=W,N=0,M=Q.parents.length;M>N;N++){R[Q.parents[N]].children_d=R[Q.parents[N]].children_d.concat(W)}L={cnt:S,mod:R,sel:P,par:Y,dpc:W,add:V}}return"undefined"!=typeof window&&"undefined"!=typeof window.document?L:void postMessage(L)},k=function(d,P){if(null!==this.element){if(this._cnt=d.cnt,this._model.data=d.mod,P){var O,N,M=d.add,L=d.sel,K=this._data.core.selected.slice(),J=this._model.data;if(L.length!==K.length||H.vakata.array_unique(L.concat(K)).length!==L.length){for(O=0,N=L.length;N>O;O++){-1===H.inArray(L[O],M)&&-1===H.inArray(L[O],K)&&(J[L[O]].state.selected=!1)}for(O=0,N=K.length;N>O;O++){-1===H.inArray(K[O],L)&&(J[K[O]].state.selected=!0)}}}d.add.length&&(this._data.core.selected=this._data.core.selected.concat(d.add)),this.trigger("model",{nodes:d.dpc,parent:d.par}),d.par!==H.jstree.root?(this._node_changed(d.par),this.redraw()):this.redraw(!0),d.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),p.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker){try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+l.toString()],{type:"text/javascript"}))),!this._data.core.working||o?(this._data.core.working=!0,n=new window.Worker(this._wrk),n.onmessage=H.proxy(function(d){k.call(this,d.data,!0);try{n.terminate(),n=null}catch(c){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),m.par?n.postMessage(m):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([I,q,p,!0])}catch(a){k.call(this,l(m),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}}else{k.call(this,l(m),!1)}}},_parse_model_from_html:function(K,J,I){I=I?[].concat(I):[],J&&I.unshift(J);var q,p,o=this._model.data,n={id:!1,text:!1,icon:!0,parent:J,parents:I,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},m,b,a;for(m in this._model.default_state){this._model.default_state.hasOwnProperty(m)&&(n.state[m]=this._model.default_state[m])}if(b=H.vakata.attributes(K,!0),H.each(b,function(d,e){return e=H.trim(e),e.length?(n.li_attr[d]=e,void ("id"===d&&(n.id=e.toString()))):!0}),b=K.children("a").first(),b.length&&(b=H.vakata.attributes(b,!0),H.each(b,function(d,e){e=H.trim(e),e.length&&(n.a_attr[d]=e)})),b=K.children("a").first().length?K.children("a").first().clone():K.clone(),b.children("ins, i, ul").remove(),b=b.html(),b=H("<div />").html(b),n.text=this.settings.core.force_text?b.text():b.html(),b=K.data(),n.data=b?H.extend(!0,{},b):null,n.state.opened=K.hasClass("jstree-open"),n.state.selected=K.children("a").hasClass("jstree-clicked"),n.state.disabled=K.children("a").hasClass("jstree-disabled"),n.data&&n.data.jstree){for(m in n.data.jstree){n.data.jstree.hasOwnProperty(m)&&(n.state[m]=n.data.jstree[m])}}b=K.children("a").children(".jstree-themeicon"),b.length&&(n.icon=b.hasClass("jstree-themeicon-hidden")?!1:b.attr("rel")),n.state.icon!==G&&(n.icon=n.state.icon),(n.icon===G||null===n.icon||""===n.icon)&&(n.icon=!0),b=K.children("ul").children("li");do{a="j"+this._id+"_"+ ++this._cnt}while(o[a]);return n.id=n.li_attr.id?n.li_attr.id.toString():a,b.length?(b.each(H.proxy(function(d,e){q=this._parse_model_from_html(H(e),n.id,I),p=this._model.data[q],n.children.push(q),p.children_d.length&&(n.children_d=n.children_d.concat(p.children_d))},this)),n.children_d=n.children_d.concat(n.children)):K.hasClass("jstree-closed")&&(n.state.loaded=!1),n.li_attr["class"]&&(n.li_attr["class"]=n.li_attr["class"].replace("jstree-closed","").replace("jstree-open","")),n.a_attr["class"]&&(n.a_attr["class"]=n.a_attr["class"].replace("jstree-clicked","").replace("jstree-disabled","")),o[n.id]=n,n.state.selected&&this._data.core.selected.push(n.id),n.id},_parse_model_from_flat_json:function(M,L,K){K=K?K.concat():[],L&&K.unshift(L);var J=M.id.toString(),I=this._model.data,q=this._model.default_state,p,o,n,m,b={id:J,text:M.text||"",icon:M.icon!==G?M.icon:!0,parent:L,parents:K,children:M.children||[],children_d:M.children_d||[],data:M.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(p in q){q.hasOwnProperty(p)&&(b.state[p]=q[p])}if(M&&M.data&&M.data.jstree&&M.data.jstree.icon&&(b.icon=M.data.jstree.icon),(b.icon===G||null===b.icon||""===b.icon)&&(b.icon=!0),M&&M.data&&(b.data=M.data,M.data.jstree)){for(p in M.data.jstree){M.data.jstree.hasOwnProperty(p)&&(b.state[p]=M.data.jstree[p])}}if(M&&"object"==typeof M.state){for(p in M.state){M.state.hasOwnProperty(p)&&(b.state[p]=M.state[p])}}if(M&&"object"==typeof M.li_attr){for(p in M.li_attr){M.li_attr.hasOwnProperty(p)&&(b.li_attr[p]=M.li_attr[p])}}if(b.li_attr.id||(b.li_attr.id=J),M&&"object"==typeof M.a_attr){for(p in M.a_attr){M.a_attr.hasOwnProperty(p)&&(b.a_attr[p]=M.a_attr[p])}}for(M&&M.children&&M.children===!0&&(b.state.loaded=!1,b.children=[],b.children_d=[]),I[b.id]=b,p=0,o=b.children.length;o>p;p++){n=this._parse_model_from_flat_json(I[b.children[p]],b.id,K),m=I[n],b.children_d.push(n),m.children_d.length&&(b.children_d=b.children_d.concat(m.children_d))}return delete M.data,delete M.children,I[b.id].original=M,b.state.selected&&this._data.core.selected.push(b.id),b.id},_parse_model_from_json:function(M,L,K){K=K?K.concat():[],L&&K.unshift(L);var J=!1,I,q,p,o,n=this._model.data,m=this._model.default_state,b;do{J="j"+this._id+"_"+ ++this._cnt}while(n[J]);b={id:!1,text:"string"==typeof M?M:"",icon:"object"==typeof M&&M.icon!==G?M.icon:!0,parent:L,parents:K,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(I in m){m.hasOwnProperty(I)&&(b.state[I]=m[I])}if(M&&M.id&&(b.id=M.id.toString()),M&&M.text&&(b.text=M.text),M&&M.data&&M.data.jstree&&M.data.jstree.icon&&(b.icon=M.data.jstree.icon),(b.icon===G||null===b.icon||""===b.icon)&&(b.icon=!0),M&&M.data&&(b.data=M.data,M.data.jstree)){for(I in M.data.jstree){M.data.jstree.hasOwnProperty(I)&&(b.state[I]=M.data.jstree[I])}}if(M&&"object"==typeof M.state){for(I in M.state){M.state.hasOwnProperty(I)&&(b.state[I]=M.state[I])}}if(M&&"object"==typeof M.li_attr){for(I in M.li_attr){M.li_attr.hasOwnProperty(I)&&(b.li_attr[I]=M.li_attr[I])}}if(b.li_attr.id&&!b.id&&(b.id=b.li_attr.id.toString()),b.id||(b.id=J),b.li_attr.id||(b.li_attr.id=b.id),M&&"object"==typeof M.a_attr){for(I in M.a_attr){M.a_attr.hasOwnProperty(I)&&(b.a_attr[I]=M.a_attr[I])}}if(M&&M.children&&M.children.length){for(I=0,q=M.children.length;q>I;I++){p=this._parse_model_from_json(M.children[I],b.id,K),o=n[p],b.children.push(p),o.children_d.length&&(b.children_d=b.children_d.concat(o.children_d))}b.children_d=b.children_d.concat(b.children)}return M&&M.children&&M.children===!0&&(b.state.loaded=!1,b.children=[],b.children_d=[]),delete M.data,delete M.children,b.original=M,n[b.id]=b,b.state.selected&&this._data.core.selected.push(b.id),b.id},_redraw:function(){var a=this._model.force_full_redraw?this._model.data[H.jstree.root].children.concat([]):this._model.changed.concat([]),l=z.createElement("UL"),k,j,i,h=this._data.core.focused;for(j=0,i=a.length;i>j;j++){k=this.redraw_node(a[j],!0,this._model.force_full_redraw),k&&this._model.force_full_redraw&&l.appendChild(k)}this._model.force_full_redraw&&(l.className=this.get_container_ul()[0].className,l.setAttribute("role","group"),this.element.empty().append(l)),null!==h&&(k=this.get_node(h,!0),k&&k.length&&k.children(".jstree-anchor")[0]!==z.activeElement?k.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:a})},redraw:function(b){b&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(a){var l=this.get_node(a),k=!1,j=!1,i=!1,h=z;if(!l){return !1}if(l.id===H.jstree.root){return this.redraw(!0)}if(a=this.get_node(a,!0),!a||!a.length){return !1}if(a.children(".jstree-children").remove(),a=a[0],l.children.length&&l.state.loaded){for(i=h.createElement("UL"),i.setAttribute("role","group"),i.className="jstree-children",k=0,j=l.children.length;j>k;k++){i.appendChild(this.redraw_node(l.children[k],!0,!0))}a.appendChild(i)}},redraw_node:function(Z,Y,X,W){var V=this.get_node(Z),U=!1,T=!1,S=!1,R=!1,Q=!1,P=!1,O="",N=z,M=this._model.data,L=!1,K=!1,J=null,I=0,j=0,i=!1,a=!1;if(!V){return !1}if(V.id===H.jstree.root){return this.redraw(!0)}if(Y=Y||0===V.children.length,Z=z.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(V.id[0])?"\\3"+V.id[0]+" "+V.id.substr(1).replace(H.jstree.idregex,"\\$&"):V.id.replace(H.jstree.idregex,"\\$&"))):z.getElementById(V.id)){Z=H(Z),X||(U=Z.parent().parent()[0],U===this.element[0]&&(U=null),T=Z.index()),Y||!V.children.length||Z.children(".jstree-children").length||(Y=!0),Y||(S=Z.children(".jstree-children")[0]),L=Z.children(".jstree-anchor")[0]===z.activeElement,Z.remove()}else{if(Y=!0,!X){if(U=V.parent!==H.jstree.root?H("#"+V.parent.replace(H.jstree.idregex,"\\$&"),this.element)[0]:null,!(null===U||U&&M[V.parent].state.opened)){return !1}T=H.inArray(V.id,null===U?M[H.jstree.root].children:M[V.parent].children)}}Z=y.cloneNode(!0),O="jstree-node ";for(R in V.li_attr){if(V.li_attr.hasOwnProperty(R)){if("id"===R){continue}"class"!==R?Z.setAttribute(R,V.li_attr[R]):O+=V.li_attr[R]}}for(V.a_attr.id||(V.a_attr.id=V.id+"_anchor"),Z.setAttribute("aria-selected",!!V.state.selected),Z.setAttribute("aria-level",V.parents.length),Z.setAttribute("aria-labelledby",V.a_attr.id),V.state.disabled&&Z.setAttribute("aria-disabled",!0),R=0,Q=V.children.length;Q>R;R++){if(!M[V.children[R]].state.hidden){i=!0;break}}if(null!==V.parent&&M[V.parent]&&!V.state.hidden&&(R=H.inArray(V.id,M[V.parent].children),a=V.id,-1!==R)){for(R++,Q=M[V.parent].children.length;Q>R;R++){if(M[M[V.parent].children[R]].state.hidden||(a=M[V.parent].children[R]),a!==V.id){break}}}V.state.hidden&&(O+=" jstree-hidden"),V.state.loaded&&!i?O+=" jstree-leaf":(O+=V.state.opened&&V.state.loaded?" jstree-open":" jstree-closed",Z.setAttribute("aria-expanded",V.state.opened&&V.state.loaded)),a===V.id&&(O+=" jstree-last"),Z.id=V.id,Z.className=O,O=(V.state.selected?" jstree-clicked":"")+(V.state.disabled?" jstree-disabled":"");for(Q in V.a_attr){if(V.a_attr.hasOwnProperty(Q)){if("href"===Q&&"#"===V.a_attr[Q]){continue}"class"!==Q?Z.childNodes[1].setAttribute(Q,V.a_attr[Q]):O+=" "+V.a_attr[Q]}}if(O.length&&(Z.childNodes[1].className="jstree-anchor "+O),(V.icon&&V.icon!==!0||V.icon===!1)&&(V.icon===!1?Z.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===V.icon.indexOf("/")&&-1===V.icon.indexOf(".")?Z.childNodes[1].childNodes[0].className+=" "+V.icon+" jstree-themeicon-custom":(Z.childNodes[1].childNodes[0].style.backgroundImage="url("+V.icon+")",Z.childNodes[1].childNodes[0].style.backgroundPosition="center center",Z.childNodes[1].childNodes[0].style.backgroundSize="auto",Z.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?Z.childNodes[1].appendChild(N.createTextNode(V.text)):Z.childNodes[1].innerHTML+=V.text,Y&&V.children.length&&(V.state.opened||W)&&V.state.loaded){for(P=N.createElement("UL"),P.setAttribute("role","group"),P.className="jstree-children",R=0,Q=V.children.length;Q>R;R++){P.appendChild(this.redraw_node(V.children[R],Y,!0))}Z.appendChild(P)}if(S&&Z.appendChild(S),!X){for(U||(U=this.element[0]),R=0,Q=U.childNodes.length;Q>R;R++){if(U.childNodes[R]&&U.childNodes[R].className&&-1!==U.childNodes[R].className.indexOf("jstree-children")){J=U.childNodes[R];break}}J||(J=N.createElement("UL"),J.setAttribute("role","group"),J.className="jstree-children",U.appendChild(J)),U=J,T<U.childNodes.length?U.insertBefore(Z,U.childNodes[T]):U.appendChild(Z),L&&(I=this.element[0].scrollTop,j=this.element[0].scrollLeft,Z.childNodes[1].focus(),this.element[0].scrollTop=I,this.element[0].scrollLeft=j)}return V.state.opened&&!V.state.loaded&&(V.state.opened=!1,setTimeout(H.proxy(function(){this.open_node(V.id,!1,0)},this),0)),Z},open_node:function(n,m,l){var k,j,b,a;if(H.isArray(n)){for(n=n.slice(),k=0,j=n.length;j>k;k++){this.open_node(n[k],m,l)}return !0}return n=this.get_node(n),n&&n.id!==H.jstree.root?(l=l===G?this.settings.core.animation:l,this.is_closed(n)?this.is_loaded(n)?(b=this.get_node(n,!0),a=this,b.length&&(l&&b.children(".jstree-children").length&&b.children(".jstree-children").stop(!0,!0),n.children.length&&!this._firstChild(b.children(".jstree-children")[0])&&this.draw_children(n),l?(this.trigger("before_open",{node:n}),b.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(l,function(){this.style.display="",a.trigger("after_open",{node:n})})):(this.trigger("before_open",{node:n}),b[0].className=b[0].className.replace("jstree-closed","jstree-open"),b[0].setAttribute("aria-expanded",!0))),n.state.opened=!0,m&&m.call(this,n,!0),b.length||this.trigger("before_open",{node:n}),this.trigger("open_node",{node:n}),l&&b.length||this.trigger("after_open",{node:n}),!0):this.is_loading(n)?setTimeout(H.proxy(function(){this.open_node(n,m,l)},this),500):void this.load_node(n,function(d,c){return c?this.open_node(d,m,l):m?m.call(this,d,!1):!1}):(m&&m.call(this,n,!1),!1)):!1},_open_to:function(a){if(a=this.get_node(a),!a||a.id===H.jstree.root){return !1}var h,g,f=a.parents;for(h=0,g=f.length;g>h;h+=1){h!==H.jstree.root&&this.open_node(f[h],!1,0)}return H("#"+a.id.replace(H.jstree.idregex,"\\$&"),this.element)},close_node:function(l,k){var j,i,b,a;if(H.isArray(l)){for(l=l.slice(),j=0,i=l.length;i>j;j++){this.close_node(l[j],k)}return !0}return l=this.get_node(l),l&&l.id!==H.jstree.root?this.is_closed(l)?!1:(k=k===G?this.settings.core.animation:k,b=this,a=this.get_node(l,!0),a.length&&(k?a.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(k,function(){this.style.display="",a.children(".jstree-children").remove(),b.trigger("after_close",{node:l})}):(a[0].className=a[0].className.replace("jstree-open","jstree-closed"),a.attr("aria-expanded",!1).children(".jstree-children").remove())),l.state.opened=!1,this.trigger("close_node",{node:l}),void (k&&a.length||this.trigger("after_close",{node:l}))):!1},toggle_node:function(a){var f,e;if(H.isArray(a)){for(a=a.slice(),f=0,e=a.length;e>f;f++){this.toggle_node(a[f])}return !0}return this.is_closed(a)?this.open_node(a):this.is_open(a)?this.close_node(a):void 0},open_all:function(a,n,m){if(a||(a=H.jstree.root),a=this.get_node(a),!a){return !1}var l=a.id===H.jstree.root?this.get_container_ul():this.get_node(a,!0),k,j,i;if(!l.length){for(k=0,j=a.children_d.length;j>k;k++){this.is_closed(this._model.data[a.children_d[k]])&&(this._model.data[a.children_d[k]].state.opened=!0)}return this.trigger("open_all",{node:a})}m=m||l,i=this,l=this.is_closed(a)?l.find(".jstree-closed").addBack():l.find(".jstree-closed"),l.each(function(){i.open_node(this,function(d,c){c&&this.is_parent(d)&&this.open_all(d,n,m)},n||0)}),0===m.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(m)})},close_all:function(a,l){if(a||(a=H.jstree.root),a=this.get_node(a),!a){return !1}var k=a.id===H.jstree.root?this.get_container_ul():this.get_node(a,!0),j=this,i,h;for(k.length&&(k=this.is_open(a)?k.find(".jstree-open").addBack():k.find(".jstree-open"),H(k.get().reverse()).each(function(){j.close_node(this,l||0)})),i=0,h=a.children_d.length;h>i;i++){this._model.data[a.children_d[i]].state.opened=!1}this.trigger("close_all",{node:a})},is_disabled:function(b){return b=this.get_node(b),b&&b.state&&b.state.disabled},enable_node:function(a){var f,e;if(H.isArray(a)){for(a=a.slice(),f=0,e=a.length;e>f;f++){this.enable_node(a[f])}return !0}return a=this.get_node(a),a&&a.id!==H.jstree.root?(a.state.disabled=!1,this.get_node(a,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),void this.trigger("enable_node",{node:a})):!1},disable_node:function(a){var f,e;if(H.isArray(a)){for(a=a.slice(),f=0,e=a.length;e>f;f++){this.disable_node(a[f])}return !0}return a=this.get_node(a),a&&a.id!==H.jstree.root?(a.state.disabled=!0,this.get_node(a,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),void this.trigger("disable_node",{node:a})):!1},hide_node:function(a,h){var g,f;if(H.isArray(a)){for(a=a.slice(),g=0,f=a.length;f>g;g++){this.hide_node(a[g],!0)}return this.redraw(),!0}return a=this.get_node(a),a&&a.id!==H.jstree.root?void (a.state.hidden||(a.state.hidden=!0,this._node_changed(a.parent),h||this.redraw(),this.trigger("hide_node",{node:a}))):!1},show_node:function(a,h){var g,f;if(H.isArray(a)){for(a=a.slice(),g=0,f=a.length;f>g;g++){this.show_node(a[g],!0)}return this.redraw(),!0}return a=this.get_node(a),a&&a.id!==H.jstree.root?void (a.state.hidden&&(a.state.hidden=!1,this._node_changed(a.parent),h||this.redraw(),this.trigger("show_node",{node:a}))):!1},hide_all:function(a){var h,g=this._model.data,f=[];for(h in g){g.hasOwnProperty(h)&&h!==H.jstree.root&&!g[h].state.hidden&&(g[h].state.hidden=!0,f.push(h))}return this._model.force_full_redraw=!0,a||this.redraw(),this.trigger("hide_all",{nodes:f}),f},show_all:function(a){var h,g=this._model.data,f=[];for(h in g){g.hasOwnProperty(h)&&h!==H.jstree.root&&g[h].state.hidden&&(g[h].state.hidden=!1,f.push(h))}return this._model.force_full_redraw=!0,a||this.redraw(),this.trigger("show_all",{nodes:f}),f},activate_node:function(b,p){if(this.is_disabled(b)){return !1}if(p&&"object"==typeof p||(p={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==G?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(p.metaKey||p.ctrlKey||p.shiftKey)&&(!p.shiftKey||this._data.core.last_clicked&&this.get_parent(b)&&this.get_parent(b)===this._data.core.last_clicked.parent)){if(p.shiftKey){var o=this.get_node(b).id,n=this._data.core.last_clicked.id,m=this.get_node(this._data.core.last_clicked.parent).children,l=!1,k,j;for(k=0,j=m.length;j>k;k+=1){m[k]===o&&(l=!l),m[k]===n&&(l=!l),this.is_disabled(m[k])||!l&&m[k]!==o&&m[k]!==n?this.deselect_node(m[k],!0,p):this.select_node(m[k],!0,!1,p)}this.trigger("changed",{action:"select_node",node:this.get_node(b),selected:this._data.core.selected,event:p})}else{this.is_selected(b)?this.deselect_node(b,!1,p):this.select_node(b,!1,!1,p)}}else{!this.settings.core.multiple&&(p.metaKey||p.ctrlKey||p.shiftKey)&&this.is_selected(b)?this.deselect_node(b,!1,p):(this.deselect_all(!0),this.select_node(b,!1,!1,p),this._data.core.last_clicked=this.get_node(b))}this.trigger("activate_node",{node:this.get_node(b),event:p})},hover_node:function(e){if(e=this.get_node(e,!0),!e||!e.length||e.children(".jstree-hovered").length){return !1}var d=this.element.find(".jstree-hovered"),f=this.element;d&&d.length&&this.dehover_node(d),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){f.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(b){return b=this.get_node(b,!0),b&&b.length&&b.children(".jstree-hovered").length?(b.children(".jstree-anchor").removeClass("jstree-hovered"),void this.trigger("dehover_node",{node:this.get_node(b)})):!1},select_node:function(a,p,o,n){var m,l,k,j;if(H.isArray(a)){for(a=a.slice(),l=0,k=a.length;k>l;l++){this.select_node(a[l],p,o,n)}return !0}return a=this.get_node(a),a&&a.id!==H.jstree.root?(m=this.get_node(a,!0),void (a.state.selected||(a.state.selected=!0,this._data.core.selected.push(a.id),o||(m=this._open_to(a)),m&&m.length&&m.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:a,selected:this._data.core.selected,event:n}),p||this.trigger("changed",{action:"select_node",node:a,selected:this._data.core.selected,event:n})))):!1},deselect_node:function(a,l,k){var j,i,h;if(H.isArray(a)){for(a=a.slice(),j=0,i=a.length;i>j;j++){this.deselect_node(a[j],l,k)}return !0}return a=this.get_node(a),a&&a.id!==H.jstree.root?(h=this.get_node(a,!0),void (a.state.selected&&(a.state.selected=!1,this._data.core.selected=H.vakata.array_remove_item(this._data.core.selected,a.id),h.length&&h.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:a,selected:this._data.core.selected,event:k}),l||this.trigger("changed",{action:"deselect_node",node:a,selected:this._data.core.selected,event:k})))):!1},select_all:function(a){var h=this._data.core.selected.concat([]),g,f;for(this._data.core.selected=this._model.data[H.jstree.root].children_d.concat(),g=0,f=this._data.core.selected.length;f>g;g++){this._model.data[this._data.core.selected[g]]&&(this._model.data[this._data.core.selected[g]].state.selected=!0)}this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),a||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:h})},deselect_all:function(f){var e=this._data.core.selected.concat([]),h,g;for(h=0,g=this._data.core.selected.length;g>h;h++){this._model.data[this._data.core.selected[h]]&&(this._model.data[this._data.core.selected[h]].state.selected=!1)}this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:e}),f||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:e})},is_selected:function(a){return a=this.get_node(a),a&&a.id!==H.jstree.root?a.state.selected:!1},get_selected:function(a){return a?H.map(this._data.core.selected,H.proxy(function(b){return this.get_node(b)},this)):this._data.core.selected.slice()},get_top_selected:function(a){var n=this.get_selected(!0),m={},l,k,j,i;for(l=0,k=n.length;k>l;l++){m[n[l].id]=n[l]}for(l=0,k=n.length;k>l;l++){for(j=0,i=n[l].children_d.length;i>j;j++){m[n[l].children_d[j]]&&delete m[n[l].children_d[j]]}}n=[];for(l in m){m.hasOwnProperty(l)&&n.push(l)}return a?H.map(n,H.proxy(function(b){return this.get_node(b)},this)):n},get_bottom_selected:function(a){var j=this.get_selected(!0),i=[],h,g;for(h=0,g=j.length;g>h;h++){j[h].children.length||i.push(j[h].id)}return a?H.map(i,H.proxy(function(b){return this.get_node(b)},this)):i},get_state:function(){var a={core:{open:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}},d;for(d in this._model.data){this._model.data.hasOwnProperty(d)&&d!==H.jstree.root&&(this._model.data[d].state.opened&&a.core.open.push(d),this._model.data[d].state.selected&&a.core.selected.push(d))}return a},set_state:function(n,m){if(n){if(n.core){var l,k,j,b,a;if(n.core.open){return H.isArray(n.core.open)&&n.core.open.length?this._load_nodes(n.core.open,function(c){this.open_node(c,!1,0),delete n.core.open,this.set_state(n,m)},!0):(delete n.core.open,this.set_state(n,m)),!1}if(n.core.scroll){return n.core.scroll&&n.core.scroll.left!==G&&this.element.scrollLeft(n.core.scroll.left),n.core.scroll&&n.core.scroll.top!==G&&this.element.scrollTop(n.core.scroll.top),delete n.core.scroll,this.set_state(n,m),!1}if(n.core.selected){return b=this,this.deselect_all(),H.each(n.core.selected,function(d,c){b.select_node(c,!1,!0)}),delete n.core.selected,this.set_state(n,m),!1}for(a in n){n.hasOwnProperty(a)&&"core"!==a&&-1===H.inArray(a,this.settings.plugins)&&delete n[a]}if(H.isEmptyObject(n.core)){return delete n.core,this.set_state(n,m),!1}}return H.isEmptyObject(n)?(n=null,m&&m.call(this),this.trigger("set_state"),!1):!0}return !1},refresh:function(a,f){this._data.core.state=f===!0?{}:this.get_state(),f&&H.isFunction(f)&&(this._data.core.state=f.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[H.jstree.root]={id:H.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var e=this.get_container_ul()[0].className;a||(this.element.html("<ul class='"+e+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(H.jstree.root,function(d,g){g&&(this.get_container_ul()[0].className=e,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(H.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(a){if(a=this.get_node(a),!a||a.id===H.jstree.root){return !1}var h=[],g=[],f=this._data.core.selected.concat([]);g.push(a.id),a.state.opened===!0&&h.push(a.id),this.get_node(a,!0).find(".jstree-open").each(function(){h.push(this.id)}),this._load_nodes(g,H.proxy(function(b){this.open_node(h,!1,0),this.select_node(this._data.core.selected),this.trigger("refresh_node",{node:a,nodes:b})},this))},set_id:function(a,j){if(a=this.get_node(a),!a||a.id===H.jstree.root){return !1}var i,h,g=this._model.data;for(j=j.toString(),g[a.parent].children[H.inArray(a.id,g[a.parent].children)]=j,i=0,h=a.parents.length;h>i;i++){g[a.parents[i]].children_d[H.inArray(a.id,g[a.parents[i]].children_d)]=j}for(i=0,h=a.children.length;h>i;i++){g[a.children[i]].parent=j}for(i=0,h=a.children_d.length;h>i;i++){g[a.children_d[i]].parents[H.inArray(a.id,g[a.children_d[i]].parents)]=j}return i=H.inArray(a.id,this._data.core.selected),-1!==i&&(this._data.core.selected[i]=j),i=this.get_node(a.id,!0),i&&(i.attr("id",j).children(".jstree-anchor").attr("id",j+"_anchor").end().attr("aria-labelledby",j+"_anchor"),this.element.attr("aria-activedescendant")===a.id&&this.element.attr("aria-activedescendant",j)),delete g[a.id],a.id=j,a.li_attr.id=j,g[j]=a,!0},get_text:function(a){return a=this.get_node(a),a&&a.id!==H.jstree.root?a.text:!1},set_text:function(a,h){var g,f;if(H.isArray(a)){for(a=a.slice(),g=0,f=a.length;f>g;g++){this.set_text(a[g],h)}return !0}return a=this.get_node(a),a&&a.id!==H.jstree.root?(a.text=h,this.get_node(a,!0).length&&this.redraw_node(a.id),this.trigger("set_text",{obj:a,text:h}),!0):!1},get_json:function(a,l,k){if(a=this.get_node(a||H.jstree.root),!a){return !1}l&&l.flat&&!k&&(k=[]);var j={id:a.id,text:a.text,icon:this.get_icon(a),li_attr:H.extend(!0,{},a.li_attr),a_attr:H.extend(!0,{},a.a_attr),state:{},data:l&&l.no_data?!1:H.extend(!0,{},a.data)},i,h;if(l&&l.flat?j.parent=a.parent:j.children=[],!l||!l.no_state){for(i in a.state){a.state.hasOwnProperty(i)&&(j.state[i]=a.state[i])}}if(l&&l.no_id&&(delete j.id,j.li_attr&&j.li_attr.id&&delete j.li_attr.id,j.a_attr&&j.a_attr.id&&delete j.a_attr.id),l&&l.flat&&a.id!==H.jstree.root&&k.push(j),!l||!l.no_children){for(i=0,h=a.children.length;h>i;i++){l&&l.flat?this.get_json(a.children[i],l,k):j.children.push(this.get_json(a.children[i],l))}}return l&&l.flat?k:a.id===H.jstree.root?j.children:j},create_node:function(I,q,p,o,n){if(null===I&&(I=H.jstree.root),I=this.get_node(I),!I){return !1}if(p=p===G?"last":p,!p.toString().match(/^(before|after)$/)&&!n&&!this.is_loaded(I)){return this.load_node(I,function(){this.create_node(I,q,p,o,!0)})}q||(q={text:this.get_string("New node")}),"string"==typeof q&&(q={text:q}),q.text===G&&(q.text=this.get_string("New node"));var m,l,b,a;switch(I.id===H.jstree.root&&("before"===p&&(p="first"),"after"===p&&(p="last")),p){case"before":m=this.get_node(I.parent),p=H.inArray(I.id,m.children),I=m;break;case"after":m=this.get_node(I.parent),p=H.inArray(I.id,m.children)+1,I=m;break;case"inside":case"first":p=0;break;case"last":p=I.children.length;break;default:p||(p=0)}if(p>I.children.length&&(p=I.children.length),q.id||(q.id=!0),!this.check("create_node",q,I,p)){return this.settings.core.error.call(this,this._data.core.last_error),!1}if(q.id===!0&&delete q.id,q=this._parse_model_from_json(q,I.id,I.parents.concat()),!q){return !1}for(m=this.get_node(q),l=[],l.push(q),l=l.concat(m.children_d),this.trigger("model",{nodes:l,parent:I.id}),I.children_d=I.children_d.concat(l),b=0,a=I.parents.length;a>b;b++){this._model.data[I.parents[b]].children_d=this._model.data[I.parents[b]].children_d.concat(l)}for(q=m,m=[],b=0,a=I.children.length;a>b;b++){m[b>=p?b+1:b]=I.children[b]}return m[p]=q.id,I.children=m,this.redraw_node(I,!0),o&&o.call(this,this.get_node(q)),this.trigger("create_node",{node:this.get_node(q),parent:I.id,position:p}),q.id},rename_node:function(a,j){var i,h,g;if(H.isArray(a)){for(a=a.slice(),i=0,h=a.length;h>i;i++){this.rename_node(a[i],j)}return !0}return a=this.get_node(a),a&&a.id!==H.jstree.root?(g=a.text,this.check("rename_node",a,this.get_parent(a),j)?(this.set_text(a,j),this.trigger("rename_node",{node:a,text:j,old:g}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1)):!1},delete_node:function(Q){var P,O,N,M,L,K,J,I,q,p,o,a;if(H.isArray(Q)){for(Q=Q.slice(),P=0,O=Q.length;O>P;P++){this.delete_node(Q[P])}return !0}if(Q=this.get_node(Q),!Q||Q.id===H.jstree.root){return !1}if(N=this.get_node(Q.parent),M=H.inArray(Q.id,N.children),p=!1,!this.check("delete_node",Q,N,M)){return this.settings.core.error.call(this,this._data.core.last_error),!1}for(-1!==M&&(N.children=H.vakata.array_remove(N.children,M)),L=Q.children_d.concat([]),L.push(Q.id),I=0,q=L.length;q>I;I++){for(K=0,J=Q.parents.length;J>K;K++){M=H.inArray(L[I],this._model.data[Q.parents[K]].children_d),-1!==M&&(this._model.data[Q.parents[K]].children_d=H.vakata.array_remove(this._model.data[Q.parents[K]].children_d,M))}this._model.data[L[I]].state.selected&&(p=!0,M=H.inArray(L[I],this._data.core.selected),-1!==M&&(this._data.core.selected=H.vakata.array_remove(this._data.core.selected,M)))}for(this.trigger("delete_node",{node:Q,parent:N.id}),p&&this.trigger("changed",{action:"delete_node",node:Q,selected:this._data.core.selected,parent:N.id}),I=0,q=L.length;q>I;I++){delete this._model.data[L[I]]}return -1!==H.inArray(this._data.core.focused,L)&&(this._data.core.focused=null,o=this.element[0].scrollTop,a=this.element[0].scrollLeft,N.id===H.jstree.root?this.get_node(this._model.data[H.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(N,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=o,this.element[0].scrollLeft=a),this.redraw_node(N,!0),!0},check:function(a,n,m,l,k){n=n&&n.id?n:this.get_node(n),m=m&&m.id?m:this.get_node(m);var j=a.match(/^move_node|copy_node|create_node$/i)?m:n,i=this.settings.core.check_callback;return"move_node"!==a&&"copy_node"!==a||k&&k.is_multi||n.id!==m.id&&H.inArray(n.id,m.children)!==l&&-1===H.inArray(m.id,n.children_d)?(j&&j.data&&(j=j.data),j&&j.functions&&(j.functions[a]===!1||j.functions[a]===!0)?(j.functions[a]===!1&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+a,data:JSON.stringify({chk:a,pos:l,obj:n&&n.id?n.id:!1,par:m&&m.id?m.id:!1})}),j.functions[a]):i===!1||H.isFunction(i)&&i.call(this,a,n,m,l,k)===!1||i&&i[a]===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+a,data:JSON.stringify({chk:a,pos:l,obj:n&&n.id?n.id:!1,par:m&&m.id?m.id:!1})},!1):!0):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:a,pos:l,obj:n&&n.id?n.id:!1,par:m&&m.id?m.id:!1})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(aa,Z,Y,X,W,V,U){var T,S,R,Q,P,O,N,M,L,K,J,I,b,a;if(Z=this.get_node(Z),Y=Y===G?0:Y,!Z){return !1}if(!Y.toString().match(/^(before|after)$/)&&!W&&!this.is_loaded(Z)){return this.load_node(Z,function(){this.move_node(aa,Z,Y,X,!0,!1,U)})}if(H.isArray(aa)){if(1!==aa.length){for(T=0,S=aa.length;S>T;T++){(L=this.move_node(aa[T],Z,Y,X,W,!1,U))&&(Z=L,Y="after")}return this.redraw(),!0}aa=aa[0]}if(aa=aa&&aa.id?aa:this.get_node(aa),!aa||aa.id===H.jstree.root){return !1}if(R=(aa.parent||H.jstree.root).toString(),P=Y.toString().match(/^(before|after)$/)&&Z.id!==H.jstree.root?this.get_node(Z.parent):Z,O=U?U:this._model.data[aa.id]?this:H.jstree.reference(aa.id),N=!O||!O._id||this._id!==O._id,Q=O&&O._id&&R&&O._model.data[R]&&O._model.data[R].children?H.inArray(aa.id,O._model.data[R].children):-1,O&&O._id&&(aa=O._model.data[aa.id]),N){return(L=this.copy_node(aa,Z,Y,X,W,!1,U))?(O&&O.delete_node(aa),L):!1}switch(Z.id===H.jstree.root&&("before"===Y&&(Y="first"),"after"===Y&&(Y="last")),Y){case"before":Y=H.inArray(Z.id,P.children);break;case"after":Y=H.inArray(Z.id,P.children)+1;break;case"inside":case"first":Y=0;break;case"last":Y=P.children.length;break;default:Y||(Y=0)}if(Y>P.children.length&&(Y=P.children.length),!this.check("move_node",aa,P,Y,{core:!0,origin:U,is_multi:O&&O._id&&O._id!==this._id,is_foreign:!O||!O._id})){return this.settings.core.error.call(this,this._data.core.last_error),!1}if(aa.parent===P.id){for(M=P.children.concat(),L=H.inArray(aa.id,M),-1!==L&&(M=H.vakata.array_remove(M,L),Y>L&&Y--),L=[],K=0,J=M.length;J>K;K++){L[K>=Y?K+1:K]=M[K]}L[Y]=aa.id,P.children=L,this._node_changed(P.id),this.redraw(P.id===H.jstree.root)}else{for(L=aa.children_d.concat(),L.push(aa.id),K=0,J=aa.parents.length;J>K;K++){for(M=[],a=O._model.data[aa.parents[K]].children_d,I=0,b=a.length;b>I;I++){-1===H.inArray(a[I],L)&&M.push(a[I])}O._model.data[aa.parents[K]].children_d=M}for(O._model.data[R].children=H.vakata.array_remove_item(O._model.data[R].children,aa.id),K=0,J=P.parents.length;J>K;K++){this._model.data[P.parents[K]].children_d=this._model.data[P.parents[K]].children_d.concat(L)}for(M=[],K=0,J=P.children.length;J>K;K++){M[K>=Y?K+1:K]=P.children[K]}for(M[Y]=aa.id,P.children=M,P.children_d.push(aa.id),P.children_d=P.children_d.concat(aa.children_d),aa.parent=P.id,L=P.parents.concat(),L.unshift(P.id),a=aa.parents.length,aa.parents=L,L=L.concat(),K=0,J=aa.children_d.length;J>K;K++){this._model.data[aa.children_d[K]].parents=this._model.data[aa.children_d[K]].parents.slice(0,-1*a),Array.prototype.push.apply(this._model.data[aa.children_d[K]].parents,L)}(R===H.jstree.root||P.id===H.jstree.root)&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(R),this._node_changed(P.id)),V||this.redraw()}return X&&X.call(this,aa,P,Y),this.trigger("move_node",{node:aa,parent:P.id,position:Y,old_parent:R,old_position:Q,is_multi:O&&O._id&&O._id!==this._id,is_foreign:!O||!O._id,old_instance:O,new_instance:this}),aa.id},copy_node:function(X,W,V,U,T,S,R){var Q,P,O,N,M,L,K,J,I,b,a;if(W=this.get_node(W),V=V===G?0:V,!W){return !1}if(!V.toString().match(/^(before|after)$/)&&!T&&!this.is_loaded(W)){return this.load_node(W,function(){this.copy_node(X,W,V,U,!0,!1,R)})}if(H.isArray(X)){if(1!==X.length){for(Q=0,P=X.length;P>Q;Q++){(N=this.copy_node(X[Q],W,V,U,T,!0,R))&&(W=N,V="after")}return this.redraw(),!0}X=X[0]}if(X=X&&X.id?X:this.get_node(X),!X||X.id===H.jstree.root){return !1}switch(J=(X.parent||H.jstree.root).toString(),I=V.toString().match(/^(before|after)$/)&&W.id!==H.jstree.root?this.get_node(W.parent):W,b=R?R:this._model.data[X.id]?this:H.jstree.reference(X.id),a=!b||!b._id||this._id!==b._id,b&&b._id&&(X=b._model.data[X.id]),W.id===H.jstree.root&&("before"===V&&(V="first"),"after"===V&&(V="last")),V){case"before":V=H.inArray(W.id,I.children);break;case"after":V=H.inArray(W.id,I.children)+1;break;case"inside":case"first":V=0;break;case"last":V=I.children.length;break;default:V||(V=0)}if(V>I.children.length&&(V=I.children.length),!this.check("copy_node",X,I,V,{core:!0,origin:R,is_multi:b&&b._id&&b._id!==this._id,is_foreign:!b||!b._id})){return this.settings.core.error.call(this,this._data.core.last_error),!1}if(K=b?b.get_json(X,{no_id:!0,no_data:!0,no_state:!0}):X,!K){return !1}if(K.id===!0&&delete K.id,K=this._parse_model_from_json(K,I.id,I.parents.concat()),!K){return !1}for(N=this.get_node(K),X&&X.state&&X.state.loaded===!1&&(N.state.loaded=!1),O=[],O.push(K),O=O.concat(N.children_d),this.trigger("model",{nodes:O,parent:I.id}),M=0,L=I.parents.length;L>M;M++){this._model.data[I.parents[M]].children_d=this._model.data[I.parents[M]].children_d.concat(O)}for(O=[],M=0,L=I.children.length;L>M;M++){O[M>=V?M+1:M]=I.children[M]}return O[V]=N.id,I.children=O,I.children_d.push(N.id),I.children_d=I.children_d.concat(N.children_d),I.id===H.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(I.id),S||this.redraw(I.id===H.jstree.root),U&&U.call(this,N,I,V),this.trigger("copy_node",{node:N,original:X,parent:I.id,position:V,old_parent:J,old_position:b&&b._id&&J&&b._model.data[J]&&b._model.data[J].children?H.inArray(X.id,b._model.data[J].children):-1,is_multi:b&&b._id&&b._id!==this._id,is_foreign:!b||!b._id,old_instance:b,new_instance:this}),N.id},cut:function(a){if(a||(a=this._data.core.selected.concat()),H.isArray(a)||(a=[a]),!a.length){return !1}var j=[],f,e,d;for(e=0,d=a.length;d>e;e++){f=this.get_node(a[e]),f&&f.id&&f.id!==H.jstree.root&&j.push(f)}return j.length?(E=j,C=this,D="move_node",void this.trigger("cut",{node:a})):!1},copy:function(a){if(a||(a=this._data.core.selected.concat()),H.isArray(a)||(a=[a]),!a.length){return !1}var j=[],f,e,d;for(e=0,d=a.length;d>e;e++){f=this.get_node(a[e]),f&&f.id&&f.id!==H.jstree.root&&j.push(f)}return j.length?(E=j,C=this,D="copy_node",void this.trigger("copy",{node:a})):!1},get_buffer:function(){return{mode:D,node:E,inst:C}},can_paste:function(){return D!==!1&&E!==!1},paste:function(d,c){return d=this.get_node(d),d&&D&&D.match(/^(copy_node|move_node)$/)&&E?(this[D](E,d,c,!1,!1,!1,C)&&this.trigger("paste",{parent:d.id,node:E,mode:D}),E=!1,D=!1,void (C=!1)):!1},clear_buffer:function(){E=!1,D=!1,C=!1,this.trigger("clear_buffer")},edit:function(Q,P,O){var N,M,L,K,J,I,q,p,o,a=!1;return(Q=this.get_node(Q))?this.settings.core.check_callback===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_07",reason:"Could not edit node because of check_callback"},this.settings.core.error.call(this,this._data.core.last_error),!1):(o=Q,P="string"==typeof P?P:Q.text,this.set_text(Q,""),Q=this._open_to(Q),o.text=P,N=this._data.core.rtl,M=this.element.width(),this._data.core.focused=o.id,L=Q.children(".jstree-anchor").focus(),K=H("<span>"),J=P,I=H("<div />",{css:{position:"absolute",top:"-200px",left:N?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),q=H("<input />",{value:J,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:H.proxy(function(i){i.stopImmediatePropagation(),i.preventDefault();var h=K.children(".jstree-rename-input"),g=h.val(),d=this.settings.core.force_text,b;""===g&&(g=J),I.remove(),K.replaceWith(L),K.remove(),J=d?J:H("<div></div>").append(H.parseHTML(J)).html(),this.set_text(Q,J),b=!!this.rename_node(Q,d?H("<div></div>").text(g).text():H("<div></div>").append(H.parseHTML(g)).html()),b||this.set_text(Q,J),this._data.core.focused=o.id,setTimeout(H.proxy(function(){var c=this.get_node(o.id,!0);c.length&&(this._data.core.focused=o.id,c.children(".jstree-anchor").focus())},this),0),O&&O.call(this,o,b,a)},this),keydown:function(d){var c=d.which;27===c&&(a=!0,this.value=J),(27===c||13===c||37===c||38===c||39===c||40===c||32===c)&&d.stopImmediatePropagation(),(27===c||13===c)&&(d.preventDefault(),this.blur())},click:function(b){b.stopImmediatePropagation()},mousedown:function(b){b.stopImmediatePropagation()},keyup:function(b){q.width(Math.min(I.text("pW"+this.value).width(),M))},keypress:function(b){return 13===b.which?!1:void 0}}),p={fontFamily:L.css("fontFamily")||"",fontSize:L.css("fontSize")||"",fontWeight:L.css("fontWeight")||"",fontStyle:L.css("fontStyle")||"",fontStretch:L.css("fontStretch")||"",fontVariant:L.css("fontVariant")||"",letterSpacing:L.css("letterSpacing")||"",wordSpacing:L.css("wordSpacing")||""},K.attr("class",L.attr("class")).append(L.contents().clone()).append(q),L.replaceWith(K),I.css(p),void q.css(p).width(Math.min(I.text("pW"+q[0].value).width(),M))[0].select()):!1},set_theme:function(a,f){if(!a){return !1}if(f===!0){var e=this.settings.core.themes.dir;e||(e=H.jstree.path+"/themes"),f=e+"/"+a+"/style.css"}f&&-1===H.inArray(f,B)&&(H("head").append('<link rel="stylesheet" href="'+f+'" type="text/css" />'),B.push(f)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=a,this.element.addClass("jstree-"+a),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+a+"-responsive"),this.trigger("set_theme",{theme:a})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(b){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=b,b&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},set_icon:function(l,k){var j,i,b,a;if(H.isArray(l)){for(l=l.slice(),j=0,i=l.length;i>j;j++){this.set_icon(l[j],k)}return !0}return l=this.get_node(l),l&&l.id!==H.jstree.root?(a=l.icon,l.icon=k===!0||null===k||k===G||""===k?!0:k,b=this.get_node(l,!0).children(".jstree-anchor").children(".jstree-themeicon"),k===!1?this.hide_icon(l):k===!0||null===k||k===G||""===k?(b.removeClass("jstree-themeicon-custom "+a).css("background","").removeAttr("rel"),a===!1&&this.show_icon(l)):-1===k.indexOf("/")&&-1===k.indexOf(".")?(b.removeClass(a).css("background",""),b.addClass(k+" jstree-themeicon-custom").attr("rel",k),a===!1&&this.show_icon(l)):(b.removeClass(a).css("background",""),b.addClass("jstree-themeicon-custom").css("background","url('"+k+"') center center no-repeat").attr("rel",k),a===!1&&this.show_icon(l)),!0):!1},get_icon:function(a){return a=this.get_node(a),a&&a.id!==H.jstree.root?a.icon:!1},hide_icon:function(a){var f,e;if(H.isArray(a)){for(a=a.slice(),f=0,e=a.length;e>f;f++){this.hide_icon(a[f])}return !0}return a=this.get_node(a),a&&a!==H.jstree.root?(a.icon=!1,this.get_node(a,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0):!1},show_icon:function(a){var h,g,f;if(H.isArray(a)){for(a=a.slice(),h=0,g=a.length;g>h;h++){this.show_icon(a[h])}return !0}return a=this.get_node(a),a&&a!==H.jstree.root?(f=this.get_node(a,!0),a.icon=f.length?f.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"):!0,a.icon||(a.icon=!0),f.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0):!1}},H.vakata={},H.vakata.attributes=function(a,f){a=H(a)[0];var e=f?{}:[];return a&&a.attributes&&H.each(a.attributes,function(c,d){-1===H.inArray(d.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==d.value&&""!==H.trim(d.value)&&(f?e[d.name]=d.value:e.push(d.name))}),e},H.vakata.array_unique=function(b){var l=[],k,j,i,h={};for(k=0,i=b.length;i>k;k++){h[b[k]]===G&&(l.push(b[k]),h[b[k]]=!0)}return l},H.vakata.array_remove=function(f,e,h){var g=f.slice((h||e)+1||f.length);return f.length=0>e?f.length+e:e,f.push.apply(f,g),f},H.vakata.array_remove_item=function(a,f){var e=H.inArray(f,a);return -1!==e?H.vakata.array_remove(a,e):a},H.jstree.plugins.changed=function(e,d){var f=[];this.trigger=function(b,j){var i,h;if(j||(j={}),"changed"===b.replace(".jstree","")){j.changed={selected:[],deselected:[]};var c={};for(i=0,h=f.length;h>i;i++){c[f[i]]=1}for(i=0,h=j.selected.length;h>i;i++){c[j.selected[i]]?c[j.selected[i]]=2:j.changed.selected.push(j.selected[i])}for(i=0,h=f.length;h>i;i++){1===c[f[i]]&&j.changed.deselected.push(f[i])}f=j.selected.slice()}d.trigger.call(this,b,j)},this.refresh=function(b,c){return f=[],d.refresh.apply(this,arguments)}};var v=z.createElement("I");v.className="jstree-icon jstree-checkbox",v.setAttribute("role","presentation"),H.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0},H.jstree.plugins.checkbox=function(b,a){this.bind=function(){a.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",H.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",H.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",H.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(H.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",H.proxy(function(i,h){var n=this._model.data,m=n[h.parent],l=h.nodes,k,j;for(k=0,j=l.length;j>k;k++){n[l[k]].state.checked=n[l[k]].state.checked||n[l[k]].original&&n[l[k]].original.state&&n[l[k]].original.state.checked,n[l[k]].state.checked&&this._data.checkbox.selected.push(l[k])}},this)),(-1!==this.settings.checkbox.cascade.indexOf("up")||-1!==this.settings.checkbox.cascade.indexOf("down"))&&this.element.on("model.jstree",H.proxy(function(T,S){var R=this._model.data,Q=R[S.parent],P=S.nodes,O=[],N,M,L,K,J,I,q=this.settings.checkbox.cascade,p=this.settings.checkbox.tie_selection;if(-1!==q.indexOf("down")){if(Q.state[p?"selected":"checked"]){for(M=0,L=P.length;L>M;M++){R[P[M]].state[p?"selected":"checked"]=!0}this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(P)}else{for(M=0,L=P.length;L>M;M++){if(R[P[M]].state[p?"selected":"checked"]){for(K=0,J=R[P[M]].children_d.length;J>K;K++){R[R[P[M]].children_d[K]].state[p?"selected":"checked"]=!0}this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(R[P[M]].children_d)}}}}if(-1!==q.indexOf("up")){for(M=0,L=Q.children_d.length;L>M;M++){R[Q.children_d[M]].children.length||O.push(R[Q.children_d[M]].parent)}for(O=H.vakata.array_unique(O),K=0,J=O.length;J>K;K++){Q=R[O[K]];while(Q&&Q.id!==H.jstree.root){for(N=0,M=0,L=Q.children.length;L>M;M++){N+=R[Q.children[M]].state[p?"selected":"checked"]}if(N!==L){break}Q.state[p?"selected":"checked"]=!0,this._data[p?"core":"checkbox"].selected.push(Q.id),I=this.get_node(Q,!0),I&&I.length&&I.attr("aria-selected",!0).children(".jstree-anchor").addClass(p?"jstree-clicked":"jstree-checked"),Q=this.get_node(Q.parent)}}}this._data[p?"core":"checkbox"].selected=H.vakata.array_unique(this._data[p?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",H.proxy(function(P,O){var N=O.node,M=this._model.data,L=this.get_node(N.parent),K=this.get_node(N,!0),J,I,q,p,o=this.settings.checkbox.cascade,n=this.settings.checkbox.tie_selection;if(-1!==o.indexOf("down")){for(this._data[n?"core":"checkbox"].selected=H.vakata.array_unique(this._data[n?"core":"checkbox"].selected.concat(N.children_d)),J=0,I=N.children_d.length;I>J;J++){p=M[N.children_d[J]],p.state[n?"selected":"checked"]=!0,p&&p.original&&p.original.state&&p.original.state.undetermined&&(p.original.state.undetermined=!1)}}if(-1!==o.indexOf("up")){while(L&&L.id!==H.jstree.root){for(q=0,J=0,I=L.children.length;I>J;J++){q+=M[L.children[J]].state[n?"selected":"checked"]}if(q!==I){break}L.state[n?"selected":"checked"]=!0,this._data[n?"core":"checkbox"].selected.push(L.id),p=this.get_node(L,!0),p&&p.length&&p.attr("aria-selected",!0).children(".jstree-anchor").addClass(n?"jstree-clicked":"jstree-checked"),L=this.get_node(L.parent)}}-1!==o.indexOf("down")&&K.length&&K.find(".jstree-anchor").addClass(n?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!0)},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",H.proxy(function(i,o){var n=this.get_node(H.jstree.root),m=this._model.data,l,k,j;for(l=0,k=n.children_d.length;k>l;l++){j=m[n.children_d[l]],j&&j.original&&j.original.state&&j.original.state.undetermined&&(j.original.state.undetermined=!1)}},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",H.proxy(function(J,I){var q=I.node,p=this.get_node(q,!0),o,n,m,l=this.settings.checkbox.cascade,k=this.settings.checkbox.tie_selection;if(q&&q.original&&q.original.state&&q.original.state.undetermined&&(q.original.state.undetermined=!1),-1!==l.indexOf("down")){for(o=0,n=q.children_d.length;n>o;o++){m=this._model.data[q.children_d[o]],m.state[k?"selected":"checked"]=!1,m&&m.original&&m.original.state&&m.original.state.undetermined&&(m.original.state.undetermined=!1)}}if(-1!==l.indexOf("up")){for(o=0,n=q.parents.length;n>o;o++){m=this._model.data[q.parents[o]],m.state[k?"selected":"checked"]=!1,m&&m.original&&m.original.state&&m.original.state.undetermined&&(m.original.state.undetermined=!1),m=this.get_node(q.parents[o],!0),m&&m.length&&m.attr("aria-selected",!1).children(".jstree-anchor").removeClass(k?"jstree-clicked":"jstree-checked")}}for(m=[],o=0,n=this._data[k?"core":"checkbox"].selected.length;n>o;o++){-1!==l.indexOf("down")&&-1!==H.inArray(this._data[k?"core":"checkbox"].selected[o],q.children_d)||-1!==l.indexOf("up")&&-1!==H.inArray(this._data[k?"core":"checkbox"].selected[o],q.parents)||m.push(this._data[k?"core":"checkbox"].selected[o])}this._data[k?"core":"checkbox"].selected=H.vakata.array_unique(m),-1!==l.indexOf("down")&&p.length&&p.find(".jstree-anchor").removeClass(k?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!1)},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",H.proxy(function(J,I){var q=this.get_node(I.parent),p=this._model.data,o,n,m,l,k=this.settings.checkbox.tie_selection;while(q&&q.id!==H.jstree.root&&!q.state[k?"selected":"checked"]){for(m=0,o=0,n=q.children.length;n>o;o++){m+=p[q.children[o]].state[k?"selected":"checked"]}if(!(n>0&&m===n)){break}q.state[k?"selected":"checked"]=!0,this._data[k?"core":"checkbox"].selected.push(q.id),l=this.get_node(q,!0),l&&l.length&&l.attr("aria-selected",!0).children(".jstree-anchor").addClass(k?"jstree-clicked":"jstree-checked"),q=this.get_node(q.parent)}},this)).on("move_node.jstree",H.proxy(function(P,O){var N=O.is_multi,M=O.old_parent,L=this.get_node(O.parent),K=this._model.data,J,I,q,p,o,n=this.settings.checkbox.tie_selection;if(!N){J=this.get_node(M);while(J&&J.id!==H.jstree.root&&!J.state[n?"selected":"checked"]){for(I=0,q=0,p=J.children.length;p>q;q++){I+=K[J.children[q]].state[n?"selected":"checked"]}if(!(p>0&&I===p)){break}J.state[n?"selected":"checked"]=!0,this._data[n?"core":"checkbox"].selected.push(J.id),o=this.get_node(J,!0),o&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(n?"jstree-clicked":"jstree-checked"),J=this.get_node(J.parent)}}J=L;while(J&&J.id!==H.jstree.root){for(I=0,q=0,p=J.children.length;p>q;q++){I+=K[J.children[q]].state[n?"selected":"checked"]}if(I===p){J.state[n?"selected":"checked"]||(J.state[n?"selected":"checked"]=!0,this._data[n?"core":"checkbox"].selected.push(J.id),o=this.get_node(J,!0),o&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(n?"jstree-clicked":"jstree-checked"))}else{if(!J.state[n?"selected":"checked"]){break}J.state[n?"selected":"checked"]=!1,this._data[n?"core":"checkbox"].selected=H.vakata.array_remove_item(this._data[n?"core":"checkbox"].selected,J.id),o=this.get_node(J,!0),o&&o.length&&o.attr("aria-selected",!1).children(".jstree-anchor").removeClass(n?"jstree-clicked":"jstree-checked")}J=this.get_node(J.parent)}},this))},this._undetermined=function(){if(null!==this.element){var M,L,K,J,I={},q=this._model.data,p=this.settings.checkbox.tie_selection,o=this._data[p?"core":"checkbox"].selected,n=[],m=this;for(M=0,L=o.length;L>M;M++){if(q[o[M]]&&q[o[M]].parents){for(K=0,J=q[o[M]].parents.length;J>K;K++){I[q[o[M]].parents[K]]===G&&q[o[M]].parents[K]!==H.jstree.root&&(I[q[o[M]].parents[K]]=!0,n.push(q[o[M]].parents[K]))}}}for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var d=m.get_node(this),c;if(d.state.loaded){for(M=0,L=d.children_d.length;L>M;M++){if(c=q[d.children_d[M]],!c.state.loaded&&c.original&&c.original.state&&c.original.state.undetermined&&c.original.state.undetermined===!0){for(I[c.id]===G&&c.id!==H.jstree.root&&(I[c.id]=!0,n.push(c.id)),K=0,J=c.parents.length;J>K;K++){I[c.parents[K]]===G&&c.parents[K]!==H.jstree.root&&(I[c.parents[K]]=!0,n.push(c.parents[K]))}}}}else{if(d.original&&d.original.state&&d.original.state.undetermined&&d.original.state.undetermined===!0){for(I[d.id]===G&&d.id!==H.jstree.root&&(I[d.id]=!0,n.push(d.id)),K=0,J=d.parents.length;J>K;K++){I[d.parents[K]]===G&&d.parents[K]!==H.jstree.root&&(I[d.parents[K]]=!0,n.push(d.parents[K]))}}}}),this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),M=0,L=n.length;L>M;M++){q[n[M]].state[p?"selected":"checked"]||(o=this.get_node(n[M],!0),o&&o.length&&o.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined"))}}},this.redraw_node=function(d,q,p,o){if(d=a.redraw_node.apply(this,arguments)){var n,m,l=null,k=null;for(n=0,m=d.childNodes.length;m>n;n++){if(d.childNodes[n]&&d.childNodes[n].className&&-1!==d.childNodes[n].className.indexOf("jstree-anchor")){l=d.childNodes[n];break}}l&&(!this.settings.checkbox.tie_selection&&this._model.data[d.id].state.checked&&(l.className+=" jstree-checked"),k=v.cloneNode(!1),this._model.data[d.id].state.checkbox_disabled&&(k.className+=" jstree-checkbox-disabled"),l.insertBefore(k,l.childNodes[0]))}return p||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(H.proxy(this._undetermined,this),50)),d},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(i){i=this.get_node(i);var o=this.settings.checkbox.cascade,n,m,l=this.settings.checkbox.tie_selection,k=this._data[l?"core":"checkbox"].selected,j=this._model.data;if(!i||i.state[l?"selected":"checked"]===!0||-1===o.indexOf("undetermined")||-1===o.indexOf("down")&&-1===o.indexOf("up")){return !1}if(!i.state.loaded&&i.original.state.undetermined===!0){return !0}for(n=0,m=i.children_d.length;m>n;n++){if(-1!==H.inArray(i.children_d[n],k)||!j[i.children_d[n]].state.loaded&&j[i.children_d[n]].original.state.undetermined){return !0}}return !1},this.disable_checkbox=function(f){var i,h,g;if(H.isArray(f)){for(f=f.slice(),i=0,h=f.length;h>i;i++){this.disable_checkbox(f[i])}return !0}return f=this.get_node(f),f&&f.id!==H.jstree.root?(g=this.get_node(f,!0),void (f.state.checkbox_disabled||(f.state.checkbox_disabled=!0,g&&g.length&&g.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:f})))):!1},this.enable_checkbox=function(f){var i,h,g;if(H.isArray(f)){for(f=f.slice(),i=0,h=f.length;h>i;i++){this.enable_checkbox(f[i])}return !0}return f=this.get_node(f),f&&f.id!==H.jstree.root?(g=this.get_node(f,!0),void (f.state.checkbox_disabled&&(f.state.checkbox_disabled=!1,g&&g.length&&g.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:f})))):!1},this.activate_node=function(d,e){return H(e.target).hasClass("jstree-checkbox-disabled")?!1:(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||H(e.target).hasClass("jstree-checkbox"))&&(e.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!H(e.target).hasClass("jstree-checkbox")?a.activate_node.call(this,d,e):this.is_disabled(d)?!1:(this.is_checked(d)?this.uncheck_node(d,e):this.check_node(d,e),void this.trigger("activate_node",{node:this.get_node(d)})))},this.check_node=function(h,m){if(this.settings.checkbox.tie_selection){return this.select_node(h,!1,!0,m)}var l,k,j,i;if(H.isArray(h)){for(h=h.slice(),k=0,j=h.length;j>k;k++){this.check_node(h[k],m)}return !0}return h=this.get_node(h),h&&h.id!==H.jstree.root?(l=this.get_node(h,!0),void (h.state.checked||(h.state.checked=!0,this._data.checkbox.selected.push(h.id),l&&l.length&&l.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:h,selected:this._data.checkbox.selected,event:m})))):!1},this.uncheck_node=function(g,k){if(this.settings.checkbox.tie_selection){return this.deselect_node(g,!1,k)}var j,i,h;if(H.isArray(g)){for(g=g.slice(),j=0,i=g.length;i>j;j++){this.uncheck_node(g[j],k)}return !0}return g=this.get_node(g),g&&g.id!==H.jstree.root?(h=this.get_node(g,!0),void (g.state.checked&&(g.state.checked=!1,this._data.checkbox.selected=H.vakata.array_remove_item(this._data.checkbox.selected,g.id),h.length&&h.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:g,selected:this._data.checkbox.selected,event:k})))):!1},this.check_all=function(){if(this.settings.checkbox.tie_selection){return this.select_all()}var e=this._data.checkbox.selected.concat([]),g,f;for(this._data.checkbox.selected=this._model.data[H.jstree.root].children_d.concat(),g=0,f=this._data.checkbox.selected.length;f>g;g++){this._model.data[this._data.checkbox.selected[g]]&&(this._model.data[this._data.checkbox.selected[g]].state.checked=!0)}this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection){return this.deselect_all()}var e=this._data.checkbox.selected.concat([]),d,f;for(d=0,f=this._data.checkbox.selected.length;f>d;d++){this._model.data[this._data.checkbox.selected[d]]&&(this._model.data[this._data.checkbox.selected[d]].state.checked=!1)}this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:e})},this.is_checked=function(c){return this.settings.checkbox.tie_selection?this.is_selected(c):(c=this.get_node(c),c&&c.id!==H.jstree.root?c.state.checked:!1)},this.get_checked=function(c){return this.settings.checkbox.tie_selection?this.get_selected(c):c?H.map(this._data.checkbox.selected,H.proxy(function(d){return this.get_node(d)},this)):this._data.checkbox.selected},this.get_top_checked=function(i){if(this.settings.checkbox.tie_selection){return this.get_top_selected(i)}var o=this.get_checked(!0),n={},m,l,k,j;for(m=0,l=o.length;l>m;m++){n[o[m].id]=o[m]}for(m=0,l=o.length;l>m;m++){for(k=0,j=o[m].children_d.length;j>k;k++){n[o[m].children_d[k]]&&delete n[o[m].children_d[k]]}}o=[];for(m in n){n.hasOwnProperty(m)&&o.push(m)}return i?H.map(o,H.proxy(function(c){return this.get_node(c)},this)):o},this.get_bottom_checked=function(g){if(this.settings.checkbox.tie_selection){return this.get_bottom_selected(g)}var k=this.get_checked(!0),j=[],i,h;for(i=0,h=k.length;h>i;i++){k[i].children.length||j.push(k[i].id)}return g?H.map(j,H.proxy(function(c){return this.get_node(c)},this)):j},this.load_node=function(d,q){var p,o,n,m,l,k;if(!H.isArray(d)&&!this.settings.checkbox.tie_selection&&(k=this.get_node(d),k&&k.state.loaded)){for(p=0,o=k.children_d.length;o>p;p++){this._model.data[k.children_d[p]].state.checked&&(l=!0,this._data.checkbox.selected=H.vakata.array_remove_item(this._data.checkbox.selected,k.children_d[p]))}}return a.load_node.apply(this,arguments)},this.get_state=function(){var c=a.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?c:(c.checkbox=this._data.checkbox.selected.slice(),c)},this.set_state=function(d,i){var h=a.set_state.apply(this,arguments);if(h&&d.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var g=this;H.each(d.checkbox,function(e,c){g.check_node(c)})}return delete d.checkbox,this.set_state(d,i),!1}return h},this.refresh=function(d,c){return this.settings.checkbox.tie_selection||(this._data.checkbox.selected=[]),a.refresh.apply(this,arguments)}},H.jstree.defaults.conditionalselect=function(){return !0},H.jstree.plugins.conditionalselect=function(d,c){this.activate_node=function(b,e){this.settings.conditionalselect.call(this,this.get_node(b),e)&&c.activate_node.call(this,b,e)}},H.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(a,d){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(e){var g=H.jstree.reference(e.reference),f=g.get_node(e.reference);g.create_node(f,{},"last",function(b){setTimeout(function(){g.edit(b)},0)})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(e){var g=H.jstree.reference(e.reference),f=g.get_node(e.reference);g.edit(f)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(e){var g=H.jstree.reference(e.reference),f=g.get_node(e.reference);g.is_selected(f)?g.delete_node(g.get_selected()):g.delete_node(f)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(e){var g=H.jstree.reference(e.reference),f=g.get_node(e.reference);g.is_selected(f)?g.cut(g.get_top_selected()):g.cut(f)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(e){var g=H.jstree.reference(e.reference),f=g.get_node(e.reference);g.is_selected(f)?g.copy(g.get_top_selected()):g.copy(f)}},paste:{separator_before:!1,icon:!1,_disabled:function(c){return !H.jstree.reference(c.reference).can_paste()},separator_after:!1,label:"Paste",action:function(e){var g=H.jstree.reference(e.reference),f=g.get_node(e.reference);g.paste(f)}}}}}}},H.jstree.plugins.contextmenu=function(b,a){this.bind=function(){a.bind.call(this);var d=0,i=null,h,g;this.element.on("contextmenu.jstree",".jstree-anchor",H.proxy(function(c,e){c.preventDefault(),d=c.ctrlKey?+new Date:0,(e||i)&&(d=+new Date+10000),i&&clearTimeout(i),this.is_loading(c.currentTarget)||this.show_contextmenu(c.currentTarget,c.pageX,c.pageY,c)},this)).on("click.jstree",".jstree-anchor",H.proxy(function(e){this._data.contextmenu.visible&&(!d||+new Date-d>250)&&H.vakata.context.hide(),d=0},this)).on("touchstart.jstree",".jstree-anchor",function(c){c.originalEvent&&c.originalEvent.changedTouches&&c.originalEvent.changedTouches[0]&&(h=c.pageX,g=c.pageY,i=setTimeout(function(){H(c.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(c){i&&c.originalEvent&&c.originalEvent.changedTouches&&c.originalEvent.changedTouches[0]&&(Math.abs(h-c.pageX)>50||Math.abs(g-c.pageY)>50)&&clearTimeout(i)}).on("touchend.vakata.jstree",function(c){i&&clearTimeout(i)}),H(z).on("context_hide.vakata.jstree",H.proxy(function(){this._data.contextmenu.visible=!1},this))},this.teardown=function(){this._data.contextmenu.visible&&H.vakata.context.hide(),a.teardown.call(this)},this.show_contextmenu=function(K,J,I,q){if(K=this.get_node(K),!K||K.id===H.jstree.root){return !1}var p=this.settings.contextmenu,o=this.get_node(K,!0),n=o.children(".jstree-anchor"),m=!1,l=!1;(p.show_at_node||J===G||I===G)&&(m=n.offset(),J=m.left,I=m.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(K)&&this.activate_node(K,q),l=p.items,H.isFunction(l)&&(l=l.call(this,K,H.proxy(function(c){this._show_contextmenu(K,J,I,c)},this))),H.isPlainObject(l)&&this._show_contextmenu(K,J,I,l)},this._show_contextmenu=function(h,m,l,k){var j=this.get_node(h,!0),i=j.children(".jstree-anchor");H(z).one("context_show.vakata.jstree",H.proxy(function(e,g){var f="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";H(g.element).addClass(f)},this)),this._data.contextmenu.visible=!0,H.vakata.context.show(i,{x:m,y:l},k),this.trigger("show_contextmenu",{node:h,x:m,y:l})}},function(e){var d=!1,f={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(a){e(z).triggerHandler("context_"+a+".vakata",{reference:f.reference,element:f.element,position:{x:f.position_x,y:f.position_y}})},_execute:function(a){return a=f.items[a],a&&(!a._disabled||e.isFunction(a._disabled)&&!a._disabled({item:a,reference:f.reference,element:f.element}))&&a.action?a.action.call(null,{item:a,reference:f.reference,element:f.element,position:{x:f.position_x,y:f.position_y}}):!1},_parse:function(a,j){if(!a){return !1}j||(f.html="",f.items=[]);var i="",h=!1,c;return j&&(i+="<ul>"),e.each(a,function(g,k){return k?(f.items.push(k),!h&&k.separator_before&&(i+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),h=!1,i+="<li class='"+(k._class||"")+(k._disabled===!0||e.isFunction(k._disabled)&&k._disabled({item:k,reference:f.reference,element:f.element})?" vakata-contextmenu-disabled ":"")+"' "+(k.shortcut?" data-shortcut='"+k.shortcut+"' ":"")+">",i+="<a href='#' rel='"+(f.items.length-1)+"'>",e.vakata.context.settings.icons&&(i+="<i ",k.icon&&(i+=-1!==k.icon.indexOf("/")||-1!==k.icon.indexOf(".")?" style='background:url(\""+k.icon+"\") center center no-repeat' ":" class='"+k.icon+"' "),i+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),i+=(e.isFunction(k.label)?k.label({item:g,reference:f.reference,element:f.element}):k.label)+(k.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+k.shortcut+'">'+(k.shortcut_label||"")+"</span>":"")+"</a>",k.submenu&&(c=e.vakata.context._parse(k.submenu,!0),c&&(i+=c)),i+="</li>",void (k.separator_after&&(i+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",h=!0))):!0}),i=i.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),j&&(i+="</ul>"),j||(f.html=i,e.vakata.context._trigger("parse")),i.length>10?i:!1},_show_submenu:function(p){if(p=e(p),p.length&&p.children("ul").length){var o=p.children("ul"),n=p.offset().left+p.outerWidth(),m=p.offset().top,l=o.width(),k=o.height(),b=e(window).width()+e(window).scrollLeft(),a=e(window).height()+e(window).scrollTop();d?p[n-(l+10+p.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):p[n+l+10>b?"addClass":"removeClass"]("vakata-context-right"),m+k+10>a&&o.css("bottom","-1px"),o.show()}},show:function(O,N,M){var L,K,J,I,q,p,c,b,a=!0;switch(f.element&&f.element.length&&f.element.width(""),a){case !N&&!O:return !1;case !!N&&!!O:f.reference=O,f.position_x=N.x,f.position_y=N.y;break;case !N&&!!O:f.reference=O,L=O.offset(),f.position_x=L.left+O.outerHeight(),f.position_y=L.top;break;case !!N&&!O:f.position_x=N.x,f.position_y=N.y}O&&!M&&e(O).data("vakata_contextmenu")&&(M=e(O).data("vakata_contextmenu")),e.vakata.context._parse(M)&&f.element.html(f.html),f.items.length&&(f.element.appendTo("body"),K=f.element,J=f.position_x,I=f.position_y,q=K.width(),p=K.height(),c=e(window).width()+e(window).scrollLeft(),b=e(window).height()+e(window).scrollTop(),d&&(J-=K.outerWidth()-e(O).outerWidth(),J<e(window).scrollLeft()+20&&(J=e(window).scrollLeft()+20)),J+q+20>c&&(J=c-(q+20)),I+p+20>b&&(I=b-(p+20)),f.element.css({left:J,top:I}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),f.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){f.is_visible&&(f.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),f.is_visible=!1,e.vakata.context._trigger("hide"))}},e(function(){d="rtl"===e("body").css("direction");var a=!1;f.element=e("<ul class='vakata-context'></ul>"),f.element.on("mouseenter","li",function(c){c.stopImmediatePropagation(),e.contains(this,c.relatedTarget)||(a&&clearTimeout(a),f.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))}).on("mouseleave","li",function(c){e.contains(this,c.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(c){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(a=setTimeout(function(g){return function(){e.vakata.context.hide()}}(this),e.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(c){c.preventDefault(),e(this).blur().parent().hasClass("vakata-context-disabled")||e.vakata.context._execute(e(this).attr("rel"))===!1||e.vakata.context.hide()}).on("keydown","a",function(c){var g=null;switch(c.which){case 13:case 32:c.type="mouseup",c.preventDefault(),e(c.currentTarget).trigger(c);break;case 37:f.is_visible&&(f.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),c.stopImmediatePropagation(),c.preventDefault());break;case 38:f.is_visible&&(g=f.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),g.length||(g=f.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),g.addClass("vakata-context-hover").children("a").focus(),c.stopImmediatePropagation(),c.preventDefault());break;case 39:f.is_visible&&(f.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),c.stopImmediatePropagation(),c.preventDefault());break;case 40:f.is_visible&&(g=f.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),g.length||(g=f.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),g.addClass("vakata-context-hover").children("a").focus(),c.stopImmediatePropagation(),c.preventDefault());break;case 27:e.vakata.context.hide(),c.preventDefault()}}).on("keydown",function(g){g.preventDefault();var c=f.element.find(".vakata-contextmenu-shortcut-"+g.which).parent();c.parent().not(".vakata-context-disabled")&&c.click()}),e(z).on("mousedown.vakata.jstree",function(c){f.is_visible&&!e.contains(f.element[0],c.target)&&e.vakata.context.hide()}).on("context_show.vakata.jstree",function(b,c){f.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),d&&f.element.addClass("vakata-context-rtl").css("direction","rtl"),f.element.find("ul").hide().end()})})}(H),H.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1},H.jstree.plugins.dnd=function(a,d){this.bind=function(){d.bind.call(this),this.element.on("mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",H.proxy(function(f){if(this.settings.dnd.large_drag_target&&H(f.target).closest(".jstree-node")[0]!==f.currentTarget){return !0}if("touchstart"===f.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!H(f.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked"))){return !0}var i=this.get_node(f.target),h=this.is_selected(i)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,g=h>1?h+" "+this.get_string("nodes"):this.get_text(f.currentTarget);return this.settings.core.force_text&&(g=H.vakata.html.escape(g)),i&&i.id&&i.id!==H.jstree.root&&(1===f.which||"touchstart"===f.type)&&(this.settings.dnd.is_draggable===!0||H.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,h>1?this.get_top_selected(!0):[i],f))?(this.element.trigger("mousedown.jstree"),H.vakata.dnd.start(f,{jstree:!0,origin:this,obj:this.get_node(i,!0),nodes:h>1?this.get_top_selected():[i.id]},'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+g+'<ins class="jstree-copy" style="display:none;">+</ins></div>')):void 0},this))}},H(function(){var a=!1,j=!1,i=!1,h=!1,g=H('<div id="jstree-marker">&#160;</div>').hide();H(z).on("dnd_start.vakata.jstree",function(b,d){a=!1,i=!1,d&&d.data&&d.data.jstree&&g.appendTo("body")}).on("dnd_move.vakata.jstree",function(X,W){if(h&&clearTimeout(h),W&&W.data&&W.data.jstree&&(!W.event.target.id||"jstree-marker"!==W.event.target.id)){i=W.event;var V=H.jstree.reference(W.event.target),U=!1,T=!1,S=!1,R,Q,P,O,M,L,K,J,I,f,e,d,c,b,N;if(V&&V._data&&V._data.dnd){if(g.attr("class","jstree-"+V.get_theme()+(V.settings.core.themes.responsive?" jstree-dnd-responsive":"")),W.helper.children().attr("class","jstree-"+V.get_theme()+" jstree-"+V.get_theme()+"-"+V.get_theme_variant()+" "+(V.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[W.data.origin&&(W.data.origin.settings.dnd.always_copy||W.data.origin.settings.dnd.copy&&(W.event.metaKey||W.event.ctrlKey))?"show":"hide"](),W.event.target!==V.element[0]&&W.event.target!==V.get_container_ul()[0]||0!==V.get_container_ul().children().length){if(U=V.settings.dnd.large_drop_target?H(W.event.target).closest(".jstree-node").children(".jstree-anchor"):H(W.event.target).closest(".jstree-anchor"),U&&U.length&&U.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(T=U.offset(),S=W.event.pageY-T.top,O=U.outerHeight(),K=O/3>S?["b","i","a"]:S>O-O/3?["a","i","b"]:S>O/2?["i","a","b"]:["i","b","a"],H.each(K,function(l,k){switch(k){case"b":Q=T.left-6,P=T.top,M=V.get_parent(U),L=U.parent().index();break;case"i":b=V.settings.dnd.inside_pos,N=V.get_node(U.parent()),Q=T.left-2,P=T.top+O/2+1,M=N.id,L="first"===b?0:"last"===b?N.children.length:Math.min(b,N.children.length);break;case"a":Q=T.left-6,P=T.top+O,M=V.get_parent(U),L=U.parent().index()+1}for(J=!0,I=0,f=W.data.nodes.length;f>I;I++){if(e=W.data.origin&&(W.data.origin.settings.dnd.always_copy||W.data.origin.settings.dnd.copy&&(W.event.metaKey||W.event.ctrlKey))?"copy_node":"move_node",d=L,"move_node"===e&&"a"===k&&W.data.origin&&W.data.origin===V&&M===V.get_parent(W.data.nodes[I])&&(c=V.get_node(M),d>H.inArray(W.data.nodes[I],c.children)&&(d-=1)),J=J&&(V&&V.settings&&V.settings.dnd&&V.settings.dnd.check_while_dragging===!1||V.check(e,W.data.origin&&W.data.origin!==V?W.data.origin.get_node(W.data.nodes[I]):W.data.nodes[I],M,d,{dnd:!0,ref:V.get_node(U.parent()),pos:k,origin:W.data.origin,is_multi:W.data.origin&&W.data.origin!==V,is_foreign:!W.data.origin})),!J){V&&V.last_error&&(j=V.last_error());break}}return"i"===k&&U.parent().is(".jstree-closed")&&V.settings.dnd.open_timeout&&(h=setTimeout(function(n,m){return function(){n.open_node(m)}}(V,U),V.settings.dnd.open_timeout)),J?(a={ins:V,par:M,pos:"i"!==k||"last"!==b||0!==L||V.is_loaded(N)?L:"last"},g.css({left:Q+"px",top:P+"px"}).show(),W.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),j={},K=!0,!1):void 0}),K===!0)){return}}else{for(J=!0,I=0,f=W.data.nodes.length;f>I;I++){if(J=J&&V.check(W.data.origin&&(W.data.origin.settings.dnd.always_copy||W.data.origin.settings.dnd.copy&&(W.event.metaKey||W.event.ctrlKey))?"copy_node":"move_node",W.data.origin&&W.data.origin!==V?W.data.origin.get_node(W.data.nodes[I]):W.data.nodes[I],H.jstree.root,"last",{dnd:!0,ref:V.get_node(H.jstree.root),pos:"i",origin:W.data.origin,is_multi:W.data.origin&&W.data.origin!==V,is_foreign:!W.data.origin}),!J){break}}if(J){return a={ins:V,par:H.jstree.root,pos:"last"},g.hide(),void W.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok")}}}a=!1,W.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),g.hide()}}).on("dnd_scroll.vakata.jstree",function(b,d){d&&d.data&&d.data.jstree&&(g.hide(),a=!1,i=!1,d.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(f,e){if(h&&clearTimeout(h),e&&e.data&&e.data.jstree){g.hide().detach();var d,c,b=[];if(a){for(d=0,c=e.data.nodes.length;c>d;d++){b[d]=e.data.origin?e.data.origin.get_node(e.data.nodes[d]):e.data.nodes[d]}a.ins[e.data.origin&&(e.data.origin.settings.dnd.always_copy||e.data.origin.settings.dnd.copy&&(e.event.metaKey||e.event.ctrlKey))?"copy_node":"move_node"](b,a.par,a.pos,!1,!1,!1,e.data.origin)}else{d=H(e.event.target).closest(".jstree"),d.length&&j&&j.error&&"check"===j.error&&(d=d.jstree(!0),d&&d.settings.core.error.call(this,j))}i=!1,a=!1}}).on("keyup.jstree keydown.jstree",function(d,e){e=H.vakata.dnd._get(),e&&e.data&&e.data.jstree&&(e.helper.find(".jstree-copy").first()[e.data.origin&&(e.data.origin.settings.dnd.always_copy||e.data.origin.settings.dnd.copy&&(d.metaKey||d.ctrlKey))?"show":"hide"](),i&&(i.metaKey=d.metaKey,i.ctrlKey=d.ctrlKey,H.vakata.dnd._trigger("move",i)))})}),function(d){d.vakata.html={div:d("<div />"),escape:function(a){return d.vakata.html.div.text(a).html()},strip:function(a){return d.vakata.html.div.empty().append(d.parseHTML(a)).text()}};var c={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};d.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:50},_trigger:function(a,f){var e=d.vakata.dnd._get();e.event=f,d(z).triggerHandler("dnd_"+a+".vakata",e)},_get:function(){return{data:c.data,element:c.element,helper:c.helper}},_clean:function(){c.helper&&c.helper.remove(),c.scroll_i&&(clearInterval(c.scroll_i),c.scroll_i=!1),c={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},d(z).off("mousemove.vakata.jstree touchmove.vakata.jstree",d.vakata.dnd.drag),d(z).off("mouseup.vakata.jstree touchend.vakata.jstree",d.vakata.dnd.stop)},_scroll:function(f){if(!c.scroll_e||!c.scroll_l&&!c.scroll_t){return c.scroll_i&&(clearInterval(c.scroll_i),c.scroll_i=!1),!1}if(!c.scroll_i){return c.scroll_i=setInterval(d.vakata.dnd._scroll,100),!1}if(f===!0){return !1}var b=c.scroll_e.scrollTop(),a=c.scroll_e.scrollLeft();c.scroll_e.scrollTop(b+c.scroll_t*d.vakata.dnd.settings.scroll_speed),c.scroll_e.scrollLeft(a+c.scroll_l*d.vakata.dnd.settings.scroll_speed),(b!==c.scroll_e.scrollTop()||a!==c.scroll_e.scrollLeft())&&d.vakata.dnd._trigger("scroll",c.scroll_e)},start:function(h,g,b){"touchstart"===h.type&&h.originalEvent&&h.originalEvent.changedTouches&&h.originalEvent.changedTouches[0]&&(h.pageX=h.originalEvent.changedTouches[0].pageX,h.pageY=h.originalEvent.changedTouches[0].pageY,h.target=z.elementFromPoint(h.originalEvent.changedTouches[0].pageX-window.pageXOffset,h.originalEvent.changedTouches[0].pageY-window.pageYOffset)),c.is_drag&&d.vakata.dnd.stop({});try{h.currentTarget.unselectable="on",h.currentTarget.onselectstart=function(){return !1},h.currentTarget.style&&(h.currentTarget.style.MozUserSelect="none")}catch(a){}return c.init_x=h.pageX,c.init_y=h.pageY,c.data=g,c.is_down=!0,c.element=h.currentTarget,c.target=h.target,c.is_touch="touchstart"===h.type,b!==!1&&(c.helper=d("<div id='vakata-dnd'></div>").html(b).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),d(z).on("mousemove.vakata.jstree touchmove.vakata.jstree",d.vakata.dnd.drag),d(z).on("mouseup.vakata.jstree touchend.vakata.jstree",d.vakata.dnd.stop),!1},drag:function(M){if("touchmove"===M.type&&M.originalEvent&&M.originalEvent.changedTouches&&M.originalEvent.changedTouches[0]&&(M.pageX=M.originalEvent.changedTouches[0].pageX,M.pageY=M.originalEvent.changedTouches[0].pageY,M.target=z.elementFromPoint(M.originalEvent.changedTouches[0].pageX-window.pageXOffset,M.originalEvent.changedTouches[0].pageY-window.pageYOffset)),c.is_down){if(!c.is_drag){if(!(Math.abs(M.pageX-c.init_x)>(c.is_touch?d.vakata.dnd.settings.threshold_touch:d.vakata.dnd.settings.threshold)||Math.abs(M.pageY-c.init_y)>(c.is_touch?d.vakata.dnd.settings.threshold_touch:d.vakata.dnd.settings.threshold))){return}c.helper&&(c.helper.appendTo("body"),c.helper_w=c.helper.outerWidth()),c.is_drag=!0,d.vakata.dnd._trigger("start",M)}var L=!1,K=!1,J=!1,I=!1,q=!1,p=!1,o=!1,i=!1,b=!1,a=!1;return c.scroll_t=0,c.scroll_l=0,c.scroll_e=!1,d(d(M.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(d(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var g=d(this),f=g.offset();return this.scrollHeight>this.offsetHeight&&(f.top+g.height()-M.pageY<d.vakata.dnd.settings.scroll_proximity&&(c.scroll_t=1),M.pageY-f.top<d.vakata.dnd.settings.scroll_proximity&&(c.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(f.left+g.width()-M.pageX<d.vakata.dnd.settings.scroll_proximity&&(c.scroll_l=1),M.pageX-f.left<d.vakata.dnd.settings.scroll_proximity&&(c.scroll_l=-1)),c.scroll_t||c.scroll_l?(c.scroll_e=d(this),!1):void 0}),c.scroll_e||(L=d(z),K=d(window),J=L.height(),I=K.height(),q=L.width(),p=K.width(),o=L.scrollTop(),i=L.scrollLeft(),J>I&&M.pageY-o<d.vakata.dnd.settings.scroll_proximity&&(c.scroll_t=-1),J>I&&I-(M.pageY-o)<d.vakata.dnd.settings.scroll_proximity&&(c.scroll_t=1),q>p&&M.pageX-i<d.vakata.dnd.settings.scroll_proximity&&(c.scroll_l=-1),q>p&&p-(M.pageX-i)<d.vakata.dnd.settings.scroll_proximity&&(c.scroll_l=1),(c.scroll_t||c.scroll_l)&&(c.scroll_e=L)),c.scroll_e&&d.vakata.dnd._scroll(!0),c.helper&&(b=parseInt(M.pageY+d.vakata.dnd.settings.helper_top,10),a=parseInt(M.pageX+d.vakata.dnd.settings.helper_left,10),J&&b+25>J&&(b=J-50),q&&a+c.helper_w>q&&(a=q-(c.helper_w+2)),c.helper.css({left:a+"px",top:b+"px"})),d.vakata.dnd._trigger("move",M),!1}},stop:function(b){if("touchend"===b.type&&b.originalEvent&&b.originalEvent.changedTouches&&b.originalEvent.changedTouches[0]&&(b.pageX=b.originalEvent.changedTouches[0].pageX,b.pageY=b.originalEvent.changedTouches[0].pageY,b.target=z.elementFromPoint(b.originalEvent.changedTouches[0].pageX-window.pageXOffset,b.originalEvent.changedTouches[0].pageY-window.pageYOffset)),c.is_drag){d.vakata.dnd._trigger("stop",b)}else{if("touchend"===b.type&&b.target===c.target){var a=setTimeout(function(){d(b.target).click()},100);d(b.target).one("click",function(){a&&clearTimeout(a)})}}return d.vakata.dnd._clean(),!1}}}(H),H.jstree.defaults.massload=null,H.jstree.plugins.massload=function(a,d){this.init=function(e,c){d.init.call(this,e,c),this._data.massload={}},this._load_nodes=function(c,i,h){var g=this.settings.massload;return h&&!H.isEmptyObject(this._data.massload)?d._load_nodes.call(this,c,i,h):H.isFunction(g)?g.call(this,c,H.proxy(function(b){if(b){for(var e in b){b.hasOwnProperty(e)&&(this._data.massload[e]=b[e])}}d._load_nodes.call(this,c,i,h)},this)):"object"==typeof g&&g&&g.url?(g=H.extend(!0,{},g),H.isFunction(g.url)&&(g.url=g.url.call(this,c)),H.isFunction(g.data)&&(g.data=g.data.call(this,c)),H.ajax(g).done(H.proxy(function(b,k,j){if(b){for(var e in b){b.hasOwnProperty(e)&&(this._data.massload[e]=b[e])}}d._load_nodes.call(this,c,i,h)},this)).fail(H.proxy(function(b){d._load_nodes.call(this,c,i,h)},this))):d._load_nodes.call(this,c,i,h)},this._load_node=function(c,g){var f=this._data.massload[c.id];return f?this["string"==typeof f?"_append_html_data":"_append_json_data"](c,"string"==typeof f?H(H.parseHTML(f)).filter(function(){return 3!==this.nodeType}):f,function(b){g.call(this,b),delete this._data.massload[c.id]}):d._load_node.call(this,c,g)}},H.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},H.jstree.plugins.search=function(b,a){this.bind=function(){a.bind.call(this),this._data.search.str="",this._data.search.dom=H(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",H.proxy(function(h,m){if(this._data.search.som&&m.res.length){var l=this._model.data,k,j,i=[];for(k=0,j=m.res.length;j>k;k++){l[m.res[k]]&&!l[m.res[k]].state.hidden&&(i.push(m.res[k]),i=i.concat(l[m.res[k]].parents),this._data.search.smc&&(i=i.concat(l[m.res[k]].children_d)))}i=H.vakata.array_remove_item(H.vakata.array_unique(i),H.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(i)}},this)).on("clear_search.jstree",H.proxy(function(d,c){this._data.search.som&&c.res.length&&this.show_node(this._data.search.hdn)},this))},this.search=function(U,T,S,R,Q,P){if(U===!1||""===H.trim(U.toString())){return this.clear_search()}R=this.get_node(R),R=R&&R.id?R.id:null,U=U.toString();var O=this.settings.search,N=O.ajax?O.ajax:!1,M=this._model.data,L=null,K=[],J=[],I,q;if(this._data.search.res.length&&!Q&&this.clear_search(),S===G&&(S=O.show_only_matches),P===G&&(P=O.show_only_matches_children),!T&&N!==!1){return H.isFunction(N)?N.call(this,U,H.proxy(function(c){c&&c.d&&(c=c.d),this._load_nodes(H.isArray(c)?H.vakata.array_unique(c):[],function(){this.search(U,!0,S,R,Q)},!0)},this),R):(N=H.extend({},N),N.data||(N.data={}),N.data.str=U,R&&(N.data.inside=R),H.ajax(N).fail(H.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(N)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(H.proxy(function(c){c&&c.d&&(c=c.d),this._load_nodes(H.isArray(c)?H.vakata.array_unique(c):[],function(){this.search(U,!0,S,R,Q)},!0)},this)))}if(Q||(this._data.search.str=U,this._data.search.dom=H(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=S,this._data.search.smc=P),L=new H.vakata.search(U,!0,{caseSensitive:O.case_sensitive,fuzzy:O.fuzzy}),H.each(M[R?R:H.jstree.root].children_d,function(e,c){var f=M[c];f.text&&(!O.search_leaves_only||f.state.loaded&&0===f.children.length)&&(O.search_callback&&O.search_callback.call(this,U,f)||!O.search_callback&&L.search(f.text).isMatch)&&(K.push(c),J=J.concat(f.parents))}),K.length){for(J=H.vakata.array_unique(J),I=0,q=J.length;q>I;I++){J[I]!==H.jstree.root&&M[J[I]]&&this.open_node(J[I],null,0)===!0&&this._data.search.opn.push(J[I])}Q?(this._data.search.dom=this._data.search.dom.add(H(this.element[0].querySelectorAll("#"+H.map(K,function(c){return -1!=="0123456789".indexOf(c[0])?"\\3"+c[0]+" "+c.substr(1).replace(H.jstree.idregex,"\\$&"):c.replace(H.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=H.vakata.array_unique(this._data.search.res.concat(K))):(this._data.search.dom=H(this.element[0].querySelectorAll("#"+H.map(K,function(c){return -1!=="0123456789".indexOf(c[0])?"\\3"+c[0]+" "+c.substr(1).replace(H.jstree.idregex,"\\$&"):c.replace(H.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=K),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:U,res:this._data.search.res,show_only_matches:S})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=H(this.element[0].querySelectorAll("#"+H.map(this._data.search.res,function(c){return -1!=="0123456789".indexOf(c[0])?"\\3"+c[0]+" "+c.substr(1).replace(H.jstree.idregex,"\\$&"):c.replace(H.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=H()},this.redraw_node=function(d,o,n,m){if(d=a.redraw_node.apply(this,arguments),d&&-1!==H.inArray(d.id,this._data.search.res)){var l,k,j=null;for(l=0,k=d.childNodes.length;k>l;l++){if(d.childNodes[l]&&d.childNodes[l].className&&-1!==d.childNodes[l].className.indexOf("jstree-anchor")){j=d.childNodes[l];break}}j&&(j.className+=" jstree-search")}return d}},function(b){b.vakata.search=function(M,L,K){K=K||{},K=b.extend({},b.vakata.search.defaults,K),K.fuzzy!==!1&&(K.fuzzy=!0),M=K.caseSensitive?M:M.toLowerCase();var J=K.location,I=K.distance,q=K.threshold,p=M.length,o,n,m,a;return p>32&&(K.fuzzy=!1),K.fuzzy&&(o=1<<p-1,n=function(){var d={},e=0;for(e=0;p>e;e++){d[M.charAt(e)]=0}for(e=0;p>e;e++){d[M.charAt(e)]|=1<<p-e-1}return d}(),m=function(f,e){var h=f/p,g=Math.abs(J-e);return I?h+g/I:g?1:h}),a=function(Q){if(Q=K.caseSensitive?Q:Q.toLowerCase(),M===Q||-1!==Q.indexOf(M)){return{isMatch:!0,score:0}}if(!K.fuzzy){return{isMatch:!1,score:1}}var O,N,k=Q.length,j=q,i=Q.indexOf(M,J),h,g,e=p+k,d,V,U,T,S,R=1,P=[];for(-1!==i&&(j=Math.min(m(0,i),j),i=Q.lastIndexOf(M,J+p),-1!==i&&(j=Math.min(m(0,i),j))),i=-1,O=0;p>O;O++){h=0,g=e;while(g>h){m(O,J+g)<=j?h=g:e=g,g=Math.floor((e-h)/2+h)}for(e=g,V=Math.max(1,J-g+1),U=Math.min(J+g,k)+p,T=new Array(U+2),T[U+1]=(1<<O)-1,N=U;N>=V;N--){if(S=n[Q.charAt(N-1)],0===O?T[N]=(T[N+1]<<1|1)&S:T[N]=(T[N+1]<<1|1)&S|((d[N+1]|d[N])<<1|1)|d[N+1],T[N]&o&&(R=m(O,N-1),j>=R)){if(j=R,i=N-1,P.push(i),!(i>J)){break}V=Math.max(1,2*J-i)}}if(m(O+1,J)>j){break}d=T}return{isMatch:i>=0,score:R}},L===!0?{search:a}:a(L)},b.vakata.search.defaults={location:0,distance:100,threshold:0.6,fuzzy:!1,caseSensitive:!1}}(H),H.jstree.defaults.sort=function(d,c){return this.get_text(d)>this.get_text(c)?1:-1},H.jstree.plugins.sort=function(a,d){this.bind=function(){d.bind.call(this),this.element.on("model.jstree",H.proxy(function(e,c){this.sort(c.parent,!0)},this)).on("rename_node.jstree create_node.jstree",H.proxy(function(e,c){this.sort(c.parent||c.node.parent,!1),this.redraw_node(c.parent||c.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",H.proxy(function(e,c){this.sort(c.parent,!1),this.redraw_node(c.parent,!0)},this))},this.sort=function(f,i){var h,g;if(f=this.get_node(f),f&&f.children&&f.children.length&&(f.children.sort(H.proxy(this.settings.sort,this)),i)){for(h=0,g=f.children_d.length;g>h;h++){this.sort(f.children_d[h],!1)}}}};var u=!1;H.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1},H.jstree.plugins.state=function(a,d){this.bind=function(){d.bind.call(this);var c=H.proxy(function(){this.element.on(this.settings.state.events,H.proxy(function(){u&&clearTimeout(u),u=setTimeout(H.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",H.proxy(function(b,e){this.element.one("restore_state.jstree",c),this.restore_state()||c()},this))},this.save_state=function(){var c={state:this.get_state(),ttl:this.settings.state.ttl,sec:+new Date};H.vakata.storage.set(this.settings.state.key,JSON.stringify(c))},this.restore_state=function(){var e=H.vakata.storage.get(this.settings.state.key);if(e){try{e=JSON.parse(e)}catch(f){return !1}}return e&&e.ttl&&e.sec&&+new Date-e.sec>e.ttl?!1:(e&&e.state&&(e=e.state),e&&H.isFunction(this.settings.state.filter)&&(e=this.settings.state.filter.call(this,e)),e?(this.element.one("set_state.jstree",function(g,b){b.instance.trigger("restore_state",{state:H.extend(!0,{},e)})}),this.set_state(e),!0):!1)},this.clear_state=function(){return H.vakata.storage.del(this.settings.state.key)}},function(d,c){d.vakata.storage={set:function(f,e){return window.localStorage.setItem(f,e)},get:function(b){return window.localStorage.getItem(b)},del:function(b){return window.localStorage.removeItem(b)}}}(H),H.jstree.defaults.types={"default":{}},H.jstree.defaults.types[H.jstree.root]={},H.jstree.plugins.types=function(b,a){this.init=function(j,i){var h,d;if(i&&i.types&&i.types["default"]){for(h in i.types){if("default"!==h&&h!==H.jstree.root&&i.types.hasOwnProperty(h)){for(d in i.types["default"]){i.types["default"].hasOwnProperty(d)&&i.types[h][d]===G&&(i.types[h][d]=i.types["default"][d])}}}}a.init.call(this,j,i),this._model.data[H.jstree.root].type=H.jstree.root},this.refresh=function(d,e){a.refresh.call(this,d,e),this._model.data[H.jstree.root].type=H.jstree.root},this.bind=function(){this.element.on("model.jstree",H.proxy(function(I,q){var p=this._model.data,o=q.nodes,n=this.settings.types,m,l,k="default";for(m=0,l=o.length;l>m;m++){k="default",p[o[m]].original&&p[o[m]].original.type&&n[p[o[m]].original.type]&&(k=p[o[m]].original.type),p[o[m]].data&&p[o[m]].data.jstree&&p[o[m]].data.jstree.type&&n[p[o[m]].data.jstree.type]&&(k=p[o[m]].data.jstree.type),p[o[m]].type=k,p[o[m]].icon===!0&&n[k].icon!==G&&(p[o[m]].icon=n[k].icon)}p[H.jstree.root].type=H.jstree.root},this)),a.bind.call(this)},this.get_json=function(d,q,p){var o,n,m=this._model.data,l=q?H.extend(!0,{},q,{no_id:!1}):{},k=a.get_json.call(this,d,l,p);if(k===!1){return !1}if(H.isArray(k)){for(o=0,n=k.length;n>o;o++){k[o].type=k[o].id&&m[k[o].id]&&m[k[o].id].type?m[k[o].id].type:"default",q&&q.no_id&&(delete k[o].id,k[o].li_attr&&k[o].li_attr.id&&delete k[o].li_attr.id,k[o].a_attr&&k[o].a_attr.id&&delete k[o].a_attr.id)}}else{k.type=k.id&&m[k.id]&&m[k.id].type?m[k.id].type:"default",q&&q.no_id&&(k=this._delete_ids(k))}return k},this._delete_ids=function(e){if(H.isArray(e)){for(var g=0,f=e.length;f>g;g++){e[g]=this._delete_ids(e[g])}return e}return delete e.id,e.li_attr&&e.li_attr.id&&delete e.li_attr.id,e.a_attr&&e.a_attr.id&&delete e.a_attr.id,e.children&&H.isArray(e.children)&&(e.children=this._delete_ids(e.children)),e},this.check=function(M,L,K,J,I){if(a.check.call(this,M,L,K,J,I)===!1){return !1}L=L&&L.id?L:this.get_node(L),K=K&&K.id?K:this.get_node(K);var q=L&&L.id?I&&I.origin?I.origin:H.jstree.reference(L.id):null,p,o,n,d;switch(q=q&&q._model&&q._model.data?q._model.data:null,M){case"create_node":case"move_node":case"copy_node":if("move_node"!==M||-1===H.inArray(L.id,K.children)){if(p=this.get_rules(K),p.max_children!==G&&-1!==p.max_children&&p.max_children===K.children.length){return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+M,data:JSON.stringify({chk:M,pos:J,obj:L&&L.id?L.id:!1,par:K&&K.id?K.id:!1})},!1}if(p.valid_children!==G&&-1!==p.valid_children&&-1===H.inArray(L.type||"default",p.valid_children)){return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+M,data:JSON.stringify({chk:M,pos:J,obj:L&&L.id?L.id:!1,par:K&&K.id?K.id:!1})},!1}if(q&&L.children_d&&L.parents){for(o=0,n=0,d=L.children_d.length;d>n;n++){o=Math.max(o,q[L.children_d[n]].parents.length)}o=o-L.parents.length+1}(0>=o||o===G)&&(o=1);do{if(p.max_depth!==G&&-1!==p.max_depth&&p.max_depth<o){return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+M,data:JSON.stringify({chk:M,pos:J,obj:L&&L.id?L.id:!1,par:K&&K.id?K.id:!1})},!1}K=this.get_node(K.parent),p=this.get_rules(K),o++}while(K)}}return !0},this.get_rules=function(d){if(d=this.get_node(d),!d){return !1}var e=this.get_type(d,!0);return e.max_depth===G&&(e.max_depth=-1),e.max_children===G&&(e.max_children=-1),e.valid_children===G&&(e.valid_children=-1),e},this.get_type=function(d,e){return d=this.get_node(d),d?e?H.extend({type:d.type},this.settings.types[d.type]):d.type:!1},this.set_type=function(p,o){var n,m,l,k,j;if(H.isArray(p)){for(p=p.slice(),m=0,l=p.length;l>m;m++){this.set_type(p[m],o)}return !0}return n=this.settings.types,p=this.get_node(p),n[o]&&p?(k=p.type,j=this.get_icon(p),p.type=o,(j===!0||n[k]&&n[k].icon!==G&&j===n[k].icon)&&this.set_icon(p,n[o].icon!==G?n[o].icon:!0),!0):!1}},H.jstree.defaults.unique={case_sensitive:!1,duplicate:function(d,c){return d+" ("+c+")"}},H.jstree.plugins.unique=function(b,a){this.check=function(N,M,L,K,J){if(a.check.call(this,N,M,L,K,J)===!1){return !1}if(M=M&&M.id?M:this.get_node(M),L=L&&L.id?L:this.get_node(L),!L||!L.children){return !0}var I="rename_node"===N?K:M.text,q=[],p=this.settings.unique.case_sensitive,o=this._model.data,n,d;for(n=0,d=L.children.length;d>n;n++){q.push(p?o[L.children[n]].text:o[L.children[n]].text.toLowerCase())}switch(p||(I=I.toLowerCase()),N){case"delete_node":return !0;case"rename_node":return n=-1===H.inArray(I,q)||M.text&&M.text[p?"toString":"toLowerCase"]()===I,n||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+I+" already exists. Preventing: "+N,data:JSON.stringify({chk:N,pos:K,obj:M&&M.id?M.id:!1,par:L&&L.id?L.id:!1})}),n;case"create_node":return n=-1===H.inArray(I,q),n||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+I+" already exists. Preventing: "+N,data:JSON.stringify({chk:N,pos:K,obj:M&&M.id?M.id:!1,par:L&&L.id?L.id:!1})}),n;case"copy_node":return n=-1===H.inArray(I,q),n||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+I+" already exists. Preventing: "+N,data:JSON.stringify({chk:N,pos:K,obj:M&&M.id?M.id:!1,par:L&&L.id?L.id:!1})}),n;case"move_node":return n=M.parent===L.id&&(!J||!J.is_multi)||-1===H.inArray(I,q),n||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+I+" already exists. Preventing: "+N,data:JSON.stringify({chk:N,pos:K,obj:M&&M.id?M.id:!1,par:L&&L.id?L.id:!1})}),n}return !0},this.create_node=function(S,R,Q,P,O){if(!R||R.text===G){if(null===S&&(S=H.jstree.root),S=this.get_node(S),!S){return a.create_node.call(this,S,R,Q,P,O)}if(Q=Q===G?"last":Q,!Q.toString().match(/^(before|after)$/)&&!O&&!this.is_loaded(S)){return a.create_node.call(this,S,R,Q,P,O)}R||(R={});var N,M,L,K,J,I=this._model.data,q=this.settings.unique.case_sensitive,d=this.settings.unique.duplicate;for(M=N=this.get_string("New node"),L=[],K=0,J=S.children.length;J>K;K++){L.push(q?I[S.children[K]].text:I[S.children[K]].text.toLowerCase())}K=1;while(-1!==H.inArray(q?M:M.toLowerCase(),L)){M=d.call(this,N,++K).toString()}R.text=M}return a.create_node.call(this,S,R,Q,P,O)}};var t=z.createElement("DIV");if(t.setAttribute("unselectable","on"),t.setAttribute("role","presentation"),t.className="jstree-wholerow",t.innerHTML="&#160;",H.jstree.plugins.wholerow=function(a,d){this.bind=function(){d.bind.call(this),this.element.on("ready.jstree set_state.jstree",H.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",H.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",H.proxy(function(e,c){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",H.proxy(function(g,f){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var j=!1,i,h;for(i=0,h=f.selected.length;h>i;i++){j=this.get_node(f.selected[i],!0),j&&j.length&&j.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}},this)).on("open_node.jstree",H.proxy(function(e,c){this.get_node(c.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",H.proxy(function(e,c){"hover_node"===e.type&&this.is_disabled(c.node)||this.get_node(c.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",H.proxy(function(e){e.preventDefault();var f=H.Event("contextmenu",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,pageX:e.pageX,pageY:e.pageY});H(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(f)},this)).on("click.jstree",".jstree-wholerow",function(e){e.stopImmediatePropagation();var f=H.Event("click",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey});H(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(f).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",H.proxy(function(e){e.stopImmediatePropagation();var f=H.Event("click",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey});H(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(f).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",H.proxy(function(b){return b.stopImmediatePropagation(),this.is_disabled(b.currentTarget)||this.hover_node(b.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",H.proxy(function(b){this.dehover_node(b.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),d.teardown.call(this)},this.redraw_node=function(c,k,j,i){if(c=d.redraw_node.apply(this,arguments)){var h=t.cloneNode(!0);-1!==H.inArray(c.id,this._data.core.selected)&&(h.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===c.id&&(h.className+=" jstree-wholerow-hovered"),c.insertBefore(h,c.childNodes[0])}return c}},z.registerElement&&Object&&Object.create){var s=Object.create(HTMLElement.prototype);s.createdCallback=function(){var a={core:{},plugins:[]},d;for(d in H.jstree.plugins){H.jstree.plugins.hasOwnProperty(d)&&this.attributes[d]&&(a.plugins.push(d),this.getAttribute(d)&&JSON.parse(this.getAttribute(d))&&(a[d]=JSON.parse(this.getAttribute(d))))}for(d in H.jstree.defaults.core){H.jstree.defaults.core.hasOwnProperty(d)&&this.attributes[d]&&(a.core[d]=JSON.parse(this.getAttribute(d))||this.getAttribute(d))}H(this).jstree(a)};try{z.registerElement("vakata-jstree",{prototype:s})}catch(r){}}}});!function(f){function e(){var a=1,d=this;d.nodesFingerprint=function(b){return b.__uiNodeId||(b.__uiNodeId=a++),""+b.__uiNodeId+(b.id||"")+(b.text||"")+(b.type||"")},d.changeWatcher=function(i,o){var n,m=function(){var s,r,q=[];if(i){for(var p=f.isFunction(i)?i():i,c=0,b=p.length;b>c;c++){r=p[c],s=o(r),k[s]=r,q.push(s)}}return q},l=function(q,p){var u,t,s=[],r={};for(u=0,t=p.length;t>u;u++){r[p[u]]=!0}for(u=0,t=q.length;t>u;u++){r[q[u]]||s.push(q[u])}return s},k={},j=function(y,x){var w,v,u,t,s={},r=l(x,y);for(w=0,v=r.length;v>w;w++){var q=r[w];u=k[q],delete k[q];var p=o(u);p===q?n.onRemoved(u):(s[p]=q,n.onChanged(u))}var c=l(y,x);for(w=0,v=c.length;v>w;w++){t=c[w],u=k[t],s[t]||n.onAdded(u)}};return n={subscribe:function(p,c){p.$watch(m,function(b,q){c&&c(b,q)===!1||j(b,q)},!0)},onAdded:f.noop,onChanged:f.noop,onRemoved:f.noop}}}function h(){return{restrict:"A",scope:{treeData:"=ngModel",treeEventsObj:"=?treeEventsObj",shouldApply:"&"},controller:"jsTreeCtrl",link:function(r,q,p,o){function n(j,y,x){if(x.treeEvents){for(var w=x.treeEvents.split(";"),v=0;v<w.length;v++){if(w[v].length>0){var u=w[v].split(":")[0],t=u+".jstree",s=w[v].split(":")[1];j.tree.on(t,j.$parent.$eval(s))}}}else{f.isObject(j.treeEventsObj)&&f.forEach(j.treeEventsObj,function(b,z){var i=z+".jstree";j.tree.on(i,b)})}}function m(){var d=p.jsTree?r.$parent.$eval(p.jsTree):{};l={},f.copy(d,l);var b=JSON.stringify(l);return l.core?l.core.data=r.treeData:l.core={data:r.treeData},b}var l=null,k=o.changeWatcher(r.treeData,o.nodesFingerprint),a=!1;r.destroy=function(){if(p.tree){if(-1!==p.tree.indexOf(".")){for(var b=p.tree.split("."),i=b.pop(),d=r.$parent,c=0;c<b.length;c++){d=d[b[c]]}r.tree=d[i]=q}else{r.tree=r.$parent[p.tree]=q}}else{r.tree=q}r.tree.jstree("destroy")},r.init=function(){r.tree.jstree(l),n(r,q,p)},k.onChanged=function(b){f.isDefined(r.tree.jstree(!0).set_type)&&r.tree.jstree(!0).set_type(b.id,b.type),r.tree.jstree(!0).rename_node(b.id,b.text)},k.onAdded=function(b){for(;a;){}a=!0;var j=r.tree.jstree(!0).get_node(b.parent),i=r.tree.jstree(!0).create_node(j,b,"inside",function(){a=!1});i||(a=!1)},k.onRemoved=function(b){r.tree.jstree(!0).delete_node(b.id)},k.subscribe(r,function(){return r.shouldApply?r.shouldApply():!0}),r.$watch(m,function(){r.destroy(),r.init()})}}}var g=f.module("ngJsTree",[]);g.controller("jsTreeCtrl",e),g.directive("jsTree",h)}(angular);